<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:pe="http://primefaces.org/ui/extensions"
	xmlns:p="http://primefaces.org/ui" template="../templates/ui.xhtml">	

<ui:composition>
<h:form id="newmedactionPlan1" prependId="false">
<p:dialog id="addNewMedicinePopupID" widgetVar="addNewMedicinePopup" 
	resizable="true" header="#{msg.addNewMedicine}" appendTo="@(body)" modal="true"  height="150" width="567"
	  dynamic="true" closable="false" position="500,400">

<!-- <p:growl id="growl" showDetail="true" life="4000" />   -->
	<center>
	 <p:messages  id="messageUpdate" showDetail="false" style="color:#FF0000;margin:8px;" closable="true"   /> 
<h:outputText value="#{msg.thismedicine_patientactivemedicine}" styleClass="mandatoryField" rendered="#{patientMedicineManageBean.showMessageForNewAddMeds}"/>
		<table width="100%">
			<tr>
	<td><h:outputText value="#{msg.med}" /><h:outputText value="*" styleClass="mandatoryField"/></td>
	<td><p:inputText readonly="true" value="#{patientMedicineManageBean.patientMedicationData.drugs}" id="medicinename"  label="medicinename"  required="true" requiredMessage="Please insert medicine">
						 <p:ajax update="medicinename"></p:ajax>
					 <!-- readonly="true"  <p:ajax
							listener="#{patientMedicineManageBean.checkStartDateMedicine}"
							update="newmedactionPlan1">
					 </p:ajax>  -->
					</p:inputText> 
<p:commandButton value="#{msg.search}" actionListener="#{patientMedicineManageBean.searchMedicine}" update=":searchMedicinePopUp_Id" immediate="true"></p:commandButton>
				</td>
				<td>
				 <h:outputText value="#{msg.startDate}" />
				 <h:outputText value="*" styleClass="mandatoryField"/>	
				</td>
				<td>
			<p:calendar pattern="MM/dd/yyyy"  showOn="button" navigator="true" yearRange="c-100:c+1" id="startdateId"
					value="#{patientMedicineManageBean.patientMedicationData.startDate}" 
					onfocus="$('#queryForm\\:msgs > div').hide();$('#queryForm\\:msgs > div').eq(1).show();$(this).mask('99/99/9999');return false;" 
					required="true" requiredMessage="Please insert start date">
				<p:ajax update="startdateId"></p:ajax>
						</p:calendar>
				</td>
			</tr>
			</table>
			<br/>
			
			<table width="95%">
			<tr >
				<td >
						<p:commandButton value="#{msg.cancel}" action="#{patientMedicineManageBean.duplicatesubmitCancelButtonforoverviewfilter}" immediate="true" style="font-size: 2px;width:50px;"></p:commandButton>
						
						 &nbsp; &nbsp; 
						
						<p:commandButton  value="#{msg.quickPrescribe}" actionListener="#{patientMedicineManageBean.afterAddNewMedicineGoToMedActionPlan}" 
							  oncomplete="quickPrescribe.show();"  rendered="#{patientMedicineManageBean.showTabForAnticoagMeds}" style="font-size: 2px;"/>
						 &nbsp; &nbsp; 
						<!-- <p:ajax update=":accordingPanelID:planListId" process="@form"  ></p:ajax> -->
				
					<p:commandButton value="#{msg.sendToAnticoagClinic}" action="#{patientMedicineManageBean.sendToAnticoagTab}"  onclick="addNewMedicinePopup.hide();"
					
						rendered="#{patientMedicineManageBean.showTabForAnticoagMeds}"/>
				 &nbsp; &nbsp;
				
<p:commandButton value="#{msg.dosingGuidelineWizard}" action="#{patientMedicineManageBean.afterAddNewMedicine1}" 
		update=":warfarinheaderIdValue,:DabigatranHeader,:ApixabanHeader,:RivaroxabanHeader,:FondaparinuxHeader,:DesirudinHeader,:dalteparinHeader,:EnoxaparinHeader"
				rendered="#{patientMedicineManageBean.showTabForAnticoagMeds}"/>
&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;
&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;

<p:commandButton value="Next" action="#{patientMedicineManageBean.afterAddNewMedicine1}" update="messageUpdate,:generalMedicineHeader" disabled="#{patientMedicineManageBean.patientMedicationData.drugs.isEmpty()}"
	rendered="#{!patientMedicineManageBean.showTabForAnticoagMeds}" style="font-size: 2px;width:52px;"/>
				</td>
			</tr>

		</table>

	</center>
</p:dialog></h:form>
</ui:composition>
</html>