<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:pe="http://primefaces.org/ui/extensions"
	xmlns:p="http://primefaces.org/ui" template="../templates/ui.xhtml">
	

<h:body styleClass="mypanel"  onload="#{dashBoardManageBean.setPMIndex()}">
	<f:view contentType="text/html">
		<h:head>
			<f:facet name="first">
				<meta http-equiv="X-UA-Compatible" content="EmulateIE8" />
				<meta content='text/html; charset=UTF-8' http-equiv="Content-Type" />
				<title><h:outputText value="#{msg.clinakos}" /></title>
				
			</f:facet>
			

			<link type="text/css" rel="stylesheet" href="../../CSS/style.css" />
			<style type="text/css">
 
 .changeRowColor
 {
  background-color: grey !important;
  background-image: none !important;
 }  
 
/*  .ui-loader-curtain{
		position: absolute;
		top: -1200px;
		left: -1200px;
		width: 2400px;
		height: 2400px;
		background:  url("./../../Images/ajax_loader.gif")  no-repeat top center !important;
		opacity: 0.0;
		filter: Alpha(Opacity=0); 
 } */
 
/* body{
            background: url("./../../Images/ajax_loader.gif")  no-repeat top center !important;
     }  */
  

</style>
		</h:head>

		<p:layout fullPage="true">

			<!-- >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> DOCTOR HEADER >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>  -->
			<p:layoutUnit position="north" size="93" minSize="60">
				<ui:include src="doctorHeader.xhtml" />
			</p:layoutUnit>

			<!-- >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> BOTTOM INCLUDE >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>  -->

			<p:layoutUnit id="bottom" position="south" size="24">
				<h:form style="background: #FFFFFF;">
					<ui:include src="../core/footer.xhtml"></ui:include>
				</h:form>
			</p:layoutUnit>

			<!-- >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> LEFT INCLUDE >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>  -->

			  <p:layoutUnit id="left" position="west" size="0" closable="false"
				collapsible="true" minSize="0" style="border:none;">
				  <ui:include src="anticoagleftmenu.xhtml">
				</ui:include>
			</p:layoutUnit>		

			<!-- >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> CENTER LAYOUT >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>  -->

			<p:layoutUnit position="center" resizable="true">
				<h:form id="PMR_Form_Id" prependId="false">
				
								<p:accordionPanel dynamic="true" activeIndex="1">
						<p:tab
							title="#{dashBoardManageBean.userLoginDetail.firstName} #{dashBoardManageBean.userLoginDetail.lastName}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #{dashBoardManageBean.userLoginDetail.age} yo #{dashBoardManageBean.userLoginDetail.gender}">

							<ui:include src="../Doctor/patientDetailsHeader.xhtml"></ui:include>
						</p:tab>
					</p:accordionPanel>
							
				
		<!-- <table width="100%" >
				<tr>
					<td>
						<p:outputPanel id="lastReconcileINfo">
							<h:outputText value="#{msg.lastReconcileDate} " style="font-weight: bold;"/>
							<h:outputText id="reconcileDateIdForNA" value="NA" rendered="#{(patientMedicineManageBean.lastReconcileInfo.size() eq 0)}" />
							<h:outputText id="reconcileDateId" value="#{patientMedicineManageBean.lastReconcileInfo.get(1)} " rendered="#{!(patientMedicineManageBean.lastReconcileInfo.size() eq 0)}" />
						&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
							<h:outputText value="#{msg.lastReconciledBy} " style="font-weight: bold;"/>
							<h:outputText id="reconcileByNA" value="NA" rendered="#{(patientMedicineManageBean.lastReconcileInfo.size() eq 0)}" />
							<h:outputText id="reconcileById" value="#{patientMedicineManageBean.lastReconcileInfo.get(0)} " rendered="#{!(patientMedicineManageBean.lastReconcileInfo.size() eq 0)}" />
					</p:outputPanel>
					</td>
					<td align="right">
			    		<p:commandButton value="#{msg.reconcile}" actionListener="#{patientMedicineManageBean.showReconcileMeds}"
							oncomplete="reconcilePopUp.show();"  >
						</p:commandButton> 
						<p:commandButton
							value="#{msg.add_Medicine}"
							actionListener="#{patientMedicineManageBean.searchMedicine}" update=":searchMedpopupid"
							>
						</p:commandButton> 
						<p:commandButton
							value="#{msg.done}"
							action="go_to_visitSummary_page">
						</p:commandButton>
						
							
									
					</td>
			</tr>
	</table> -->
	
	

	
	<br/>
	<!-- <h:inputHidden value="#{patientMedicineManageBean.checkIntegrationForNewCrop}" /> -->
	<!-- <p:dataTable  value="#{patientMedicineManageBean.patientFullMedHistoryV6List}">
	</p:dataTable>
	 -->

	<!-- <p:dataTable id="PMRData_Table_Id" scrollable="true" scrollHeight="200"  rowIndexVar="rowNum"

				  value="#{patientMedicineManageBean.patientMedicationDataList}"
				  rowStyleClass="#{medDetail.changeMedId eq '0' ? null: 'changeRowColor'}"
				  var="medDetail" binding="#{patientMedicineManageBean.viewRxDataTable}"
				  emptyMessage="#{msg.noMedFound}">


		

		<p:column sortBy="#{medDetail.startDate}" style="width:7%;">
			<f:facet name="header">
			<h:outputText value="#{msg.datePrescribed} " />

			</f:facet>
			<div align="right"><h:outputText value="#{medDetail.startDate}" >
				<f:convertDateTime pattern="#{msg.dateFormat}" />
			</h:outputText></div>
		</p:column>
		
		<p:column width="4%">
			<f:facet name="header">
			<h:outputText value="Detail " />

			</f:facet>
			<h:outputText value="#{medDetail.drugId}#{medDetail.dataProvider}" >
				
			</h:outputText>
		</p:column>


		<p:column sortBy="#{medDetail.drugs}" style="width:9%;">
			<f:facet name="header">
				<h:outputText value="#{msg.medicineName} "  />
			</f:facet>
			<div align="left"><h:outputText value="#{medDetail.drugs}" /></div>
		</p:column>


		<p:column sortBy="#{medDetail.strengths}"
			style="width:8%;">
			<f:facet name="header">
				<h:outputText value="#{msg.strength}"  />
			</f:facet>
			<div align="left"><h:outputText value="#{medDetail.strengths}" /></div>
		</p:column>

		<p:column sortBy="#{medDetail.directions}" style="width:7%;" >
			<f:facet name="header">
				<h:outputText value="#{msg.directions}" />
			</f:facet>
			<h:outputText value="#{medDetail.directions}" />
		</p:column>
		<p:column sortBy="#{medDetail.directions}" style="width:17%;" >
			<f:facet name="header">
				<h:outputText value="#{msg.directions}" />
			</f:facet>
			<h:outputText value="#{medDetail.unit}" />&nbsp;
			<h:outputText value="#{medDetail.dosageForm}" />&nbsp;
			<h:outputText value="By" rendered="#{medDetail.byRoute eq 'by mouth'}"/>
			<h:outputText value="#{medDetail.byRoute}" />&nbsp;
			<h:outputText value="#{medDetail.directions}" />
			
			
		</p:column>

		<p:column sortBy="#{medDetail.quantity}" style=" width:5%;text-align:center;" >
			<f:facet name="header">
				<h:outputText value="#{msg.qty}" />
			</f:facet>
			<h:outputText value="#{medDetail.quantity}"  />
		</p:column>

		<p:column sortBy="#{medDetail.prescriberName}" style="width:9%;">
			<f:facet name="header">
				<h:outputText value="#{msg.prescriber}" />
			</f:facet>
			<h:outputText value="Dr #{medDetail.prescriberName}"  />
		</p:column>

		<p:column sortBy="#{medDetail.lastFillDate}" style="width:8%;">
			<f:facet name="header">
				<h:outputText value="#{msg.lastfilled}" />
			</f:facet>
			<h:outputText value="#{medDetail.lastFillDate}" >
				<f:convertDateTime pattern="#{msg.dateFormat}" />
			</h:outputText>
		</p:column>
		
		<p:column sortBy="#{medDetail.reffils}" style="width:6%;text-align:center;">
			<f:facet name="header">
				<h:outputText value="#{msg.refills1}" />
			</f:facet>
			<h:outputText value="#{medDetail.reffils}"  />
		</p:column>
		
		
		<p:column style="text-align:center; width:7%;" >
			<f:facet name="header">
				<h:outputText value="#{msg.compliance}" />
			</f:facet>
			
			
			<center><h:graphicImage value="./../../Images/green1.jpg" height="15px" id="complianceForGreen"
				width="20px" rendered="#{medDetail.compliancePercentage gt 80	}"/></center>
				
				 <p:tooltip for="complianceForGreen"  showEffect="clip" hideEffect="explode">
				 
				 <h:outputText value="#{medDetail.drugs}" /><br /> 
				  <h:outputText value="Compliance=#{medDetail.compliancePercentage}%" /><br />
				</p:tooltip>
				
			<center><h:graphicImage value="./../../Images/orange1.jpg" height="15px"
				width="20px" id="complianceForOrange"
				rendered="#{medDetail.compliancePercentage gt 60 and  medDetail.compliancePercentage le 80}" /></center>
				
				<p:tooltip for="complianceForOrange"  showEffect="clip"  hideEffect="explode">
				 
				 <h:outputText value="Compliance=#{medDetail.compliancePercentage}%" /><br />
				
				</p:tooltip>
				
				
			<center><h:graphicImage value="./../../Images/red1.jpg" height="15px" id="complianceForRed"
				width="20px" rendered="#{medDetail.compliancePercentage gt 0 and  medDetail.compliancePercentage  le 60}"  />
				                                      
				   <h:outputText value="N/A" id="complianceForwhite"
				width="20px" rendered="#{medDetail.compliancePercentage eq 0}"
				                                      />
				                                      </center>
			
			
				
				<p:tooltip for="complianceForRed"  showEffect="clip"  hideEffect="explode">
				  <h:outputText value="Compliance=#{medDetail.compliancePercentage}%" /><br />
				 
				</p:tooltip>
				<p:tooltip for="complianceForwhite"  showEffect="clip"  >
				 
				 <h:outputText value="Compliance=#{medDetail.compliancePercentage}%" /><br />
				
				</p:tooltip>          
				
		</p:column>
		
		
		
		<p:column style=" width:7%;">
			<f:facet name="header">
				<h:outputText value="#{msg.per_formulary}" />
			</f:facet>
			
			<center><h:graphicImage value="./../../Images/green1.jpg" height="15px" id="formularyForGreen"
				width="20px" rendered="#{medDetail.formularySymbol eq 'Tier 1' or medDetail.formularySymbol eq 'On Formulary'}" /></center>
				
				<p:tooltip for="formularyForGreen"  showEffect="clip"  hideEffect="explode">
				 
				 <h:outputText value="Tier1" rendered="#{medDetail.formularySymbol eq 'Tier 1'}" />
				 <h:outputText value="On Formulary" rendered="#{medDetail.formularySymbol eq 'On Formulary'}" /><br />
				 
				</p:tooltip>
				
				
			<center><h:graphicImage value="./../../Images/orange1.jpg" height="15px" id="formularyForOrange"
				width="20px" rendered="#{medDetail.formularySymbol eq 'Tier 2'}" /></center>
				
				<p:tooltip for="formularyForOrange"  showEffect="clip"  hideEffect="explode">
				 
				<h:outputText value="Tier2" rendered="#{medDetail.formularySymbol eq 'Tier 2'}" /><br />
				 
				</p:tooltip>
				
			<center><h:graphicImage value="./../../Images/red1.jpg" height="15px" id="formularyForRed"
				width="20px" rendered="#{medDetail.formularySymbol eq 'Tier 3' or medDetail.formularySymbol eq 'Non Formulary' or medDetail.formularySymbol eq 'Not Reimbursed' or medDetail.formularySymbol eq 'Unlisted Drug'}" /></center>
				
				<p:tooltip for="formularyForRed"  showEffect="clip"  hideEffect="explode">
				 
				<h:outputText value="Tier 3" rendered="#{medDetail.formularySymbol eq 'tier3'}" />
				<h:outputText value="Non Formulary" rendered="#{medDetail.formularySymbol eq 'Non Formulary'}" />
				<h:outputText value="Unlisted Drug" rendered="#{medDetail.formularySymbol eq 'Unlisted Drug'}" />
				<h:outputText value="Not Reimbursed" rendered="#{medDetail.formularySymbol eq 'Not Reimbursed'}" />
				</p:tooltip>
		</p:column>
		
		
		<p:column style="text-align:center; width:7%;" >
			<f:facet name="header">
				<h:outputText value="#{msg.pharmacogenomics}"  />
				
			</f:facet>
			<h:outputText value="N/A" 
				width="20px" rendered="#{medDetail.attentionRating eq null}" >
			</h:outputText>	
			<center><h:graphicImage value="./../../Images/green1.jpg" height="15px" id="pharmacogenomic_forGreen"
				width="20px" rendered="#{medDetail.attentionRating eq 'Low'}" /></center>
				<p:tooltip for="pharmacogenomic_forGreen"  showEffect="clip"  hideEffect="explode" style="width:55%;">
				  <h:outputText value="#{msg.reasoning}" style="font-weight: bold;"/><h:outputText value=":" />
				  <h:outputText value="#{medDetail.reason}" /><h:outputText value=";" /><br />
				  <h:outputText value="#{msg.recommendation}"  style="font-weight: bold;"/><h:outputText value=":" />
				  <h:outputText value="#{medDetail.recomendation}" />
				</p:tooltip>
			<center><h:graphicImage value="./../../Images/orange1.jpg" height="15px" id="pharmacogenomic_forOrange"
				width="20px" rendered="#{medDetail.attentionRating eq 'Medium'}" /></center>
				<p:tooltip for="pharmacogenomic_forOrange"  showEffect="clip"  hideEffect="explode" style="width:55%;">
				  <h:outputText value="#{msg.reasoning}" style="font-weight: bold;"/><h:outputText value=":" />
				  <h:outputText value="#{medDetail.reason}" /><h:outputText value=";" /><br />
				  <h:outputText value="#{msg.recommendation}"  style="font-weight: bold;"/><h:outputText value=":" />
				  <h:outputText value="#{medDetail.recomendation}" />
				</p:tooltip>
			<center><h:graphicImage value="./../../Images/red1.jpg" height="15px" id="pharmacogenomic_forRed"
				width="20px" rendered="#{medDetail.attentionRating eq 'High'}" /></center>
				<p:tooltip for="pharmacogenomic_forRed"  showEffect="clip"  hideEffect="explode" style="width:55%;">
				  <h:outputText value="#{msg.reasoning}" style="font-weight: bold;"/><h:outputText value=":" />
				  <h:outputText value="#{medDetail.reason}" /><h:outputText value=";" /><br />
				  <h:outputText value="#{msg.recommendation}"  style="font-weight: bold;"/><h:outputText value=":" />
				  <h:outputText value="#{medDetail.recomendation}" />
				</p:tooltip>
				
		</p:column>


	 <p:column style="text-align:center; width:6%;">
			<f:facet name="header">
				<h:outputText value="#{msg.action}" />
			</f:facet>
			<p:commandLink 
				actionListener="#{patientMedicineManageBean.showViewRX}"
				oncomplete="medication_viewRx.show()"
				>
				<h:graphicImage value="./../../Images/editIcon.jpg"
										width="25px" height="20px" id="PharmaeditRxId" />
									<p:tooltip for="PharmaeditRxId" >
										<h:outputText value="#{msg.editRx}"/>
									</p:tooltip>
				<f:param name="rowIdForDelete" value="#{rowNumber}"></f:param> 
				</p:commandLink>
		</p:column>

		<p:column style="text-align:center; width:7%;">
			<f:facet name="header">
				<h:outputText value="#{msg.changes}" />
			</f:facet>
			<h:outputText value="#{medDetail.causeOfAddMeds}"  rendered="#{medDetail.flagForVisit}"/>
		</p:column> 
	</p:dataTable> -->

</h:form>
	<!-- <p:outputPanel id="discontinueId"  rendered="#{patientMedicineManageBean.disContinueMedicationListForPatient.size() ne '0'}">
 	  <table width="100%">
     						 		<tr>
     						 			<td>
     						 				<p:dataTable id="diScontinueMedsList"  
													value="#{patientMedicineManageBean.disContinueMedicationListForPatient}" var="modify">
													
													<f:facet name="header">  
											            <h:outputText value="#{msg.discontinuedmeds}" styleClass="outputtext" />
											        </f:facet>  
														<p:column style="text-align:center;">
															<f:facet name="header">
																<h:outputText value="#{msg.select}" style="font-size:9px;"/>
																
															</f:facet>
															<p:selectBooleanCheckbox value="#{modify.checkMedsForEprescribe}" id="checkMedsForEPrescribe">
																<p:ajax update="checkMedsForEPrescribe"></p:ajax>
															</p:selectBooleanCheckbox>
														</p:column>
														<p:column>
															<f:facet name="header">
																<div align="right"><h:outputText value="#{msg.date}" style="font-size:9px;"/></div>
																
															</f:facet>
															<div align="right">
																<h:outputText value="#{modify.modifyDate}">
																	<f:convertDateTime pattern="#{msg.dateFormat}" />
																</h:outputText>
															</div>
														</p:column>
														
														<p:column>
															<f:facet name="header">
																<h:outputText value="#{msg.status}" style="font-size:9px;"/>
									
															</f:facet>
															<h:outputText value="#{modify.medicineStatus}" />
														</p:column>
									
														<p:column>
															<f:facet name="header">
																<h:outputText value="#{msg.med}" style="font-size:9px;"/>
															</f:facet>
															<h:outputText value="#{modify.drugs}" />
														</p:column>
									
														<p:column>
															<f:facet name="header">
																<h:outputText value="#{msg.strength1}" style="font-size:9px;"/>
															</f:facet>
															<h:outputText value="#{modify.strengths}" />
														</p:column>
									
														<p:column>
															<f:facet name="header">
																<h:outputText value="#{msg.directions1}" style="font-size:9px;" />
															</f:facet>
															<h:outputText value="#{modify.directions}" />
														</p:column>
									
														<p:column style="text-align:center;">
															<f:facet name="header">
																<h:outputText value="#{msg.quantity}" style="font-size:9px;"/>
															</f:facet>
															<h:outputText value="#{modify.quantity}" />
														</p:column>
									
														<p:column style="text-align:center;">
															<f:facet name="header">
																<h:outputText value="#{msg.refills}" style="font-size:9px;"/>
									
															</f:facet>
															<h:outputText value="#{modify.reffils}" />
														</p:column>
														
													</p:dataTable>
     						 			</td>
     						 		</tr>
     				</table>

</p:outputPanel> -->

<!-- <fieldset class="dataField"><legend class="legendField"><a href="anticoag.jsf" style="color:#005E86;font-style: bold;"><h:outputText value="#{msg.anticoag}"/></a></legend>
 -->
	
	<table width="100%" class="secContentBorder" cellpadding="0" cellspacing="0">
	<tr>
	 <td class="secHeadPart">
	   <a href="anticoag.jsf" style="color:#005E86;font-style: bold;"><h:outputText value="#{msg.anticoag}"/></a>
	 </td>
	</tr>
		<tr class="secContentBorder">
			<td align="left">
				<p:dataTable id="anticoagListID" scrollable="auto" scrollHeight="105" value="#{patientMedicineManageBean.medicalActionPlanList}" var="medActionPlan" emptyMessage="#{msg.noMedFound}">
				
				<p:column width="9%">
					<f:facet name="header">
				
						<h:outputText value="#{msg.med} " />
					
					</f:facet>
					<div align="left">
					<h:outputText value="#{medActionPlan.medicineName}" />&nbsp;
				
					<h:outputText value="#{medActionPlan.dose}" />&nbsp;
			
					<h:outputText value="#{medActionPlan.regimen}" />
					</div>
				</p:column>
				
				<p:column>
					<f:facet name="header">
						<h:outputText value="Prescription Date" />
					</f:facet>
					<div align="center">
				<h:outputText value="#{medActionPlan.prescriprtiondate}">
				<f:convertDateTime pattern="#{msg.dateFormat}" timeZone="#{userManageBean.loggedUsertimeZone}" dateStyle="full" type="date"/>
				</h:outputText></div>
				</p:column>
				
				<p:column>
					<f:facet name="header">
						<h:outputText value="Prescribed By" />
					</f:facet>
					<div align="left">
					<h:outputText value="#{medActionPlan.prescriptionby}" />
					</div>
				</p:column>
				
				

				<p:column>
					<f:facet name="header">
						<h:outputText value="#{msg.diagnosis}" />
					</f:facet>
					<div align="left">
					<h:outputText value="#{medActionPlan.diagnosis}" />
					</div>
				</p:column>
				
				<p:column>
					<f:facet name="header">
						<h:outputText value="#{msg.subdiao}" />
					</f:facet>
					<div align="left">
					<h:outputText value="#{medActionPlan.subdiagonses}" />
					</div>
				</p:column>
				
			

				<p:column width="11%">
					<f:facet name="header">
						<h:outputText value="#{msg.monitoringpara}" />
					</f:facet>
					<div align="left">
					<h:outputText value="#{medActionPlan.lab} #{medActionPlan.labUnit}" />
					</div>
				</p:column>

				<p:column width="10%">
					<f:facet name="header">
						<h:outputText value="#{msg.acceptablerange}"/>
					</f:facet>
					<div align="right"><h:outputText value="#{medActionPlan.acceptableRange}" /></div>
				</p:column>
				
				<p:column width="9%">
					<f:facet name="header">
						<h:outputText value="#{msg.labfrequency} "/>
					</f:facet>
					<div align="left"><h:outputText value="#{medActionPlan.labFrequency}" /></div>
				</p:column> 
				
				<p:column>
					<f:facet name="header">
						<h:outputText value="#{msg.last_update_by}" />
					</f:facet>
					<div align="left">					
					<h:outputText value="#{medActionPlan.lastupdatedby}" />
					</div>
				</p:column>
				
				<p:column width="9%">
					<f:facet name="header">
						<h:outputText value="#{msg.last_update_date}" />
					</f:facet>
					<div align="center">
					<h:outputText value="#{medActionPlan.lastUpdateDate}" >
						 <f:convertDateTime pattern="#{msg.dateFormat}" timeZone="#{userManageBean.loggedUsertimeZone}" dateStyle="full" type="date"/>
					</h:outputText></div>
					
				</p:column>

				
				
				<p:column>
					<f:facet name="header">
						<h:outputText value="#{msg.create_by}" />
					</f:facet>
					<div align="left">
				<h:outputText value="#{medActionPlan.createdby}" />	
				</div>
				</p:column>
				
				<p:column width="8%">
					<f:facet name="header">
						<h:outputText value="#{msg.create_date}"/>
					</f:facet>
					<div align="center">
					<h:outputText value="#{medActionPlan.actionDate}" >
					<f:convertDateTime pattern="#{msg.dateFormat}" timeZone="#{userManageBean.loggedUsertimeZone}" dateStyle="full" type="date"/>
					</h:outputText></div>
				</p:column>

				</p:dataTable>
			</td>
		</tr>
	</table>
	
	

<!-- </fieldset> -->


<!-- ******************************* start pop up display form Reconcile ******************* -->
<!-- <h:form id="ReconsileFormID"> -->
	<p:dialog id="reconcilePopUpId13" header="#{msg.reconcile}"
	 			widgetVar="reconcilePopUp" closable="false" dynamic="true" modal="true" 
				appendTo="@(body)" height="488" width="610" resizable="true" position="370,80">
				
				
				<!-- <p:selectOneMenu 
						value="#{patientMedicineManageBean.timeFrameForReconcile}"
						style="width:122px;">
						<f:selectItems value="#{patientMedicineManageBean.clinicDiagnosisList}" var="clinick" itemLabel="{clinick}" itemValue="{clinick}"/>
						<f:selectItems
							value="#{patientMedicineManageBean.timeFrameListForReconcile}"
							var="clinick" itemLabel="#{clinick}"
							itemValue="#{clinick}" />
						p:ajax listener="#{patientMedicineManageBean.changeDiagnosis}"
							event="change" update="selectedLab,selectedLabRange" process="@this" />
					</p:selectOneMenu>
				 -->
		<h:form>
			<table>
			<tr>
				<td>
					<h:outputText value="Time Frame:" />
				</td>
				<td>
					<p:selectOneMenu id="timeFrameForReconcileID"
								value="#{patientMedicineManageBean.timeFrameForReconcile}"
								style="width:122px;">
								<f:selectItem itemLabel="1 Month" itemValue="1" />
								<f:selectItem itemLabel="3 Months" itemValue="3" />
								<f:selectItem itemLabel="6 Months" itemValue="6" />
								<f:selectItem itemLabel="1 Year" itemValue="12" />
								<f:selectItem itemLabel="2 Years" itemValue="24" />
								<f:selectItem itemLabel="4 Years" itemValue="48" />
								<p:ajax listener="#{patientMedicineManageBean.changeTimeFrameToreconcile}"
									 update="timeFrameForReconcileID" process="@this" />
							</p:selectOneMenu> 
				</td>
			</tr>
			</table>
		</h:form>
		<br/>
	 <p:outputPanel id="get_med_history1" autoUpdate="true" >
		
		 <p:commandButton value="#{msg.getMedicineHistory}" actionListener="#{patientMedicineManageBean.goToMedHistory}" update=":get_med_history1"></p:commandButton>
			 <p:commandButton value="#{msg.getPharmacyHistory}" actionListener="#{patientMedicineManageBean.goToPharmacyHistory}" update=":get_med_history1"></p:commandButton>
			<!--  <p:commandButton value="#{msg.showpharmacyhistory}"></p:commandButton> -->
			 <p:commandButton value="#{msg.done}"

			 				   oncomplete="reconcilePopUp.hide();" update="PMR_Form_Id:PMRData_Table_Id" action="#{patientMedicineManageBean.submitReconcile}"></p:commandButton>
			<p:commandButton value="#{msg.cancel}" action="#{patientMedicineManageBean.submitCancelButtonforpersonalisedmedreview}" immediate="true"/> 

			<p:messages  id="messageUpdateFOrReconcile" showDetail="false" style="color:#FF0000;margin:8px;"  closable="true" /> 
	       <table>
	      	 <tr>
	  			 <td valign="top">
	  			 	<p:dataTable id="currentMed1"
	     						value="#{patientMedicineManageBean.patientMedicationDataList}"
	    						 rowIndexVar="columnId" var="currentMedDetail" emptyMessage="#{msg.noMedFound}">
					     <p:column>
					      	<p:commandButton icon="ui-icon-closethick"
					      		 actionListener="#{patientMedicineManageBean.cancelCurrentMedicine}"
					       		update="currentMed1">
					       		<f:param id="medicineName1" name="medicineName" value="#{currentMedDetail.drugs}"></f:param>
					       		<f:param id="drugId" name="drugId" value="#{currentMedDetail.drugId}"></f:param>
					     	 </p:commandButton>
					     </p:column>
	
					     <p:column>
						      <f:facet name="header">
						       	<h:outputText value="#{msg.currentmeds}" />
						      </f:facet>
						      <h:outputText value="#{currentMedDetail.drugs}" /><br/>
						      <h:outputText value="#{currentMedDetail.startDate}">
						       	<f:convertDateTime pattern="#{msg.dateFormat}" timeZone="#{userManageBean.loggedUsertimeZone}" dateStyle="full" type="date"/>
						      </h:outputText>
						      <h:outputText
						       		value=", #{currentMedDetail.strengths}, #{currentMedDetail.directions}, #{currentMedDetail.prescriberName}" />
					     </p:column>
	    			</p:dataTable>
	    		</td>
	   			<td valign="top">
	   			<p:outputPanel id="get_med_history" rendered="#{patientMedicineManageBean.showMedHistoryForReconcile}">
	   				<h:form id="claimHistort1formID">
	   				
					     <p:dataTable id="claimHistort1" binding="#{patientMedicineManageBean.reconsileMedsDataTable}"
					      		value="#{patientMedicineManageBean.reconcileMedsList}"
					      		var="MedDetailHistory" emptyMessage="#{msg.noMedFound}">
						      <p:column>
							       <p:commandButton icon="ui-icon-arrow-1-w"
							        	actionListener="#{patientMedicineManageBean.changMEdTOCurrentMedicin}"
							        	update=":currentMed1,:messageUpdateFOrReconcile,:PMR_Form_Id:lastReconcileINfo" process="@form">
							       </p:commandButton>
						      </p:column>
					
						      <p:column>
						       	<f:facet name="header">
						        		<h:outputText value="#{msg.getMedicineHistory}" />
						       	</f:facet>
						       	<h:outputText value="#{MedDetailHistory.drugs}," />
						       	<h:outputText value="#{MedDetailHistory.strengths}," />
						       	<h:outputText value="#{MedDetailHistory.directions}," />
						       	<h:outputText value="#{MedDetailHistory.prescriberName}" /><br />
						       	 <h:outputText value="#{MedDetailHistory.startDate}" >
						       	 		<f:convertDateTime pattern="#{msg.dateFormat}" timeZone="#{userManageBean.loggedUsertimeZone}" dateStyle="full" type="date"/>
						       	 </h:outputText>
						      </p:column>
					     </p:dataTable>
	    			</h:form>
	    		</p:outputPanel>
	    		
	    		<!-- ################## show pharmacy History............ -->
	    		<p:outputPanel id="get_pharmacy_history" rendered="#{!patientMedicineManageBean.showMedHistoryForReconcile}">
	    		
	    		<h:form id="claimHistort1formIDFor">
	    			<p:commandButton value="Update Pharmacy History" actionListener="#{patientMedicineManageBean.updatePharmacyHistory}"></p:commandButton>
					     <p:dataTable id="claimHistort11"  binding="#{patientMedicineManageBean.reconsileMedsForPharmacyDataTable}"
					      		value="#{patientMedicineManageBean.pharmacyMedsMedsListForReconcile}"
					      		var="MedDetailHistory" emptyMessage="#{msg.noMedFound}">
						      <p:column>
							        <p:commandButton icon="ui-icon-arrow-1-w"
							        	action="#{patientMedicineManageBean.changePharmacyHistoryTOCurrentMedicin}"
							        	update=":currentMed1,:messageUpdateFOrReconcile,:PMR_Form_Id:reconcileDateId,:PMR_Form_Id:lastReconcileINfo" process="@form">
							       </p:commandButton>
						      </p:column>
					
						      <p:column>
						       	<f:facet name="header">
						        		<h:outputText value="#{msg.getPharmacyHistory}" />
						       	</f:facet>
						       	<h:outputText value="#{MedDetailHistory.drugs}," />
						       	<h:outputText value="#{MedDetailHistory.strengths}," />
						       	<h:outputText value="#{MedDetailHistory.directions}," />
						       <h:outputText value="#{MedDetailHistory.quantity}," />
						       	<h:outputText value="#{MedDetailHistory.prescriberName}" /><br />
						      </p:column>
					     </p:dataTable>
	    			</h:form>
	    		</p:outputPanel>
	    		
	    		</td>
	 		 </tr>
	 	</table>
	 </p:outputPanel> 
	</p:dialog>

<!-- </h:form> -->
<!-- *********************************pop up END for Reconcile****************************..... -->
<!-- *********************************pop up display for view RX..... -->
<p:dialog widgetVar="medication_viewRx" resizable="fales"
	appendTo="@(body)" modal="true" header="#{msg.view_Rx}" position="center"
	dynamic="true" height="380" width="1000"  
	draggable="true" closable="false">
	<h:form id="medviewRx1">

		<!--   <h:outputText value="Current Medicine: " />
	   <h:outputText value="#{patientMedicineManageBean.patientMedicationData.drugs}" />
	  -->
		<p:panelGrid id="panel" columns="4" border="1">
			<h:outputText value="#{msg.currentmedicine}"
				style="font-size: 10px; font-family: verdana;font-weight: bold" />
			<h:outputText
				value="#{patientMedicineManageBean.patientMedicationData.drugs}" />
			<h:outputText
				value="#{patientMedicineManageBean.patientMedicationData.strengths}" />
			<h:outputText
				value="#{patientMedicineManageBean.patientMedicationData.directions}" />
		</p:panelGrid>
		<br />

		<p:panelGrid id="panel2" columns="2" border="4" style="width:100%;">
		
		<h:outputText value="#{msg.reasonforchange}"
				style="font-size: 10px; font-family: verdana;font-weight: bold" />
			
			    <h:outputText value="#{msg.suggestedalternatives}"
				style="font-size: 10px; font-family: verdana;font-weight: bold;" />
				
			
			
			
			
			<h:outputText value="#{msg.formulary}" />
			<h:outputText value="#{msg.not_applicable}"  rendered="#{patientMedicineManageBean.patientMedicationData.formularySymbol eq 'Tier 1' || patientMedicineManageBean.patientMedicationData.formularySymbol eq 'On Formulary'}"/>
			
			<p:outputPanel rendered="#{patientMedicineManageBean.patientMedicationData.formularySymbol eq 'Tier 2' || patientMedicineManageBean.patientMedicationData.formularySymbol eq 'Tier 3' 
			|| patientMedicineManageBean.patientMedicationData.formularySymbol eq 'Non Formulary' || patientMedicineManageBean.patientMedicationData.formularySymbol eq 'Unlisted Drug' || patientMedicineManageBean.patientMedicationData.formularySymbol eq 'Not Reimbursed'}">
			  <ui:repeat var="alternativeMed" 
				value="#{patientMedicineManageBean.alternativeMedicine}" 
				varStatus="loop1">
				
				
                   #{alternativeMed} 
                      #{!loop1.last ? ', ' : ''} 
                  
                 
         </ui:repeat> 
        
         
         </p:outputPanel>
       
			<h:outputText value="#{msg.pharmacogenomicinteraction}" />
		    <p:outputPanel rendered=""></p:outputPanel>
			<h:outputText value="#{patientMedicineManageBean.patientMedicationData.recomendation}" rendered="#{patientMedicineManageBean.patientMedicationData.attentionRating eq 'High' || patientMedicineManageBean.patientMedicationData.attentionRating eq 'Medium'}"/>
			 <h:outputText value="#{msg.no_recomendation}" rendered="#{patientMedicineManageBean.patientMedicationData.attentionRating eq 'Low' || patientMedicineManageBean.patientMedicationData.attentionRating eq null}"/> 
			<h:outputText value="#{msg.compliance}" />
			
			 <h:outputText value="#{msg.noalternatemedicine}" />
			

		</p:panelGrid>

		<p:panel>
			<table>
				<tr>
					<td><h:outputText value="#{msg.intervention}" /></td>
					<td><p:selectOneRadio id="options"
							value="#{patientMedicineManageBean.selectIntervention}">
							<f:selectItem itemLabel="Discontinue Med" itemValue="1" />
							<f:selectItem itemLabel="Change Med" itemValue="2" />
							<!-- <f:selectItem itemLabel="Dose Change" itemValue="3" />
							<f:selectItem itemLabel="Regimen Change" itemValue="4" />
							<f:selectItem itemLabel="Other" itemValue="5" /> -->

		


							<p:ajax event="click"
								listener="#{patientMedicineManageBean.checkSelectIntervention}"
								execute="@this" update=":medviewRx1,ShowRxTab"></p:ajax>
						</p:selectOneRadio>
						<!-- <h:outputText id="aaa" value="#{patientMedicineManageBean.showRxTab}" /> -->
						</td>

				</tr>

			</table>
		</p:panel>

		<br />
	<p:outputPanel id="ShowRxTab">
		<p:fieldset rendered="#{patientMedicineManageBean.showRxTab}"
			>
			<table>
				<tr>
					<td>
						<table border="1">
							<tr>
								<td bgcolor="grey" align="center"><h:outputText
										value="#{msg.med}" /></td>

								<td bgcolor="grey" align="center"><h:outputText
										value="Strength" /></td>
										
										<td bgcolor="grey" align="center"><h:outputText
										value="Unit" /></td>
										
										<td bgcolor="grey" align="center"><h:outputText
										value="Dosage form" /></td>
										
										<!-- <td bgcolor="grey" align="center"><h:outputText
										value=" Package" /></td> -->
										
										<td bgcolor="grey" align="center"><h:outputText
										value="Route" /></td>
										
								<td bgcolor="grey" align="center"><h:outputText
										value="#{msg.regimen}" /></td>		

								<td bgcolor="grey" align="center"><h:outputText
										value="Dispense" /></td>
										
										<td bgcolor="grey" align="center"><h:outputText
											value="Days Supply" /></td>
										

								 <td bgcolor="grey" align="center">
											<h:outputText value="Refill" />
											</td> 

								<td bgcolor="grey" align="center"><h:outputText
										value="#{msg.clinic}" /></td>
										
							</tr>

							<tr>
								<td>
									<!-- <h:inputText value=""  style="width: 170px;"/> --> 
									<p:inputText
										value="#{patientMedicineManageBean.patientMedicationData.drugs}"
										readonly="true" style="width:100px;"
										rendered="#{patientMedicineManageBean.selectIntervention eq 3 || patientMedicineManageBean.selectIntervention eq 4}" />
									<p:selectOneMenu
										rendered="#{patientMedicineManageBean.selectIntervention eq 2 || patientMedicineManageBean.selectIntervention eq 5}"
										value="#{patientMedicineManageBean.patientMedicationData.drugs}"
										style="width:100px;">
										<!-- <p:ajax
											listener="#{patientMedicineManageBean.checkMedicineForMedActionPlanForViewRx}"
											></p:ajax> -->
										<f:selectItem
											itemLabel="#{patientMedicineManageBean.patientMedicationData.drugs}"
											itemValue="#{patientMedicineManageBean.patientMedicationData.drugs}" />
										<f:selectItems
											value="#{patientMedicineManageBean.alternativeMedicine}"
											var="altMedname" itemLabel="#{altMedname}"
											itemValue="#{altMedname}" />

									</p:selectOneMenu>
								</td>
								
								<td>
										<p:selectOneMenu required="true" requiredMessage="Please Select Strength" id="strengthId"
										value="#{patientMedicineManageBean.patientMedicationData.strengths}"
										styleClass="viewRxTable">
										<f:selectItem
											itemLabel="#{patientMedicineManageBean.patientMedicationData.strengths}"
											itemValue="#{patientMedicineManageBean.patientMedicationData.strengths}" />
										<f:selectItems value="#{patientMedicineManageBean.doseDetailList}"
											var="doseList" itemLabel="#{doseList.dose}" itemValue="#{doseList.dose}" />
											
												<p:ajax listener="#{patientMedicineManageBean.findParticularDrugId}"  update="strengthId"></p:ajax>	
									</p:selectOneMenu>
							
										</td>
							
								
								<td>
	 	 	 	 					<p:selectOneMenu 
										value="#{patientMedicineManageBean.patientMedicationData.unit}" 
										 style="width:80px;">
										
										<f:selectItems value="#{patientMedicineManageBean.unitSummaryList}"
											var="unitList" itemLabel="#{unitList.unit}" itemValue="#{unitList.unit}" />
											
											<p:ajax listener="#{patientMedicineManageBean.calculateTotalDispence}" update="dispenceNumber"></p:ajax>	
									</p:selectOneMenu>
	 	 	 	 			</td>
	 	 	 	 			
	 	 	 	 			<td>
	 	 	 	 			
	 	 	 	 			<!-- <p:selectOneMenu required="true" 
										value="#{patientMedicineManageBean.patientMedicationData.dosageForm}"
										style="width:80px;">
										<f:selectItem itemLabel="#{patientMedicineManageBean.patientMedicationData.dosageForm}" itemValue="#{patientMedicineManageBean.patientMedicationData.dosageForm}" />
	 	 	 	 				
										<f:selectItem
											itemLabel="#{patientMedicineManageBean.patientMedicationData.directions}"
											itemValue="#{patientMedicineManageBean.patientMedicationData.directions}" />
										<f:selectItems value="#{patientMedicineManageBean.unitDetailsList}"
											var="unitList" itemLabel="#{unitList.unitName}" itemValue="#{unitList.unitName}" />
									</p:selectOneMenu> -->
									
								<p:inputText  value="#{patientMedicineManageBean.patientMedicationData.dosageForm}" readonly="true"></p:inputText>		
								
	 	 	 	 		</td>
	 	 	 	 		
	 	 	 	 		<td>
	 	 	 	 			<!-- <p:selectOneMenu required="true" 
										value="#{patientMedicineManageBean.patientMedicationData.byRoute}"
										style="width:90px;">
										<f:selectItem itemLabel="#{patientMedicineManageBean.patientMedicationData.byRoute}" itemValue="#{patientMedicineManageBean.patientMedicationData.byRoute}" />
										<f:selectItem
											itemLabel="#{patientMedicineManageBean.patientMedicationData.directions}"
											itemValue="#{patientMedicineManageBean.patientMedicationData.directions}" />
										<f:selectItems value="#{patientMedicineManageBean.routeDetailsList}"
											var="routeDetailList" itemLabel="#{routeDetailList.routeName}" itemValue="#{routeDetailList.routeName}" />
										<p:ajax   update="input"/>
									</p:selectOneMenu> -->
									<p:inputText  value="#{patientMedicineManageBean.patientMedicationData.byRoute}" readonly="true"></p:inputText>
	 	 	 	 		</td>
	 	 	 	 		
	 	 	 	 		<td>
										<p:selectOneMenu required="true" requiredMessage="Please Select Regimen" id="updateRegimen"
											value="#{patientMedicineManageBean.patientMedicationData.directions}" 
											style="width:90px;"  >
											<f:selectItem itemLabel="" itemValue=""  />
											<f:selectItems value="#{patientMedicineManageBean.regimenList}" 
												var="regimen" itemLabel="#{regimen}" itemValue="#{regimen}" />
											
										<p:ajax listener="#{patientMedicineManageBean.calculateTotalDispence}"  update="medviewRx1:dispenceNumber" ></p:ajax>	
									</p:selectOneMenu>
								</td>
	 	 	 	 	
	 	 	 	 	<td>
							<p:inputText id="dispenceNumber" style="width:40px;" required="true" converter="#{Integer}" maxlength="3"
										value="#{patientMedicineManageBean.patientMedicationData.quantity}" >
								<f:convertNumber  pattern="#0" integerOnly="true"  minFractionDigits="3" maxIntegerDigits="3" type="number"/>
							</p:inputText>
						</td>
						
						
						
						<td>
							<p:selectOneMenu 
										value="#{patientMedicineManageBean.patientMedicationData.daySupply}"
										style="width:80px;">
										<f:selectItem itemLabel="#{patientMedicineManageBean.patientMedicationData.daySupply}" itemValue="#{patientMedicineManageBean.patientMedicationData.daySupply}"  />
										<f:selectItems value="#{patientMedicineManageBean.daySupplyList}"
											var="daySupplyDetailList" itemLabel="#{daySupplyDetailList}" itemValue="#{daySupplyDetailList}" />
										
										<p:ajax listener="#{patientMedicineManageBean.calculateTotalDispence}" update="dispenceNumber"></p:ajax>	
										
									</p:selectOneMenu>
						</td>
						
						
						<td>
						
									<!-- 	<p:inputText style="width:25px;" required="true" requiredMessage="Please insert reffils" maxlength="2" 
							 value="#{patientMedicineManageBean.patientMedicationData.reffils}" >
							 
							 <pe:keyFilter mask="num"></pe:keyFilter>
						</p:inputText> -->
						
						<p:selectOneMenu required="true" 
										value="#{patientMedicineManageBean.patientMedicationData.reffils}"
										style="width:60px;">
										
										<f:selectItems value="#{patientMedicineManageBean.refillDetailsList}"
											var="refillList" itemLabel="#{refillList}" itemValue="#{refillList}" />
										
									</p:selectOneMenu>
						</td>
						
						<td>
									<!-- <h:inputText value = "clinic" style="width: 110px;"/> -->
									<p:selectOneMenu style="width:100px;"
										value="#{patientMedicineManageBean.patientMedicationData.clinicName}"
										styleClass="viewRxTable">
										 <f:selectItem itemLabel="" itemValue="" /> 
										<f:selectItems value="#{patientManageBean.clinicMasterList}"
											var="clinicList" itemLabel="#{clinicList.clinicName}"
											itemValue="#{clinicList.clinicName}" />
									</p:selectOneMenu>
								</td>

							</tr>

						</table>
						 <!-- <td> <p:commandButton id="medActionId"
								value="#{msg.medactionplan}"
								actionListener="#{patientMedicineManageBean.saveMedicineChanges}"
								oncomplete="medicationActionPlan.show();">
								disabled="#{!((patientMedicineManageBean.medicine.flagForMedActionPlan) || (patientMedicineManageBean.showMedActionPlanButton))}"
								<f:param value="medActionPlan" name="medActPlan"></f:param>
							</p:commandButton> </td>  -->
					</td>
				</tr>
			</table>

			<br />
		</p:fieldset>
	</p:outputPanel>
		<table>
				<tr>
					<td>
					<h:outputText value="#{msg.coment}"
					styleClass="fontsize" /></td></tr>
					<tr>
					<td>
					<p:inputTextarea cols="134" rows="5"
							value="#{patientMedicineManageBean.patientMedicationData.drugsNotes}"></p:inputTextarea>
						
					</td>
				</tr>
			</table>
		<div style="text-align: center;">
			<p:commandButton value="#{msg.makechange}"
				oncomplete="medication_viewRx.hide();" update=":PMR_Form_Id:PMRData_Table_Id:discontinueId"
				actionListener="#{patientMedicineManageBean.saveMedicineChangesOnViewRx}" ajax="false">

				<f:param value="makechanges" name="MakeChange"></f:param>

			</p:commandButton>
			<p:commandButton value="#{msg.cancel}" action="#{patientMedicineManageBean.submitCancelButtonforpersonalisedmedreview}" immediate="true"
						></p:commandButton>
		</div>
	</h:form>
</p:dialog>

<!-- end pop up for view RX********************************* -->

<!-- ********************************Start pop up for Quick Prescribe for pesonalisedMedReview::::::::::::::::********************************* -->

<p:dialog widgetVar="quickPrescribe" resizable="false" draggable="true" id="medicationActionPlanPopId"
	appendTo="@(body)" modal="true"  height="430" width="650" 
	 dynamic="true" closable="false" position="320,190"><!-- position="500,400" -->

		
	 <h:form id="medactionPlanFormId">
	 
	 <table >
	 			<tr>
	 				<td ><h:outputText value="Prescribe Medicine For Clinics" styleClass="outputtext"></h:outputText></td>
						
	 			</tr>
	 			
	 			 <tr>
	 				<td><h:outputText id="quickPrescribeHeader" value="(#{patientMedicineManageBean.patientMedicationData.drugs})" styleClass="outputtext"/></td>
	 				
	 				<td width="120px"></td>
	 				<td >
							<p:commandButton id="dosingGuidelineWizardId" value="#{msg.dosingGuidelineWizard}" immediate="true"
								action="#{patientMedicineManageBean.afterAddNewMedicine1}" 
														update=":warfarinheaderIdValue,:DabigatranHeader,:ApixabanHeader,:RivaroxabanHeader,:FondaparinuxHeader,:DesirudinHeader,:dalteparinHeader,:EnoxaparinHeader">
										<p:ajax update="dosingGuidelineWizardId"></p:ajax>		
								</p:commandButton>				
						</td>
						
						<td >
							<!-- <p:commandButton value="#{msg.sendToAnticoagClinic}" action="#{patientMedicineManageBean.sendToAnticoagTab}"  
					
													update="@form"/> -->
								<p:commandButton value="Clinic To Dose" action="#{patientMedicineManageBean.sendToAnticoagTab}"   />
						</td>
	 			</tr> 
	 		
	 		
	 			
	 		</table> 
	 		
	 		
	 	 <p:messages  id="messageUpdateForQuickPrescribe" showDetail="false" style="color:red;" closable="true"/> 
			
		<p:outputPanel rendered="#{patientMedicineManageBean.medActionPlan.value eq 1}"> 
			<table>
					<tr>

						<td><h:outputText value="Calculated recommended dose:" style="font-weight:bold;"/></td>
						<td><h:outputText value="#{patientMedicineManageBean.weekStatus}(mg/week)" /></td>
						<td><h:outputText value="(mg/week)" /></td>

									</tr>
			</table>
			
			 </p:outputPanel> 
			 
			 <p:outputPanel deferred="true" deferredMode="visible" rendered="#{patientMedicineManageBean.drugInteractions.size() ge 1 }" >
					
						<table>
							<tr>
							
							
								<td><h:outputText value="Drug-drug interaction :" style="font-weight:bold;color:red;" /></td>
							
								<td>
									
											<p:commandLink id="grow"   style="text-decoration:underline;" >
											
											<h:outputText  value="#{patientMedicineManageBean.drugInteractions.size()}" escape="false" style="color:red;"/>		
								            &nbsp; <h:outputText  value="Interactions detected"  style="color:red;"/> 
								            
								            </p:commandLink>
								            
								              <p:tooltip for="grow"  showEffect="clip" style="width:40%; position:relative; margin-left:10%;" >
								             
								             					<p:dataTable  value="#{patientMedicineManageBean.drugInteractions}" var="drugInteractionsDetail" emptyMessage="#{msg.noMedFound}">
										
																	<p:column styleClass="wrap">
																		<f:facet name="header">
																			<h:outputText value="Drug Name" />
																		</f:facet>
																		<h:outputText value="#{drugInteractionsDetail.drug1}"  />  
																	</p:column>
																	
																	<!-- <p:column styleClass="wrap" >
																		<f:facet name="header">
																			<h:outputText value="Drug2" />
																		</f:facet>
																		<h:outputText value="#{drugInteractionsDetail.drug2}"  />  
																	</p:column> -->
																	
																	<p:column styleClass="wrap" >
																		<f:facet name="header">
																			<h:outputText value="Clinical Effects " />
																		</f:facet>
																		<h:outputText value="#{drugInteractionsDetail.clinicalEffects}"  />  
																	</p:column>
																	
																	<p:column styleClass="wrap">
																		<f:facet name="header">
																			<h:outputText value="Severity Level" />
																		</f:facet>
																		<h:outputText value="#{drugInteractionsDetail.severityLevel}"  />  
																	</p:column>
																	
																</p:dataTable>
								             		
								             	
								             </p:tooltip>
								        
								      
								</td>
								<!-- <td>
								&nbsp; <h:outputText  value="Highest severity interaction:"  style="color:red;"/> 
								             &nbsp; <h:outputText  value="#{patientMedicineManageBean.drugInterectionListDetail}" escape="false" style="color:red;"/>		
								            <h:graphicImage value="./../../Images/red1.jpg"
                                                    height="15px" width="20px" id="highSeverityLevel"
                                                            rendered="#{patientMedicineManageBean.drugInterectionListDetail.severityLevel eq 'High'}" />
                                                            
                                                             <h:graphicImage value="./../../Images/orange1.jpg"
                                                     height="15px" width="20px" id="midSeverityLevel"
                                                            rendered="#{patientMedicineManageBean.drugInterectionListDetail.severityLevel eq 'Medium'}" />
                                                            
                                                            <h:graphicImage value="./../../Images/green1.jpg"
                                                height="15px" width="20px" id="lowSeverityLevel"
                                                            rendered="#{patientMedicineManageBean.drugInterectionListDetail.severityLevel eq 'Low'}" />
                                        </td>   -->
							</tr>
					</table>
			</p:outputPanel>
			
			<p:outputPanel deferred="true" deferredMode="visible" rendered="#{patientMedicineManageBean.drugAllergyInteractions.size() ge 1}">
							
						<table>
							<tr>
							
							<td><h:outputText value="drug-allergy interaction :"  style="font-weight:bold;color:red;"/></td>
								<td>
								
									
										<p:commandLink id="grow1"   style="text-decoration:underline;" >
											<h:outputText value="#{patientMedicineManageBean.drugAllergyInteractions.size()}"  escape="false" style="color:red;"/>		
								           &nbsp;  <h:outputText value="Interactions detected"   style="color:red;"/>
								             
								             </p:commandLink> 
								             
								             
								              <p:tooltip for="grow1"  showEffect="clip" style="width:40%; position:relative; margin-left:10%;" >
								             		
								             	
								             
								             					<p:dataTable value="#{patientMedicineManageBean.drugAllergyInteractions}" var="drugAllergyInteractionsDetail" emptyMessage="#{msg.noMedFound}">
										
																	<p:column styleClass="wrap">
																		<f:facet name="header">
																			<h:outputText value="Allergy Interaction Text" />
																		</f:facet>
																		<h:outputText value="#{drugAllergyInteractionsDetail.interactionText}"  />  
																	</p:column>
																	
																	
																</p:dataTable>
								             			
								             	 </p:tooltip>
								            
								       
								    
								      
								</td>
							</tr>
					</table>	
			</p:outputPanel>
			
			<p:outputPanel deferred="true" deferredMode="visible" rendered="#{patientMedicineManageBean.drugDiseaseDetailsInteractions.size() ge 1}">
					<table>	
							<tr>
							
							<td><h:outputText value="Drug Disease:"  style="font-weight:bold;color:red;"/></td>
								<td>
									
										<p:commandLink id="grow2"   style="text-decoration:underline;" >
											<h:outputText value="#{patientMedicineManageBean.drugDiseaseDetailsInteractions.size()}" escape="false" style="color:red;"/>		
								            &nbsp; <h:outputText value="Interactions detected"  style="color:red;"/>
								              
								          </p:commandLink>  
								          
								          <p:tooltip for="grow2"  showEffect="clip" style="width:40%; position:relative; margin-left:-8%;" >
								             		
								             	
								             
								             					<p:dataTable value="#{patientMedicineManageBean.drugDiseaseDetailsInteractions}" var="drugDiseaseDetailsInteractionsDetail" emptyMessage="#{msg.noMedFound}">
										
																	<p:column styleClass="wrap">
																		<f:facet name="header">
																			<h:outputText value="Drug Name" />
																		</f:facet>
																		<h:outputText value="#{drugDiseaseDetailsInteractionsDetail.drugName}"  />  
																	</p:column>
																	
																	<p:column styleClass="wrap">
																		<f:facet name="header">
																			<h:outputText value="Direct Condition" />
																		</f:facet>
																		<h:outputText value="#{drugDiseaseDetailsInteractionsDetail.directCondition}"  />  
																	</p:column>
																	
																	<p:column styleClass="wrap">
																		<f:facet name="header">
																			<h:outputText value="Severity Level Text" />
																		</f:facet>
																		<h:outputText value="#{drugDiseaseDetailsInteractionsDetail.severityLevelText}"  />  
																	</p:column>
																	
																	<p:column styleClass="wrap">
																		<f:facet name="header">
																			<h:outputText value="Disease Relation" />
																		</f:facet>
																		<h:outputText value="#{drugDiseaseDetailsInteractionsDetail.diseaseRelationText}"  />  
																	</p:column>
																	
																	
																</p:dataTable>
								             			
								             	 </p:tooltip>
								             	 
								        
								      
								</td>
							</tr>
					</table>
		
			</p:outputPanel>
			
			<p:outputPanel deferred="true" deferredMode="visible" rendered="#{patientMedicineManageBean.pharmacogenomicInteractionDetailList.size() ge 1}">
						
							
							<table>	
							<tr>
							
							<td><h:outputText value="Pharmacogenomics:"  style="font-weight:bold;color:red;"/></td>
								<td>
									
										<p:commandLink id="grow3"   style="text-decoration:underline;" >
											<h:outputText value="#{patientMedicineManageBean.pharmacogenomicInteractionDetailList.size()}" escape="false" style="color:red;"/>		
								            &nbsp;  <h:outputText value="Interactions detected" style="color:red;"/>
								          </p:commandLink>  
								          
								          <p:tooltip for="grow3"  showEffect="clip" style="width:44%; position:relative; margin-left:-8%;" >
								             		
								             	
								             
								             					<p:dataTable value="#{patientMedicineManageBean.pharmacogenomicInteractionDetailList}" var="pharmacogenomicInteractionDetail" emptyMessage="#{msg.noMedFound}">
										
																	 <p:column styleClass="wrap">
																		<f:facet name="header">
																			<h:outputText value="Drug Name" />
																		</f:facet>
																		<h:outputText value="#{pharmacogenomicInteractionDetail.genericDrugName}"  />  
																	</p:column> 
																	
																	<p:column styleClass="wrap">
																		<f:facet name="header">
																			<h:outputText value="Gene" />
																		</f:facet>
																		<h:outputText value="#{pharmacogenomicInteractionDetail.gene1}"  />  
																	</p:column> 
																	
																	<p:column styleClass="wrap">
																		<f:facet name="header">
																			<h:outputText value="Phenotype" />
																		</f:facet>
																		<h:outputText value="#{pharmacogenomicInteractionDetail.phenotype}"  />  
																	</p:column> 
																	
																	<p:column styleClass="wrap">
																		<f:facet name="header">
																			<h:outputText value="Impact" />
																		</f:facet>
																		<h:outputText value="#{pharmacogenomicInteractionDetail.impact}"  />  
																	</p:column>
																	
																	<p:column styleClass="wrap">
																		<f:facet name="header">
																			<h:outputText value="Implications" />
																		</f:facet>
																		<h:outputText value="#{pharmacogenomicInteractionDetail.implications}"  />  
																	</p:column>
																	
																	<p:column styleClass="wrap">
																		<f:facet name="header">
																			<h:outputText value="Recommendation" />
																		</f:facet>
																		<h:outputText value="#{pharmacogenomicInteractionDetail.recommendation}"  />  
																	</p:column>
																	
																	<p:column styleClass="wrap">
																		<f:facet name="header">
																			<h:outputText value="Attention Rating" />
																		</f:facet>
																		<h:outputText value="#{pharmacogenomicInteractionDetail.attentionRating}"  />  
																	</p:column>
																</p:dataTable>
								             			
								             	 </p:tooltip>
								             	 
								        
								      
								</td>
							</tr>
					</table>
							
				</p:outputPanel>
			
			<hr /> 
			
			<h:outputText value="Quick Prescribe " styleClass="outputtext"/>
			<br />
			<br />
			<br />
			<table >
					<tr align="center">
						<td>
							<h:outputText value="Strength" styleClass="outputtext"/>
							<!-- <h:outputText value="*" styleClass="mandatoryField"/> -->
						</td>
						
						<td>
							
						</td>
						
						<td>
							<h:outputText value="unit" styleClass="outputtext"/>
							<h:outputText value="*" styleClass="mandatoryField"/>
						</td>
						
						<td>
							<h:outputText value="Dosage form" styleClass="outputtext"/>
							<h:outputText value="*" styleClass="mandatoryField"/>
						</td>
						
						<td>
							<h:outputText value="Route" styleClass="outputtext"/>
							<h:outputText value="*" styleClass="mandatoryField"/>
						</td>
						
						<td>
							<h:outputText value="Regimen" styleClass="outputtext"/>
							<h:outputText value="*" styleClass="mandatoryField"/>
						</td>
						
						<td>
							<h:outputText value="PRN" styleClass="outputtext"/>
							
						</td>
						
						<td>
							<h:outputText value="Additional Sig" styleClass="outputtext"/>
							<!-- <h:outputText value="*" styleClass="mandatoryField"/> -->
						</td>
					</tr>
					
					
					
									<tr>
										<td>
												<p:selectOneMenu 
														value="#{patientMedicineManageBean.patientMedicationData.strengths}"
														style="width:80px;">
														
														<f:selectItem
															itemLabel="#{patientMedicineManageBean.patientMedicationData.strengths}"
															itemValue="#{patientMedicineManageBean.patientMedicationData.strengths}" />
														<f:selectItems value="#{patientMedicineManageBean.doseDetailList}"
															var="doseList" itemLabel="#{doseList.dose}" itemValue="#{doseList.dose}" />
												</p:selectOneMenu>
									
											</td>
											
												<td>
													<p:commandLink rendered="#{patientMedicineManageBean.patientMedicationData.genericName eq 'Warfarin' || patientMedicineManageBean.patientMedicationData.genericName eq 'warfarin'}"
															actionListener="#{patientMedicineManageBean.findWarfarinDoseCalculator}" immediate="true" 
															oncomplete="warfarinDoseCalculator.show()">
														<p:graphicImage value="../../Images/doseCal.jpg"  style="width:34px;height:34px;"/>
															<f:param value="#{dashBoardManageBean.userLoginDetail.age}" name="patientAge"></f:param>
												   </p:commandLink>
					
											</td>
											
											<td>
						 	 	 	 			<p:selectOneMenu required="true" requiredMessage="Please insert unit"
															value="#{patientMedicineManageBean.patientMedicationData.unit}"
															style="width:80px;">
															
															<f:selectItems value="#{patientMedicineManageBean.unitSummaryList}"
																var="unitList" itemLabel="#{unitList.unit}" itemValue="#{unitList.unit}" />
																
																 <p:ajax listener="#{patientMedicineManageBean.calculateTotalDispence}" update="dispenceNumber"></p:ajax>	 
												</p:selectOneMenu>
						 	 	 	 		</td>
						 	 	 	 		
						 	 	 	 		<td>
											
											<!-- <p:selectOneMenu required="true" requiredMessage="Please insert Dosage form"
															value="#{patientMedicineManageBean.patientMedicationData.dosageForm}"
															style="width:122px;">
															<f:selectItem itemLabel="#{patientMedicineManageBean.patientMedicationData.dosageForm}" itemValue="#{patientMedicineManageBean.patientMedicationData.dosageForm}" />
											
													<f:selectItems value="#{patientMedicineManageBean.unitDetailsList}"
															var="unitList" itemLabel="#{unitList.unitName}" itemValue="#{unitList.unitName}" />
													</p:selectOneMenu> -->
													
												<p:inputText style="width:80px;" value="#{patientMedicineManageBean.patientMedicationData.dosageForm}" readonly="true"></p:inputText>	
											</td>
											
											<td>
						 	 	 	 			<!-- <p:selectOneMenu  required="true" requiredMessage="Please insert Route"
															value="#{patientMedicineManageBean.patientMedicationData.byRoute}"
															style="width:122px;">
															<f:selectItem itemLabel="#{patientMedicineManageBean.patientMedicationData.byRoute}" itemValue="#{patientMedicineManageBean.patientMedicationData.byRoute}" />
															<f:selectItems value="#{patientMedicineManageBean.routeDetailsList}"
																var="routeDetailList" itemLabel="#{routeDetailList.routeName}" itemValue="#{routeDetailList.routeName}" />
												</p:selectOneMenu> -->
												
												<p:inputText style="width:80px;" value="#{patientMedicineManageBean.patientMedicationData.byRoute}" readonly="true"></p:inputText>
						 	 	 	 		</td>
											
											<td>
							 	 	 	 			<p:selectOneMenu 
																value="#{patientMedicineManageBean.patientMedicationData.directions}"
																style="width:80px;">
																
																<f:selectItem
																	itemLabel=""
																	itemValue="" />
																	
																<f:selectItems value="#{patientMedicineManageBean.regimenList}"
																	var="regimen" itemLabel="#{regimen}" itemValue="#{regimen}" />
																	
																	 <p:ajax listener="#{patientMedicineManageBean.calculateTotalDispence}" update="dispenceNumber"></p:ajax> 	
													</p:selectOneMenu>
							 	 	 	 		</td>
							 	 	 	 		
							 	 	 	 		<td>
							 	 	 	 			<p:selectBooleanCheckbox value="#{patientMedicineManageBean.patientMedicationData.prn}" />  
							 	 	 	 		</td>
							 	 	 	 		
							 	 	 	 		<td>
							 	 	 	 			<p:inputText value="#{patientMedicineManageBean.patientMedicationData.additionalSig}" style="width:80px;"></p:inputText>
							 	 	 	 		</td>
									</tr>
			
			</table>
			
			<br />
			<br />
			
			<table>
				<tr align="center">
					<td>
						<h:outputText value="Allow Substitution" styleClass="outputtext"/>
							
						
					</td>
					
					<td>
						<h:outputText value="Dispense" styleClass="outputtext"/>
							<h:outputText value="*" styleClass="mandatoryField"/>
					</td>
					
					<td>
						<h:outputText value="Days Supply" styleClass="outputtext"/>
							<h:outputText value="*" styleClass="mandatoryField"/>
					</td>
					
					<td>
						<h:outputText value="Refills" styleClass="outputtext"/>
							<h:outputText value="*" styleClass="mandatoryField"/>
					</td>
					
				</tr>
				
				
				<tr>
					<td align="center">
						<p:selectBooleanCheckbox value="#{patientMedicineManageBean.patientMedicationData.allowSubstitution}" />  
					</td>
					
					<td>
	 	 	 	 			<p:inputText id="dispenceNumber" style="width:50px;" converter="#{Integer}" maxlength="3"   
															value="#{patientMedicineManageBean.patientMedicationData.quantity}" >
													<f:convertNumber  pattern="#,###" integerOnly="true"  minFractionDigits="3" maxIntegerDigits="3" type="number"/>
												</p:inputText>
	 	 	 	 		</td>
	 	 	 	 		
	 	 	 	 		<td>
	 	 	 	 			
							 <p:selectOneMenu 
										value="#{patientMedicineManageBean.patientMedicationData.daySupply}"
										style="width:80px;">
											<f:selectItem itemValue="#{patientMedicineManageBean.patientMedicationData.daySupply}" 
													itemLabel="#{patientMedicineManageBean.patientMedicationData.daySupply}"></f:selectItem>
										<f:selectItems value="#{patientMedicineManageBean.daySupplyList}"
											var="daySupplyDetailList" itemLabel="#{daySupplyDetailList}" itemValue="#{daySupplyDetailList}" />
										
										 <p:ajax listener="#{patientMedicineManageBean.calculateTotalDispence}" update="dispenceNumber"></p:ajax> 
										
									</p:selectOneMenu> 
								<!-- <p:inputText value="#{patientMedicineManageBean.patientMedicationData.daySupply}" style="width:80px;"></p:inputText> -->
	 	 	 	 		</td>
	 	 	 	 		
	 	 	 	 		<td>
	 	 	 	 			<p:selectOneMenu required="true" 
										value="#{patientMedicineManageBean.patientMedicationData.reffils}"
										style="width:60px;">
										
										<f:selectItems value="#{patientMedicineManageBean.refillDetailsList}"
											var="refillList" itemLabel="#{refillList}" itemValue="#{refillList}" />
										
									</p:selectOneMenu>
	 	 	 	 		</td>
				</tr>
			</table>
			
			<br />
			<br />
			
			
			<hr />
			
			<table>
				<tr align="center">
					<td>
						<h:outputText value="Diagnoses" styleClass="outputtext"/>
					</td>
					
					<td>
						<h:outputText value="Subdiagnosis" styleClass="outputtext"/>
					</td>
					
					<td>
						<h:outputText value="Monitoring Parameter" styleClass="outputtext"/>
					</td>
					
					<td>
						<h:outputText value="Acceptable Range" styleClass="outputtext"/>
					</td>
					
					<td>
						<h:outputText value="Monitoring Frequency" styleClass="outputtext"/>
					</td>
					
					
				</tr>
				
						<tr>
							<td><p:inputText value="#" style="width:80px;"/></td>
							<td><p:inputText value="#" style="width:80px;"/></td>
							<td><p:inputText value="#" style="width:80px;"/></td>
							<td><p:inputText value="#" style="width:80px;"/></td>
							<td><p:inputText value="#" style="width:80px;"/></td>
						</tr>
			</table>
			
			<br />
			<br />
			
			<table>
				<tr align="center">
					<td>
						<h:outputText value="Phase" styleClass="outputtext"/>
					</td>
					
				</tr>
				
				<tr>
					<td><p:inputText value="#" style="width:80px;"/></td>
					<td><h:outputText value="(Options for phase are initiation or maintenance)" /></td>
					<td >
										<p:commandButton value="#{msg.done}"
												action="#{patientMedicineManageBean.addMedicine}"
												update="messageUpdateForQuickPrescribe"></p:commandButton>
								</td>
								
								

								<td >
									<p:commandButton value="#{msg.cancel}" action="#{patientMedicineManageBean.submitCancelButtonforpersonalisedmedreview}" immediate="true"></p:commandButton>
								</td>
				</tr>
			</table>
				
				<!-- <table >
						<tr valign="top">
							<td>
								<table>
										<tr >
											<td>
													<h:outputText value="#{msg.med}" />
													<h:outputText value="*" styleClass="mandatoryField"/>
											</td>
											
											<td>	
													<p:inputText value="#{patientMedicineManageBean.patientMedicationData.drugs}" readonly="true" style="width:115px;"/>
											</td>
					
										</tr>
										
										<tr>
											<td>
												<h:outputText value="Strength" /><h:outputText value="*" styleClass="mandatoryField"/>
											</td>
											
											<td>
												<p:selectOneMenu 
														value="#{patientMedicineManageBean.patientMedicationData.strengths}"
														style="width:122px;">
														
														<f:selectItem
															itemLabel="#{patientMedicineManageBean.patientMedicationData.strengths}"
															itemValue="#{patientMedicineManageBean.patientMedicationData.strengths}" />
														<f:selectItems value="#{patientMedicineManageBean.doseDetailList}"
															var="doseList" itemLabel="#{doseList.dose}" itemValue="#{doseList.dose}" />
												</p:selectOneMenu>
									
											</td>
											
											<td>
													<p:commandLink rendered="#{patientMedicineManageBean.patientMedicationData.genericName eq 'Warfarin' || patientMedicineManageBean.patientMedicationData.genericName eq 'warfarin'}"
															actionListener="#{patientMedicineManageBean.findWarfarinDoseCalculator}" immediate="true" 
															oncomplete="warfarinDoseCalculator.show()">
														<p:graphicImage value="../../Images/doseCal.jpg"  style="width:34px;height:34px;"/>
															<f:param value="#{dashBoardManageBean.userLoginDetail.age}" name="patientAge"></f:param>
												   </p:commandLink>
					
											</td>
											
										</tr>
										
										<tr>
											<td>
						 	 	 	 				<h:outputText value="unit" /><h:outputText value="*" styleClass="mandatoryField"/>
						 	 	 	 		</td>
						 	 	 	 		
						 	 	 	 		<td>
						 	 	 	 			<p:selectOneMenu required="true" requiredMessage="Please insert unit"
															value="#{patientMedicineManageBean.patientMedicationData.unit}"
															style="width:122px;">
															
															<f:selectItems value="#{patientMedicineManageBean.unitSummaryList}"
																var="unitList" itemLabel="#{unitList.unit}" itemValue="#{unitList.unit}" />
																
																<p:ajax listener="#{patientMedicineManageBean.calculateTotalDispence}" update="dispenceNumber"></p:ajax>	
												</p:selectOneMenu>
						 	 	 	 		</td>
										</tr>
										
										<tr>
											<td>
												<h:outputText value="Dosage form" /><h:outputText value="*" styleClass="mandatoryField"/>
											</td>
											
											<td>
											
											<p:selectOneMenu required="true" requiredMessage="Please insert Dosage form"
															value="#{patientMedicineManageBean.patientMedicationData.dosageForm}"
															style="width:122px;">
															<f:selectItem itemLabel="#{patientMedicineManageBean.patientMedicationData.dosageForm}" itemValue="#{patientMedicineManageBean.patientMedicationData.dosageForm}" />
											
													<f:selectItems value="#{patientMedicineManageBean.unitDetailsList}"
															var="unitList" itemLabel="#{unitList.unitName}" itemValue="#{unitList.unitName}" />
													</p:selectOneMenu>
											</td>
										</tr>
										
										<tr>
											<td>
	 	 	 	 								<h:outputText value="Package" /><h:outputText value="*" styleClass="mandatoryField"/>
	 	 	 	 							</td>
	 	 	 	 							
	 	 	 	 							<td>
	 	 	 	 							
	 	 	 	 								<p:selectOneMenu required="true" requiredMessage="Please insert Dose"
														value="#{patientMedicineManageBean.patientMedicationData.unitDetail}"
														style="width:122px;">
										
						 	 	 	 			
															<f:selectItems value="#{patientMedicineManageBean.dosageDetailsList}"
																var="dosageDetailList" itemLabel="#{dosageDetailList.dosageFrom}" itemValue="#{dosageDetailList.dosageFrom}" />
												</p:selectOneMenu>
	 	 	 	 							</td>
										</tr>
										
										<tr>
											<td>
						 	 	 	 			<h:outputText value="Route" /><h:outputText value="*" styleClass="mandatoryField"/>
						 	 	 	 		</td>
						 	 	 	 		
						 	 	 	 		<td>
						 	 	 	 			<p:selectOneMenu  required="true" requiredMessage="Please insert Route"
															value="#{patientMedicineManageBean.patientMedicationData.byRoute}"
															style="width:122px;">
															<f:selectItem itemLabel="#{patientMedicineManageBean.patientMedicationData.byRoute}" itemValue="#{patientMedicineManageBean.patientMedicationData.byRoute}" />
															<f:selectItems value="#{patientMedicineManageBean.routeDetailsList}"
																var="routeDetailList" itemLabel="#{routeDetailList.routeName}" itemValue="#{routeDetailList.routeName}" />
												</p:selectOneMenu>
						 	 	 	 		</td>
	 	 	 	 						</tr>
	 	 	 	 						
	 	 	 	 						<tr>
								 	 	 	 <td>
								 	 	 	 	<h:outputText value="Regimen" /><h:outputText value="*" styleClass="mandatoryField"/>
								 	 	 	 </td>
							 	 	 	 		
							 	 	 	 		<td>
							 	 	 	 			<p:selectOneMenu 
																value="#{patientMedicineManageBean.patientMedicationData.directions}"
																style="width:122px;">
																
																<f:selectItem
																	itemLabel=""
																	itemValue="" />
																	
																<f:selectItems value="#{patientMedicineManageBean.regimenList}"
																	var="regimen" itemLabel="#{regimen}" itemValue="#{regimen}" />
																	
																	<p:ajax listener="#{patientMedicineManageBean.calculateTotalDispence}" update="dispenceNumber"></p:ajax>	
													</p:selectOneMenu>
							 	 	 	 		</td>
										</tr>
										
										<tr>
											<td>
							 	 	  			<h:outputText value="Days Supply" />
							 	 	  		</td>
							 	 	  		
											<td>
												<p:inputText style="width:50px;" required="true" requiredMessage="Please insert Days Supply"
															value="#{patientMedicineManageBean.patientMedicationData.daySupply}" />
															
									<p:selectOneMenu 
										value="#{patientMedicineManageBean.patientMedicationData.daySupply}"
										style="width:60px;">
											<f:selectItem itemValue="#{patientMedicineManageBean.patientMedicationData.daySupply}" 
													itemLabel="#{patientMedicineManageBean.patientMedicationData.daySupply}"></f:selectItem>>
										<f:selectItems value="#{patientMedicineManageBean.daySupplyList}"
											var="daySupplyDetailList" itemLabel="#{daySupplyDetailList}" itemValue="#{daySupplyDetailList}" />
										<p:ajax listener="#{patientMedicineManageBean.calculateTotalDispence}" update="dispenceNumber"></p:ajax>	
									</p:selectOneMenu>
											</td>
										</tr>
										<tr>
											<td>
							 	 	  			<h:outputText value="Dispense" /><h:outputText value="*" styleClass="mandatoryField"/>
							 	 	  		</td>
							 	 	  		
											<td>
												<p:inputText id="dispenceNumber" style="width:50px;" converter="#{Integer}" maxlength="3"   
															value="#{patientMedicineManageBean.patientMedicationData.quantity}" >
													<f:convertNumber  pattern="#,###" integerOnly="true"  minFractionDigits="3" maxIntegerDigits="3" type="number"/>
												</p:inputText>
											</td>
										</tr>
										
										<tr>
											<td>
							 	 	  			<h:outputText value="Refill"/><h:outputText value="*" styleClass="mandatoryField"/>
							 	 	  		</td>
											
											<td>
												<p:inputText required="true" requiredMessage="Please insert reffils" maxlength="2"
												 		value="#{patientMedicineManageBean.patientMedicationData.reffils}" style="width:50px;">
												 		
												 	<pe:keyFilter mask="num"></pe:keyFilter>
												</p:inputText>
												
												<p:selectOneMenu required="true" 
														value="#{patientMedicineManageBean.patientMedicationData.reffils}"
														style="width:60px;">
														
														<f:selectItems value="#{patientMedicineManageBean.refillDetailsList}"
															var="refillList" itemLabel="#{refillList}" itemValue="#{refillList}" />
														
												</p:selectOneMenu>
											</td>
										</tr>
								
								</table>
							</td>
							
							
							<td>
								
								<table>
										<tr valign="top">
											<td>
												<h:outputText value="Diagnoses" />
											</td>
											
											<td>
											<p:inputText value="#{patientMedicineManageBean.medActionPlan.diagnosis}"/>
												<p:selectOneMenu required="true" requiredMessage="Please select diagnosis" 
							         					 value="#{patientMedicineManageBean.medActionPlan.diagnosis}">
													<f:selectItem itemLabel="Select One" itemValue="" />
							
														<f:selectItems id="diagnosisListId"
																value="#{patientMedicineManageBean.clinicDiagnosisList}"
																	var="clinick" itemLabel="#{clinick.diagnosisName}"
																		itemValue="#{clinick.diagnosisName}" />
								
													 <p:ajax listener="#{patientMedicineManageBean.changediagnosisForSubdiagnosis}"></p:ajax>
							
												</p:selectOneMenu>	
											</td>
										</tr>
										
										<tr>
											<td>
												<h:outputText value="Subdiagnosis" />
											</td>
											
											<td>
											
												<p:inputText value="#{patientMedicineManageBean.subDiagnosisDetail}" />
												<p:selectOneMenu >
							         		
													<f:selectItems id="subdiagnosisListId"
														value="#{patientMedicineManageBean.clinicSubDiagnosisList}"
														var="clinicSubDiagnosis" itemLabel="#{clinicSubDiagnosis.subDiagnosisName}"
														itemValue="#{clinicSubDiagnosis.subDiagnosisName}" />
												</p:selectOneMenu>		
												
											</td>
										</tr>
										
										<tr>
							 	 	  		<td>
							 	 	  			<h:outputText value="Lab" />
							 	 	  		</td>
							 	 	  		
							 	 	  		<td>
							 	 	  			<p:inputText value="#{patientMedicineManageBean.medActionPlan.lab}" />
							 	 	  		</td>
	 	 	  			
	 	 	  							</tr>
	 	 	  							
	 	 	  							<tr>
							 	 	  		<td>
							 	 	  			<h:outputText value="Acceptable Range" />
							 	 	  		</td>
							 	 	  		
							 	 	  		<td>
							 	 	  			<p:inputText  value="#{patientMedicineManageBean.medActionPlan.acceptableRange}" />
							 	 	  		</td>
	 	 	  			
	 	 	  							</tr>
	 	 	  							
	 	 	  							<tr>
							 	 	  		<td>
							 	 	  			<h:outputText value="Lab Frequency" />
							 	 	  		</td>
							 	 	  		
							 	 	  		<td>
							 	 	  			<p:inputText value="#{patientMedicineManageBean.medActionPlan.labFrequency}" />
							 	 	  		</td>
							 	 	  		
	 	 	  			
	 	 	  							</tr>
								
								</table>
							</td>
							
						</tr>
				</table>
					
					<table align="left">
							<tr>
								<td >
										<p:commandButton value="#{msg.done}"
												action="#{patientMedicineManageBean.addMedicine}"
						
												update="messageUpdateForQuickPrescribe"></p:commandButton>
								</td>
								
								

								<td >
									<p:commandButton value="#{msg.cancel}" action="#{patientMedicineManageBean.submitCancelButtonForAnticoag}" immediate="true" style="font-size: 2px;width:50px;"></p:commandButton>
								</td>
								
								
							
							</tr>
					</table> -->
				
	</h:form>
</p:dialog>


<!-- ********************************End pop up for Quick prescribe******************************** -->

<!-- ***************** Dose calculator pop up start......................... -->
<p:dialog widgetVar="warfarinDoseCalculator" resizable="fales" 
	appendTo="@(body)" modal="true" header="#{msg.warfarindosecalculator}"
	height="420" width="460" dynamic="true">
	<h:form id="warfarinDose">

		<table align="center">
			<tr>
				<td height="10px"><p:commandButton value="#{msg.recalculate}"
						actionListener="#{patientMedicineManageBean.calculation}"
						update="warfarinDose"></p:commandButton></td>
				<td><p:commandButton value="#{msg.done}" actionListener="#{patientMedicineManageBean.afterDoseCalculation}" 
					 update=":medicationActionPlanPopId"></p:commandButton></td>

			</tr>
		</table>
		<br />


		<table border="1" bgcolor="#E0F2F7"
			style="font-size: 10px; font-style: verdana; font-family: verdana;">
			<tr>
				<td bgcolor="grey" align="center"><h:outputText
				
						value="#{msg.variable}" /></td>

				<td bgcolor="grey" align="center"><h:outputText
						value="#{msg.unitsorallowedvalue}" /></td>

				<td bgcolor="grey" align="center"><h:outputText
						value="#{msg.entervalue}" /></td>
			</tr>

			<tr>


				<td><h:outputText value="#{msg.height}" style="width: 200px;" />
				</td>

				<td><h:outputText value="#{msg.centimeters}"
						style="width: 200px;" /></td>


				<td><p:inputText
						value="#{patientMedicineManageBean.calculator.height}" style="width:60px"/></td>

			</tr>

			<tr>


				<td><h:outputText value="#{msg.weight}" style="width: 200px;" />
				</td>

				<td><h:outputText value="#{msg.kilograms}"
						style="width: 200px;" /></td>

				<td><p:inputText
						value="#{patientMedicineManageBean.calculator.weight}" style="width:60px"  /></td>

			</tr>



			<tr>


				<td><h:outputText value="#{msg.vkorc1genotype}"
						style="width: 200px;" /></td>

				<td><h:outputText value="#{msg.a_a}" /><br /> <h:outputText
						value="A/G" /><br /> <h:outputText value="G/G" /><br /> <h:outputText
						value="U(for unkown)" /></td>


				<td><p:selectOneMenu
						value="#{patientMedicineManageBean.calculator.vkorc1Genotype}" style="width:60px">
						<f:selectItem itemValue="#{patientMedicineManageBean.calculator.vkorc1Genotype}"
							itemLabel="#{patientMedicineManageBean.calculator.vkorc1Genotype}" />
						<f:selectItem itemLabel="A/A" itemValue="A/A" />
						<f:selectItem itemLabel="A/G" itemValue="A/G" />
						<f:selectItem itemLabel="G/G" itemValue="G/G" />
						<f:selectItem itemLabel="U" itemValue="U" />
					</p:selectOneMenu></td>
			</tr>

			<tr>


				<td><h:outputText value="#{msg.cyp2c9genotype}"
						style="width: 200px;" /></td>

				<td><h:outputText value="*1/*2 " /><br /> <h:outputText
						value="*1/*3 " /><br /> <h:outputText value="*2/*2 " /><br /> <h:outputText
						value="*2/*3 " /><br /> <h:outputText value="*3/*3 " /><br /> <h:outputText
						value="U(for unknown)" style="width: 200px;" /></td>


				<td><p:selectOneMenu
						value="#{patientMedicineManageBean.calculator.cyp2cGenotype}" style="width:60px">
						<f:selectItem
							itemLabel="#{patientMedicineManageBean.calculator.cyp2cGenotype}"
							itemValue="#{patientMedicineManageBean.calculator.cyp2cGenotype}" />
						<f:selectItem itemLabel="*1/*2" itemValue="*1/*2" />
						<f:selectItem itemLabel="*1/*3" itemValue="*1/*3" />
						<f:selectItem itemLabel="*2/*2" itemValue="*2/*2" />
						<f:selectItem itemLabel="*3/*3" itemValue="*3/*3" />
						<f:selectItem itemLabel="U" itemValue="U" />
					</p:selectOneMenu></td>
			</tr>

			<tr>

				<td><h:outputText value="#{msg.race}" style="width: 200px;" />
				</td>

				<td><h:outputText value="#{msg.a}" /><br /> <h:outputText
						value="#{msg.b}" /><br /> <h:outputText value="#{msg.c}" /><br />


				</td>

				<td><p:selectOneMenu
						value="#{patientMedicineManageBean.calculator.race}" style="width:60px">
						<f:selectItem
							itemLabel="#{patientMedicineManageBean.calculator.race}"
							itemValue="#{patientMedicineManageBean.calculator.race}" />
						<f:selectItem itemLabel="A" itemValue="A" />
						<f:selectItem itemLabel="B" itemValue="B" />
						<f:selectItem itemLabel="C" itemValue="C" />
					</p:selectOneMenu></td>

			</tr>

			<tr>

				<td><h:outputText value="#{msg.takingenzineinduce}"
						style="width: 200px;" /></td>

				<td><h:outputText value="#{msg.y}" /><br /> <h:outputText
						value="#{msg.n}" /><br /></td>


				<td><p:selectOneMenu
						value="#{patientMedicineManageBean.calculator.takingEnzimeInduce}" style="width:60px">
						<f:selectItem
							itemLabel="#{patientMedicineManageBean.calculator.takingEnzimeInduce}"
							itemValue="#{patientMedicineManageBean.calculator.takingEnzimeInduce}" />
						<f:selectItem itemLabel="Y" itemValue="Y" />
						<f:selectItem itemLabel="N" itemValue="N" />

					</p:selectOneMenu></td>

			</tr>




			<tr>

				<td><h:outputText value="#{msg.takingamiodarone}"
						style="width: 200px;" /></td>

				<td><h:outputText value="#{msg.y}" /><br /> <h:outputText
						value="#{msg.n}" /><br /></td>

				<td><p:selectOneMenu
						value="#{patientMedicineManageBean.calculator.takingAmiodarone}" style="width:60px">
						<f:selectItem
							itemLabel="#{patientMedicineManageBean.calculator.takingAmiodarone}"
							itemValue="#{patientMedicineManageBean.calculator.takingAmiodarone}" />
						<f:selectItem itemLabel="Y" itemValue="Y" />
						<f:selectItem itemLabel="N" itemValue="N" />

					</p:selectOneMenu></td>
			</tr>

		</table>
		<br />
		<table id="updateWeekStatus">
			<tr>
				<td colspan="3"><h:inputText id="result"
						value="Computed Weekly Starting Dose(mg/week): #{patientMedicineManageBean.weekStatus}"
						style="font-size: 10px; font-family: verdana;font-weight: bold;width:300px"
						readonly="true" >

					</h:inputText></td>
			</tr>
		</table>
	</h:form>
</p:dialog>

<!-- ******************88for Add new medicine For pop up startted PMR meds by gopal.......................>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> -->

<p:dialog id="addNewMedicinePopupID" widgetVar="addNewMedicinePopup" 
	resizable="true" header="#{msg.addNewMedicine}" appendTo="@(body)" modal="true"  height="150" width="567"
	  dynamic="true" closable="false" position="500,400">

<!-- <p:growl id="growl" showDetail="true" life="4000" />   -->
	<center><h:form id="newmedactionPlan1">
	 <p:messages  id="messageUpdate" showDetail="false" style="color:#FF0000;margin:8px;" closable="true"   /> 
<h:outputText value="#{msg.thismedicine_patientactivemedicine}" styleClass="mandatoryField" rendered="#{patientMedicineManageBean.showMessageForNewAddMeds}"/>
		<table width="100%">
			<tr>
	<td><h:outputText value="#{msg.med}" /><h:outputText value="*" styleClass="mandatoryField"/></td>
	<td><p:inputText readonly="true" value="#{patientMedicineManageBean.patientMedicationData.drugs}" id="medicinename"  label="medicinename"  required="true" requiredMessage="Please insert medicine">
						 <p:ajax update="medicinename"></p:ajax>
					 <!-- readonly="true"  <p:ajax
							listener="#{patientMedicineManageBean.checkStartDateMedicine}"
							update="newmedactionPlan1">
					 </p:ajax>  -->
					</p:inputText> 
<p:commandButton value="#{msg.search}" actionListener="#{patientMedicineManageBean.searchMedicine}" update=":searchMedpopupid" immediate="true"></p:commandButton>
				</td>
				<td>
				 <h:outputText value="#{msg.startDate}" />
				 <h:outputText value="*" styleClass="mandatoryField"/>	
				</td>
				<td>
			<p:calendar pattern="MM/dd/yyyy"  showOn="button" navigator="true" yearRange="c-100:c+1" id="startdateId"
					value="#{patientMedicineManageBean.patientMedicationData.startDate}" 
					onfocus="$('#queryForm\\:msgs > div').hide();$('#queryForm\\:msgs > div').eq(1).show();$(this).mask('99/99/9999');return false;" 
					required="true" requiredMessage="Please insert start date">
				<p:ajax update="startdateId"></p:ajax>
						</p:calendar>
				</td>
			</tr>
			</table>
			<br/>
			
			<table width="95%">
			<tr >
				<td >
						<p:commandButton value="#{msg.cancel}" action="#{patientMedicineManageBean.submitCancelButtonforpersonalisedmedreview}" immediate="true" style="font-size: 2px;width:50px;"></p:commandButton>
						
						 &nbsp; &nbsp; 
						
						<p:commandButton  value="#{msg.quickPrescribe}" actionListener="#{patientMedicineManageBean.afterAddNewMedicineGoToMedActionPlan}" 
							  oncomplete="quickPrescribe.show();"  rendered="#{patientMedicineManageBean.showTabForAnticoagMeds}" style="font-size: 2px;"/>
						 &nbsp; &nbsp; 
						<!-- <p:ajax update=":accordingPanelID:planListId" process="@form"  ></p:ajax> -->
				
					<p:commandButton value="#{msg.sendToAnticoagClinic}" action="#{patientMedicineManageBean.sendToAnticoagTab}"  onclick="addNewMedicinePopup.hide();"
					
						rendered="#{patientMedicineManageBean.showTabForAnticoagMeds}"/>
				 &nbsp; &nbsp;
				
<p:commandButton value="#{msg.dosingGuidelineWizard}" action="#{patientMedicineManageBean.afterAddNewMedicine1}" 
		update=":warfarinheaderIdValue,:DabigatranHeader,:ApixabanHeader,:RivaroxabanHeader,:FondaparinuxHeader,:DesirudinHeader,:dalteparinHeader,:EnoxaparinHeader"
				rendered="#{patientMedicineManageBean.showTabForAnticoagMeds}"/>
&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;
&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;

<p:commandButton value="Next" action="#{patientMedicineManageBean.afterAddNewMedicine1}" update="messageUpdate,:generalMedicineHeader" disabled="#{patientMedicineManageBean.patientMedicationData.drugs.isEmpty()}"
	rendered="#{!patientMedicineManageBean.showTabForAnticoagMeds}" style="font-size: 2px;width:52px;"/>
				</td>
			</tr>

		</table>

	</h:form></center>
</p:dialog>
<!-- ******************88for Add new medicine For pop up end anticoag meds by gopal.......................>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> -->

<!-- - pop up for warfarin medicine for anticoage clinic..... -->
	<p:dialog id="WarfarinPopUpID" widgetVar="WarfarinPopUp"
	    resizable="true"  appendTo="@(body)" modal="true" height="460" width="70%"
	    dynamic="true" closable="false" position="260,160">
	     <f:facet name="header">
      		<h:outputText id="warfarinheaderIdValue" value="#{patientMedicineManageBean.patientMedicationData.drugs}" />
   		</f:facet>
	 <h:form id="WarfarinPopUpFormId">
	 
	 <table  width="100%" border="0"><tr><td width="92%" valign="top">
	 	 <p:wizard flowListener="#{patientMedicineManageBean.onFlowProcessForwarfarin}">  
	 	 	
	 	 	 <p:tab id="step1" title="Step 1" titleStyleClass="popupStepFont">  
	 	 	 
	 	 	 <p:outputPanel>
				 	   <h:panelGrid columns="3">
							<h:outputText value="#{msg.diagnoses}" /><h:outputText value="*" styleClass="mandatoryField"/>	
							<p:selectOneMenu required="true" requiredMessage="Please select diagnosis" style="width:350px;"
							          value="#{patientMedicineManageBean.medActionPlan.diagnosis}">
							<f:selectItem itemLabel="Select One" itemValue="" />
							<!-- <f:selectItems value="#{patientMedicineManageBean.clinicDiagnosisList}" var="clinick" itemLabel="{clinick}" itemValue="{clinick}"/> -->
							<f:selectItems id="diagnosisListId"
								value="#{patientMedicineManageBean.clinicDiagnosisList}"
								var="clinick" itemLabel="#{clinick.diagnosisName}"
								itemValue="#{clinick.diagnosisName}" />
								
						<p:ajax
							listener="#{patientMedicineManageBean.changediagnosisForSubdiagnosis}"
							></p:ajax>
						</p:selectOneMenu>
				
				 	</h:panelGrid>
				 </p:outputPanel>
	 	 	 </p:tab>
	 	 	 
	 	 	 <p:tab id="Step2" title="Step 2" titleStyleClass="popupStepFont">  
	 	 	 		
	 	 	 		
	 	 	 		<!--    <h:panelGrid columns="2" border="3"> -->
	 	 	 		<h:outputText value="#{msg.diagnosis}:" style="font-weight:bold;"/><h:outputText value="#{patientMedicineManageBean.medActionPlan.diagnosis}" /><br/>
	 	 	 		
	 	 	 		<p:outputPanel id="chadsOutputPanelId" rendered="#{patientMedicineManageBean.medActionPlan.diagnosis eq 'Atrial fibrillation (non-valvular/non-rheumatic)'}" >
	 	 	 		<h:outputText value="Calculate CHAD Score:" style="font-weight:bold;"/><br/>
	 	 	 		<table>
	 	 	 			<tr>
	 	 	 			<td>
	 	 	 			
	 	 	 			
							     <h:panelGrid columns="6" >
							     	  <h:selectBooleanCheckbox value="#{patientMedicineManageBean.chadsScore.heartFailure}"  class="checkall">
							     	  		<p:ajax listener="#{patientMedicineManageBean.submitChadsScore}"  update="chadScoreValue"/>
							     	  </h:selectBooleanCheckbox>
								  	  <h:outputText value="Congestive Heart Failure " />  
								     
								     <h:selectBooleanCheckbox  value="#{patientMedicineManageBean.chadsScore.hyperTension}" class="checkall">
								     	<p:ajax listener="#{patientMedicineManageBean.submitChadsScore}" update="chadScoreValue" />
								     </h:selectBooleanCheckbox>
								     <h:outputText value="Hypertension" />   
								  	 
								  	  <h:selectBooleanCheckbox value="#{patientMedicineManageBean.chadsScore.age}" class="checkall">
								  	  		<p:ajax listener="#{patientMedicineManageBean.submitChadsScore}"  update="chadScoreValue"/>
								  	  </h:selectBooleanCheckbox>
								  	 <h:outputText value="Age &ge; 75 " />  
								  	 
								  	 <h:selectBooleanCheckbox value="#{patientMedicineManageBean.chadsScore.diabetes}" class="checkall">
								  	 		<p:ajax listener="#{patientMedicineManageBean.submitChadsScore}"  update="chadScoreValue"/>
								  	 </h:selectBooleanCheckbox>
								  	 <h:outputText value="Diabetes " />  
								  	 
								  	 <h:selectBooleanCheckbox value="#{patientMedicineManageBean.chadsScore.stroke}" class="checkall">
								  	 		<p:ajax listener="#{patientMedicineManageBean.submitChadsScore}"  update="chadScoreValue"/>
								  	 </h:selectBooleanCheckbox>		
								  	 <h:outputText value="Secondary prevention in  &lt;br /&gt; patients with prior ischemic stroke, &lt;br /&gt; TIA, or systemic thromboembolic event" escape="false" />  
								  	 
								  	 <!--  <h:selectBooleanCheckbox value="#{patientMedicineManageBean.chadsScore.stroke}" disabled="#{!patientMedicineManageBean.showChadTab}"/>
								  	 <h:outputText value="Congestive Heart Failure " />   -->
								  	</h:panelGrid>
								  	</td>
								  	
	 	 	 			</tr>
	 	 	 			
	 	 	 			<tr>
	 	 	 				<td>
								   <!--  <p:commandButton value="Submit CHAD score" actionListener="#{patientMedicineManageBean.submitChadsScore}" 
								  		update="chadScoreValue"></p:commandButton> -->
								  	&nbsp;&nbsp;
								  	<h:outputText value="Chad Score=#{patientMedicineManageBean.chadsScore.score}" style="font-size: 12px;font-weight: bold;" id="chadScoreValue"/>
								  		
								  
							  </td>
	 	 	 			</tr>
	 	 	 			
	 	 	 		</table>
	 	 	 		</p:outputPanel>
	 	 	 		<h:outputText value="Subdiagnosis:" style="font-weight:bold;"/>
	 	 	 		<p:selectOneRadio  value="#{patientMedicineManageBean.subDiagnosisDetail}"
													            layout="pageDirection">  
						<f:selectItems id="subdiagnosisListId"
								value="#{patientMedicineManageBean.clinicSubDiagnosisList}"
								var="clinicSubDiagnosis" itemLabel="#{clinicSubDiagnosis.subDiagnosisName}"
								itemValue="#{clinicSubDiagnosis.subDiagnosisName}" />
								
					</p:selectOneRadio>  
						  
	 	 	   </p:tab>
	 	 	 
	 	 	 <p:tab id="Step3" title="Step 3" titleStyleClass="popupStepFont"> 
	 	 	 
	 	 	 
	 	 	 <table >
	 	 	 	<tr>
	 	 	 		<td>
	 	 	 			<h:outputText value="#{msg.diagnosis}:" style="font-weight:bold;" /></td>
	 	 	 		
	 	 	 		<td><h:outputText value="#{patientMedicineManageBean.medActionPlan.diagnosis}" /></td>
	 	 	 		
	 	 	 		<td>
	 	 	 			<h:outputText value="Subdiagnosis:" style="font-weight:bold;"/>
	 	 	 		</td>
	 	 	 		
	 	 	 		<td><h:outputText value="#{patientMedicineManageBean.subDiagnosisDetail}" /></td>
	 	 	 	</tr>
	 	 	 	
	 	 	 	<tr><td></td></tr>
	 	 	 	
	 	 	 	<tr>
	 	 	 		<td>
	 	 	 			<h:outputText value="Recommendation:" style="font-weight:bold;"/>
	 	 	 		</td>
	 	 	 		<td><h:outputText value="#{patientMedicineManageBean.patientMedicationData.recommendedDose}" /></td>
	 	 	 		
	 	 	 		<td>
	 	 	 			<h:outputText value="Comment:"  style="font-weight:bold;"/>
	 	 	 		</td>
	 	 	 		
	 	 	 		<td>
	 	 	 			<h:outputText value="#{patientMedicineManageBean.patientMedicationData.comments}" />
	 	 	 		</td>
	 	 	 		
	 	 	 	</tr>
	 	 	 	
	 	 	 	<tr><td></td></tr>
	 	 	 	
	 	 	 	<tr>
	 	 	 		<td>
	 	 	 			<h:outputText value="Recommended target INR range: " style="font-weight:bold;"/>
	 	 	 		</td>
	 	 	 		
	 	 	 		<td><h:outputText value="#{patientMedicineManageBean.medActionPlan.recommendedTarget}" /></td>
	 	 	 		
	 	 	 		<td><h:outputText value="Recommended duration of therapy:  " style="font-weight:bold;"/></td>
	 	 	 		
	 	 	 		<td><h:outputText value="#{patientMedicineManageBean.medActionPlan.recommendedDurationOfTherapy}"  escape="false" /></td>
	 	 	 		
	 	 	 	</tr>
	 	 	 	
	 	 	 	<tr><td></td></tr>
	 	 	 	
	 	 	 	<tr>
	 	 	 		<td>
	 	 	 			 <p:outputPanel  rendered="#{patientMedicineManageBean.medActionPlan.diagnosis eq 'Atrial fibrillation (non-valvular/non-rheumatic)'}" >
					 	 		<h:outputText value="Chad Score:" style="font-weight:bold;" />&nbsp;&nbsp;
					 	 		<h:outputText value="#{patientMedicineManageBean.chadsScore.score}"/><br/>
	 	 				 </p:outputPanel>
	 	 	 		</td>
	 	 	 	</tr>
	 	 	 	
	 	 	 </table>
	 	 		
	 	 		<br />
	 	 		 
	 	 		
	 	 		 
	 	 		
	 	 		
	 	 		
	 	 		<!-- <p:outputPanel rendered="#{!(patientMedicineManageBean.patientMedicationData.additionalRecommendation.length() eq '0')}">
	 	 			<h:outputText value="Additional recommendation:   " style="font-weight:bold;"/>&nbsp;&nbsp;
	 	 				<h:outputText value="#{patientMedicineManageBean.patientMedicationData.additionalRecommendation}" /><br/>
	 	 		</p:outputPanel> -->
	 	 		
	 	 		
	 	 		
	 	 		
	 	 		
	 	 		
	 	 		<table width="80%">
	 	 			<tr>
	 	 				<td>
	 	 					<h:outputText value="Goal target INR range " />
	 	 					<h:outputText value="*" styleClass="mandatoryField"/>	
	 	 					</td><td>
							<p:selectOneMenu required="true" 
							          value="#{patientMedicineManageBean.medActionPlan.acceptableRange}">
							<f:selectItem itemLabel="#{patientMedicineManageBean.medActionPlan.recommendedTarget}" itemValue="#{patientMedicineManageBean.medActionPlan.recommendedTarget}" />
							<!-- <f:selectItems value="#{patientMedicineManageBean.clinicDiagnosisList}" var="clinick" itemLabel="{clinick}" itemValue="{clinick}"/> -->
							<f:selectItems id="targetInrId"
								value="#{patientMedicineManageBean.inrGoalTargetList}"
								var="inrTarget" itemLabel="#{inrTarget}"
								itemValue="#{inrTarget}" />
						
						</p:selectOneMenu>
	 	 				</td>
	 	 				
	 	 				<td >
	 	 					<h:outputText value="Duration of therapy " />
	 	 					<h:outputText value="*" styleClass="mandatoryField"/>	
	 	 					</td><td>
							<p:selectOneMenu required="true" 
							          value="#{patientMedicineManageBean.medActionPlan.durationOfTherapy}">

							<f:selectItem itemLabel="#{patientMedicineManageBean.medActionPlan.recommendedDurationOfTherapy}" itemValue="#{patientMedicineManageBean.medActionPlan.recommendedDurationOfTherapy}"/>

							<f:selectItem itemLabel="#{patientMedicineManageBean.medActionPlan.recommendedDurationOfTherapy}"   escapeItem="false" 
								itemValue="#{patientMedicineManageBean.medActionPlan.recommendedDurationOfTherapy}" />

							<!-- <f:selectItems value="#{patientMedicineManageBean.clinicDiagnosisList}" var="clinick" itemLabel="{clinick}" itemValue="{clinick}"/> -->
							<f:selectItems id="therapyID"  
								value="#{patientMedicineManageBean.durationOfTherapy}"
								var="durationTherapy" itemLabel="#{durationTherapy}"
								itemValue="#{durationTherapy}" itemLabelEscaped="false"  />
						
						</p:selectOneMenu>
	 	 				
	 	 				</td>
	 	 			</tr>
	 	 		</table>
	 	 		
	 	 		<table>
	 	 			<tr>
	 	 				<td>
	 	 					<h:outputText value="Comments :" />
	 	 				</td>
	 	 				<td>
	 	 					<p:inputTextarea id="commentEditor" value="#{patientMedicineManageBean.patientMedicationData.doctorComments}"  cols="75" rows="3">
											<!-- <p:ajax update="notesEditor"></p:ajax> -->
								</p:inputTextarea>
	 	 				</td>
	 	 			</tr>
	 	 		</table>
	 	 		
	 	 		
	 	 	   <p:outputPanel>
		 	 	 	
				</p:outputPanel>	
									 	 
	 	  </p:tab> 
	 	 	 
	 	 	 <p:tab id="Step4" title="Step 4" titleStyleClass="popupStepFont"> 
	 	 	 
	 	 	 	 <p:outputPanel id="doseCalId" >
	 	 	 	 
	 	 	 	 <table>
	 	 	 	 	<tr>
	 	 	 	 		<td>
	 	 	 	 			<h:outputText value="#{msg.diagnosis}:" style="font-weight:bold;"/>&nbsp;&nbsp;<h:outputText value="#{patientMedicineManageBean.medActionPlan.diagnosis}" />
	 	 	 	 		</td>
	 	 	 	 		<td>
	 	 	 	 			<h:outputText value="#{msg.subdiagnoses}:" style="font-weight:bold;"/>&nbsp;&nbsp;<h:outputText value="#{patientMedicineManageBean.subDiagnosisDetail}" />
	 	 	 	 		</td>
	 	 	 	 		
	 	 	 	 		
	 	 	 	 	</tr>
	 	 	 	 	
	 	 	 	 	<tr><td></td></tr>
	 	 	 	 		
	 	 	 	 	
	 	 	 	 	 <tr>
	 	 	 	 		<td>
	 	 	 	 			<h:outputText value="Recommendation:" style="font-weight:bold;"/>&nbsp;&nbsp;<h:outputText value="#{patientMedicineManageBean.patientMedicationData.recommendedDose}" />
	 	 	 	 		</td>
	 	 	 	 		<td>
	 	 	 	 			<h:outputText value="Recommended Dose:" style="font-weight:bold;"/>&nbsp;&nbsp;<h:outputText value="#{patientMedicineManageBean.patientMedicationData.strengths}" />
	 	 	 	 		</td>
	 	 	 	 	</tr>
	 	 	 	 	
	 	 	 	 	<tr><td></td></tr>
	 	 	 	 	
	 	 	 	 	<tr>
	 	 	 	 		<td>
	 	 	 	 			<h:outputText value="Duration of therapy:" style="font-weight:bold;"/>&nbsp;&nbsp;<h:outputText value="#{patientMedicineManageBean.medActionPlan.durationOfTherapy}" />
	 	 	 	 		</td>
	 	 	 	 		<td>
	 	 	 	 			<h:outputText value="Goal target INR range: " style="font-weight:bold;"/><h:outputText value="#{patientMedicineManageBean.medActionPlan.acceptableRange}" />
	 	 	 	 		</td>
	 	 	 	 	</tr>
	 	 	 	 	
	 	 	 	 	<tr><td></td></tr>
	 	 	 	 	
	 	 	 	 	<tr>
	 	 	 	 		<td>
	 	 	 	 			<p:outputPanel  rendered="#{patientMedicineManageBean.medActionPlan.diagnosis eq 'Atrial fibrillation (non-valvular/non-rheumatic)'}" >
					 	 		<h:outputText value="Chad Score:" style="font-weight:bold;" />&nbsp;&nbsp;
					 	 		<h:outputText value="#{patientMedicineManageBean.chadsScore.score}"/><br/>
	 	 		 		</p:outputPanel>
	 	 	 	 		
	 	 	 	 		</td>
	 	 	 	 	</tr>
	 	 	 	
	 	 	 	
	 	 	 	 </table>
	 	 	 	 <table align="center">
	 	 	 	 	<tr>
	 	 	 	 		<td>
	 	 	 	 		<h:outputText value="#{msg.notes}"  style="font:10;font-weight:bold;"/><br/>
								<p:commandLink id="grow"  value="#{msg.highSensitivitytoWarfarin}" action="#" style="text-decoration:underline;" />
										 
										 <p:tooltip for="grow"  showEffect="clip"  >
											 <h:outputText value=" Baseline INR &ge; 1.5 " /><br />
											 <h:outputText value=" Age &gt; 65 	" /><br />
											 <h:outputText value=" Actual body weight &lt; 45 kg or actual  ideal " /><br />
											 <h:outputText value=" Malnourished/ NPO &gt;3 days" /><br />
											 <h:outputText value=" Hypoalbuminemia &lt; 2 g/dl" /><br />
											 <h:outputText value=" Chronic diarrhea" /><br />
											 <h:outputText value=" Significant drug interactions " /><br />
											 <h:outputText value=" Decompensated heart failure" /><br />
											 <h:outputText value=" Cancer" /><br />
											 <h:outputText value=" Current antiplatelet therapy" /><br />
											 <h:outputText value=" Thrombocytopenia: platelet &lt; 75 K/uL" /><br />
											 <h:outputText value=" Alcohol abuse history" /><br />
											 <h:outputText value=" Significant hepatic disease:" /><br />
											 <h:outputText value=" cirrhosis or total bilirubin.&gt;2.4 mg/dl" /><br />
											 <h:outputText value=" End stage renal disease" /><br />
											 <h:outputText value=" GI bleed within past 30 days" /><br />
											 <h:outputText value=" Surgery within past 2 weeks" /><br />
											 <h:outputText value=" Intracranial bleed within past 30 days" /><br />
										 </p:tooltip>  
	 	 	 	 		
	 	 	 	 		</td>	 	 	 	 	
	 	 	 	 	</tr>
	 	 	 	 	<tr>
	 	 	 	 		<td>
	 	 	 	 			<p:commandLink id="grow1" value="#{msg.LowSensitivitytoWarfarin}" action="#"  style="text-decoration:underline;"/>
									 <p:tooltip for="grow1"  showEffect="clip"  escape="false">
									 
										 <h:outputText value=" Baseline INR  &lt; 1.5" /><br />
										 <h:outputText value=" Age &ge; 65" /><br />
										 <h:outputText value=" No other risk factors" /><br />
									
									 </p:tooltip>
	 	 	 	 		</td>
	 	 	 	 	</tr>
	 	 	 	 </table>
	 	 	 	 
	 	 	 	<table>
	 	 	 	 	<tr>
	 	 	 	 		<td>
	 	 	 	 				<h:outputText value="Strength" /><h:outputText value="*" styleClass="mandatoryField"/>
	 	 	 	 		</td>
	 	 	 	 		<td>
	 	 	 	 			<p:selectOneMenu required="true" 
										value="#{patientMedicineManageBean.patientMedicationData.strengths}"
										style="width:122px;">
										<f:selectItem
											itemLabel="#{patientMedicineManageBean.patientMedicationData.strengths}"
											itemValue="#{patientMedicineManageBean.patientMedicationData.strengths}" />
										<f:selectItems value="#{patientMedicineManageBean.doseDetailList}"
											var="doseList" itemLabel="#{doseList.dose}" itemValue="#{doseList.dose}" />
									</p:selectOneMenu>
	 	 	 	 	</td>
	 	 	 	 	
	 	 	 	 	
	 	 	 	 	
	 	 	 	 	<td>
	 	 	 	 				<h:outputText value="unit" /><h:outputText value="*" styleClass="mandatoryField"/>
	 	 	 	 		</td>
	 	 	 	 		<td>
	 	 	 	 			<p:selectOneMenu required="true" 
										value="#{patientMedicineManageBean.patientMedicationData.unit}"
										style="width:122px;">
										
										<f:selectItems value="#{patientMedicineManageBean.unitSummaryList}"
											var="unitList" itemLabel="#{unitList.unit}" itemValue="#{unitList.unit}" />
										<p:ajax listener="#{patientMedicineManageBean.calculateTotalDispence}" update="dispenceNumber,input"></p:ajax>		
											<!-- <p:ajax   update="input"/> -->
									</p:selectOneMenu>
	 	 	 	 	</td>
	 	 	 	 	
	 	 	 	 	
	 	 	 	 		<td>
	 	 	 	 				<h:outputText value="Dosage form" /><h:outputText value="*" styleClass="mandatoryField"/>
	 	 	 	 		</td>
	 	 	 	 		<td>
	 	 	 	 		
	 	 	 	 		
	 	 	 	 		<!-- <p:selectOneMenu required="true" 
										value="#{patientMedicineManageBean.patientMedicationData.dosageForm}"
										style="width:122px;">
	 	 	 	 				<f:selectItem itemLabel="#{patientMedicineManageBean.patientMedicationData.dosageForm}" itemValue="#{patientMedicineManageBean.patientMedicationData.dosageForm}" />
										<f:selectItem
											itemLabel="#{patientMedicineManageBean.patientMedicationData.directions}"
											itemValue="#{patientMedicineManageBean.patientMedicationData.directions}" />
											
										<f:selectItems value="#{patientMedicineManageBean.unitDetailsList}"
											var="unitList" itemLabel="#{unitList.unitName}" itemValue="#{unitList.unitName}" />
										 <p:ajax   update="input"/>
									</p:selectOneMenu> -->
							<p:inputText  value="#{patientMedicineManageBean.patientMedicationData.dosageForm}" readonly="true"></p:inputText>	
								
	 	 	 	 	 </td>
	 	 	 	 	</tr>
	 	 	 	 	
	 	 	 	 	<tr>
	 	 	 	 	
	 	 	 	 	
	 	 	 	 	<td>
	 	 	 	 				<h:outputText value="Route" /><h:outputText value="*" styleClass="mandatoryField"/>
	 	 	 	 		</td>
	 	 	 	 		<td>
	 	 	 	 			<!-- <p:selectOneMenu required="true" 
										value="#{patientMedicineManageBean.patientMedicationData.byRoute}"
										style="width:122px;">
										
										<f:selectItem
											itemLabel="#{patientMedicineManageBean.patientMedicationData.directions}"
											itemValue="#{patientMedicineManageBean.patientMedicationData.directions}" />
										<f:selectItem itemLabel="#{patientMedicineManageBean.patientMedicationData.byRoute}" itemValue="#{patientMedicineManageBean.patientMedicationData.byRoute}" />
										<f:selectItems value="#{patientMedicineManageBean.routeDetailsList}"
											var="routeDetailList" itemLabel="#{routeDetailList.routeName}" itemValue="#{routeDetailList.routeName}" />
											<p:ajax   update="input"/>
									</p:selectOneMenu> -->
									<p:inputText  value="#{patientMedicineManageBean.patientMedicationData.byRoute}" readonly="true"></p:inputText>
	 	 	 	 		</td>
	 	 	 	 	
	 	 	 	 	
	 	 	 	 	<td>
	 	 	 	 				<h:outputText value="Regimen" /><h:outputText value="*" styleClass="mandatoryField"/>
	 	 	 	 		</td>
	 	 	 	 		<td>
	 	 	 	 			<p:selectOneMenu required="true" requiredMessage="Please Select Regimen"
										value="#{patientMedicineManageBean.patientMedicationData.directions}"
										style="width:122px;">
										<f:selectItem
											itemLabel=""
											itemValue="" />
										<f:selectItems value="#{patientMedicineManageBean.regimenList}"
											var="regimen" itemLabel="#{regimen}" itemValue="#{regimen}" />
										
										<p:ajax listener="#{patientMedicineManageBean.calculateTotalDispence}" update="dispenceNumber,input"></p:ajax>	
										
									</p:selectOneMenu>
	 	 	 	 	</td>
	 	 	 	 	
	 	 	 	 	
	 	 	 	 	
	 	 	 	 	
	 	 	 	 		<td>
	 	 	 	 				<h:outputText value="PRN" />
	 	 	 	 		</td>
	 	 	 	 		
	 	 	 	 		 <td>
	 	 	 	 			<p:selectBooleanCheckbox value="#{patientMedicineManageBean.patientMedicationData.prn}" />  
	 	 	 	 		</td> 
	 	 	 	 		
	 	 	 	 		<td>
	 	 	 	 				<h:outputText value="Allow substitution" />
	 	 	 	 		</td>
	 	 	 	 		
	 	 	 	 		 <td>
	 	 	 	 			<p:selectBooleanCheckbox value="#{patientMedicineManageBean.patientMedicationData.allowSubstitution}" />  
	 	 	 	 		</td> 
	 	 	 	 		
	 	 	 	 </tr>
	 	 	 
	 	 	  	<tr>
	 	 	  		<td>
	 	 	  			<h:outputText value="Dispense" /><h:outputText value="*" styleClass="mandatoryField"/>
	 	 	  		</td>
						<td>
							<p:inputText id="dispenceNumber" style="width:50px;" required="true" converter="#{Integer}" maxlength="3"
										value="#{patientMedicineManageBean.patientMedicationData.quantity}" >
								<f:convertNumber  pattern="#0" integerOnly="true"  minFractionDigits="3" maxIntegerDigits="3" type="number"/>
							</p:inputText>
						</td>
						
					<td>
	 	 	  			<h:outputText value="Days Supply" />
	 	 	  		</td>
						<td>
							<!-- <p:inputText style="width:50px;" required="true" 
										value="#{patientMedicineManageBean.patientMedicationData.daySupply}" /> -->
										
							<p:selectOneMenu 
										value="#{patientMedicineManageBean.patientMedicationData.daySupply}"
										style="width:80px;">
											<f:selectItem itemValue="#{patientMedicineManageBean.patientMedicationData.daySupply}" 
													itemLabel="#{patientMedicineManageBean.patientMedicationData.daySupply}"></f:selectItem>
										<f:selectItems value="#{patientMedicineManageBean.daySupplyList}"
											var="daySupplyDetailList" itemLabel="#{daySupplyDetailList}" itemValue="#{daySupplyDetailList}" />
										
										<p:ajax listener="#{patientMedicineManageBean.calculateTotalDispence}" update="dispenceNumber"></p:ajax>	
										
									</p:selectOneMenu>
						</td>
	 	 	  		
	 	 	  		<td>
	 	 	  			<h:outputText value="Refill"/>
	 	 	  		</td>
						<td>
							
										<!-- <p:inputText required="true" requiredMessage="Please insert reffils" maxlength="2" 
							 value="#{patientMedicineManageBean.patientMedicationData.reffils}" style="width:50px;">
							 
							 <pe:keyFilter mask="num"></pe:keyFilter>
						</p:inputText> -->
						
						<p:selectOneMenu required="true" 
										value="#{patientMedicineManageBean.patientMedicationData.reffils}"
										style="width:60px;">
										
										<f:selectItems value="#{patientMedicineManageBean.refillDetailsList}"
											var="refillList" itemLabel="#{refillList}" itemValue="#{refillList}" />
										
									</p:selectOneMenu>
						
						</td>
	 	 	  		 <td>
	 	 					<h:outputText value="Instructions" />
	 	 				</td>
	 	 				<td>
	 	 					<p:inputTextarea readonly="true" id="input" 
	 	 							value="Take #{patientMedicineManageBean.patientMedicationData.unit} &nbsp;&nbsp;
	 	 									 #{patientMedicineManageBean.patientMedicationData.dosageForm} &nbsp;&nbsp;
	 	 									#{patientMedicineManageBean.patientMedicationData.byRoute} &nbsp;&nbsp;
	 										 #{patientMedicineManageBean.patientMedicationData.directions}" cols="15" rows="4">
											
								</p:inputTextarea>
	 	 				</td> 
	 	 	  	</tr>
	 	 	  </table>
	 	 	 	 
	 	 	 	  
			</p:outputPanel>
	 	 	 
	 	 	 </p:tab>
	 	 	  <p:tab id="Step5" title="Step 5" titleStyleClass="popupStepFont"> 
	 	 	  
	 	 	    <table>
	 	 	  		<tr>
	 	 	  			
	 	 	  			<td  >
	 	 	  				<h:outputText value="#{msg.diagnosis}:" style="font-weight:bold;"/>
	 	 	  			</td>
	 	 	  			
	 	 	  			<td><h:outputText value="#{patientMedicineManageBean.medActionPlan.diagnosis}" /></td>
	 	 	  			
	 	 	  			<td >
	 	 	  				<h:outputText value="#{msg.subdiagnoses}:" style="font-weight:bold;" />
	 	 	  			</td>
	 	 	  			
	 	 	  			<td><h:outputText value="#{patientMedicineManageBean.subDiagnosisDetail}" /></td>
	 	 	  			
	 	 	  		</tr>
	 	 	  		
	 	 	  		<tr><td></td></tr>
	 	 	  		
	 	 	  		<tr>
	 	 	  			
	 	 	  			<td>
	 	 	  				<h:outputText value="Duration of therapy:" style="font-weight:bold;"/>
	 	 	  			</td>
	 	 	  			
	 	 	  			<td><h:outputText value="#{patientMedicineManageBean.medActionPlan.durationOfTherapy}" /></td>
	 	 	  			<td >
	 	 	  				<h:outputText value="Dose:" style="font-weight:bold;"/>
	 	 	  			</td>
	 	 	  			
	 	 	  			<td><h:outputText value="#{patientMedicineManageBean.patientMedicationData.strengths}" /></td>
	 	 	  		</tr>
	 	 	  		
	 	 	  		<tr><td></td></tr>
	 	 	  		
	 	 	  		<tr>
	 	 	  			
	 	 	  			
	 	 	  			
	 	 	  			<td >
	 	 	  				<h:outputText value="Sig:" style="font-weight:bold;"/>
	 	 	  			</td>
	 	 	  			
	 	 	  			<td><h:outputText value="#{patientMedicineManageBean.patientMedicationData.directions}" /></td>
	 	 	  			
	 	 	  			<td >
	 	 	  				<h:outputText value="Goal target INR range:" style="font-weight:bold;"/>
	 	 	  			</td>
	 	 	  			
	 	 	  			<td><h:outputText value="#{patientMedicineManageBean.medActionPlan.acceptableRange}" /></td>
	 	 	  		</tr>
	 	 	  		
	 	 	  		<tr><td></td></tr>
	 	 	  		
	 	 	  		<tr>
		 	 	  		<td >
		 	 	  			<p:outputPanel  rendered="#{patientMedicineManageBean.medActionPlan.diagnosis eq 'Atrial fibrillation (non-valvular/non-rheumatic)'}" >
							 	 		<h:outputText value="Chad Score:" style="font-weight:bold;" />&nbsp;&nbsp;
							 	 		<h:outputText value="#{patientMedicineManageBean.chadsScore.score}"/><br/>
	 	 					 </p:outputPanel>
		 	 	  		</td>
	 	 	  		</tr>
	 	 	  </table>
	 	 	  
	 	 	  <table width="100%">
	 	 	  	<tr>
	 	 	  		<td colspan="3">
	 	 	  		
	 	 	  		<h:outputText value="Recommended INR check every 2-3 days until INR within therapeutic range on 2 consecutive INR checks" style="font-weight:bold;"/>
	 	 	  		
	 	 	  		</td>
	 	 	  	</tr>
	 	 	  	
	 	 	  
	 	 	  	<tr>
	 	 	  		<td>
	 	 	  			<h:outputText value="Frequency of INR monitoring after initiation of warfarin" style="font-weight:bold;"/>
	 	 	  		</td>
	 	 	  	</tr>
	 	 	  	
	 	 	  	<tr>
	 	 	  		<td>
	 	 	  			<h:outputText value="INR Check" style="font-weight:bold;"/>
	 	 	  		</td>
	 	 	  	</tr>
	 	 	  	
	 	 	  	 </table>
	 	 	  	 
	 	 	  	<table border="1">
	 	 	  	<tr >
	 	 	  		<td>
	 	 	  			<h:outputText value="Every 2-3 days" />
	 	 	  		</td >
	 	 	  		<td><h:outputText value="Until INR within therapeutic range on 2 consecutive INR checks" /></td>
	 	 	  	</tr>
	 	 	  	
	 	 	  	<tr >
	 	 	  		<td>
	 	 	  			<h:outputText value="Then every week" />
	 	 	  		</td >
	 	 	  		<td><h:outputText value="Until INR within therapeutic range on 2 consecutive INR checks" /></td>
	 	 	  	</tr>
	 	 	  	
	 	 	  	
	 	 	  	<tr >
	 	 	  		<td>
	 	 	  			<h:outputText value="Then every 2 weeks" />
	 	 	  		</td >
	 	 	  		<td><h:outputText value="Until INR within therapeutic range on 2 consecutive INR checks" /></td>
	 	 	  	</tr>
	 	 	  	
	 	 	  	<tr >
	 	 	  		<td>
	 	 	  			<h:outputText value="Then every 4 weeks" />
	 	 	  		</td >
	 	 	  		<td><h:outputText value="When dose is stable check monthly" /></td>
	 	 	  	</tr>
	 	 	  </table>
	 	 	   
	 	 	  	<!-- <tr>
	 	 	  		<td colspan="3">
	 	 	  			<h:outputText value="[Refer table from Anticoag_algorithms Warfarin AC cells B135-D135]" style="font-weight:bold;"/>
	 	 	  		</td>
	 	 	  	</tr> -->
	 	 	  
	 	 	  	 <table>
	 	 	  	<tr>
	 	 	  	
	 	 	  	<td valign="top">
									<p:dataTable value="#{patientMedicineManageBean.labDetailList}" var="labDetail" emptyMessage="#{msg.noMedFound}">
										
										<p:column>
											<f:facet name="header">
												<h:outputText value="Select" />
											</f:facet>
											<p:selectBooleanCheckbox value="#{labDetail.selected}"  />  
										</p:column>
										
										<p:column>
											<f:facet name="header">
												<h:outputText value="Lab Name" />
											</f:facet>
											<h:outputText value="#{labDetail.labName}" />
										</p:column>
										
										<p:column>
											<f:facet name="header">
												<h:outputText value="Lab Frequency" />
											</f:facet>
											<p:selectOneMenu value="#{labDetail.labfrequencyDetail}" >
															<f:selectItem
																itemLabel=""
																itemValue="" /> 
															<f:selectItems
																	value="#{patientMedicineManageBean.labFrequencyList}"
																	var="labFreq" itemLabel="#{labFreq}" itemValue="#{labFreq}" />
														<p:ajax 
															listener="#{patientMedicineManageBean.findNextlabDate}"
															update="@form"></p:ajax>
												</p:selectOneMenu>
										</p:column>
																	
									
									</p:dataTable>
												
								</td>
	 	 	  	
	 	 	  	
	 	 	  			
	 	 	  			<td >
	 	 	  				<h:outputText value="Date of the next Lab: " style="font-weight:bold;"/>&nbsp;&nbsp;
	 	 	  				<h:outputText id="nextLab" value="#{patientMedicineManageBean.medActionPlan.nextLabDate}" >
	 	 	  					<f:convertDateTime pattern="#{msg.dateFormat}" timeZone="#{userManageBean.loggedUsertimeZone}" dateStyle="full" type="date"/>
	 	 	  				</h:outputText>
	 	 	  			</td>
	 	 	  	</tr>
	 	 	  	
	 	 	  </table>
	 	 	
	 	 	  <table width="95%">
		 	 	  <tr align="right">
		 	 	  	<td>
		 	 	  		<p:commandButton value="Done" action="#{patientMedicineManageBean.addMedicine}"></p:commandButton>
      
		 	 	  	</td>
		 	 	  </tr>
	 	 	  
	 	 	  </table>
	 	 	
	 	 	   
	 	 	
	 	 	   
	 	 	  </p:tab>
	 	 	 
	 	 </p:wizard>
	 	 </td>
	 	 <td valign="top" align="right" width="8%">
	 	   <p:commandButton value="#{msg.cancel}" action="#{patientMedicineManageBean.submitCancelButtonforpersonalisedmedreview}" immediate="true"
						></p:commandButton>
	 	 </td>
	 	</tr>
	 
	 </table>
		<table>
			
	 	<tr>
	 		<td>
	 			<h:outputText value="Source:" style="font-weight:bold;"/>&nbsp;&nbsp;
	 		</td>
	 		
	 		<td>
	 			<h:outputText value="Dosing Guideline based on University of Washington Anticoag Clinic
	 			 (http://depts.washington.edu/anticoag) in accordance with 9th ed ACCP Guidelines on Antithrombotic 
	 			 Therapy (You, J. J., D. E. Singer, et al. (2012). Chest 141(2 Suppl): e531S-575S)" />
	 		</td>
	 	</tr>
		</table>		 	 
	 
	 
	 </h:form>
	</p:dialog>

<!-- ************************ pop up started for Dabigatran medicine************************************* -->

<p:dialog id="Dabigratanid" widgetVar="Dabigratan"
					resizable="false"  appendTo="@(body)" modal="true" dynamic="true"
	 				height="400" width="45%"  closable="false" position="bottom">
	 				<f:facet name="header">
      					<h:outputText id="DabigatranHeader" value="#{patientMedicineManageBean.patientMedicationData.drugs}" />
   					</f:facet>
	 						
				<h:form >
	 				<p:messages  id="dabigratanMsgId" showDetail="false" style="color:#FF0000;margin:8px;"  closable="true" showSummary="true"/> 
					 <table  width="100%" border="0"><tr><td width="92%" valign="top">
					 	 <p:wizard titleStyleClass="popupStepFont" flowListener="#{patientMedicineManageBean.onFlowProcessOfAnticoagMeds}">  
					 	 	
					 	 	 <p:tab id="step1" title="Step 1" titleStyleClass="popupStepFont">  
					 	  <p:outputPanel>	
					 	<!--  <h:outputText value="#{msg.med}" />
				<h:inputText
						value="#{patientMedicineManageBean.patientMedicationData.drugs}" readonly="true">
					</h:inputText>  -->
	 	 			<table>
	 	 	 			<tr>
		 	 	 			<td>
		 	 	 				<h:outputText value="Age" />
		 	 	 				<h:outputText value="*" styleClass="mandatoryField"/>
								    
							</td>
							
							<td colspan="2">
								<p:inputText value="#{patientMedicineManageBean.calculateCreatimineClearance.age}" />
							</td>
							
							<td>
		 	 	 				<h:outputText value=" Sex (M/F)" />
		 	 	 				<h:outputText value="*" styleClass="mandatoryField"/>
								    
							</td>
							
							<td>
								<!-- <p:selectOneMenu value="#{patientMedicineManageBean.calculateCreatimineClearance.gender}">
									   	<f:selectItem itemValue="M" itemLabel="Male" />
									   	<f:selectItem itemValue="F" itemLabel="Female" />
									   	
									</p:selectOneMenu> -->
									<p:inputText value="#{patientMedicineManageBean.calculateCreatimineClearance.gender}" />
							</td>
							
							
								  	
	 	 	 			</tr>
	 	 	 			
	 	 	 			<tr>
	 	 	 			
	 	 	 				<td>
		 	 	 				<h:outputText value="Serum Creatinine (mg/dl)" />
		 	 	 				<h:outputText value="*" styleClass="mandatoryField"/>
								    
							</td>
							
							<td colspan="2">
								<p:inputText value="#{patientMedicineManageBean.calculateCreatimineClearance.serumCreatinieValue}" />
							</td>
							
		 	 	 			<td>
		 	 	 				<h:outputText value=" Height(Inch)" />
		 	 	 				<h:outputText value="*" styleClass="mandatoryField"/>
								    
							</td>
							
							<td>
								<p:inputText value="#{patientMedicineManageBean.calculateCreatimineClearance.height}" />
							</td>
							
							
						</tr>
						
						
						<tr>
							<td>
		 	 	 				<h:outputText value="Weight" />
		 	 	 				<h:outputText value="*" styleClass="mandatoryField"/>
								    
							</td>
							
							<td>
								<p:inputText id="simpleWeight" style="width:50px;" value="#{patientMedicineManageBean.calculateCreatimineClearance.simpleWeight}" >
									<p:ajax update="simpleWeight ,patWeight" listener="#{patientMedicineManageBean.changeWeightUnit}"></p:ajax>
								</p:inputText>
							</td>
							
						
							
							
							<td>	
								<p:selectOneMenu style="width:50px;"
											value="#{patientMedicineManageBean.calculateCreatimineClearance.findWeightUnit}">
											
									 	<f:selectItem itemLabel="Lbs" itemValue="Lbs" />
										 <f:selectItem itemLabel="Kg"  itemValue="Kg"/>
										
										
								<p:ajax update="patWeight" listener="#{patientMedicineManageBean.changeWeightUnit}">
								</p:ajax>
							</p:selectOneMenu>
							<h:inputHidden  id="patWeight" value="#{patientMedicineManageBean.calculateCreatimineClearance.weight}" /> 
							</td>
						</tr>
	 	 	 		</table>
	 	 	 		</p:outputPanel>
	 	 	 </p:tab>
	 	 	 
	 	 	 <p:tab id="Step2" title="Step 2" titleStyleClass="popupStepFont">  
	 	 	 		
	 	 	 		 <p:outputPanel>
	 	 	 		<!--    <h:panelGrid columns="2" border="3"> -->
	 	 	 		
	 	 	 		<table>
	 	 	 			<tr>
	 	 	 			
	 	 	 			<td>
		 	 	 				<h:outputText value="Recommended Dose:" style="font-weight:bold;"/>
								    
							</td>
							
							<td>
								<h:outputText value="#{patientMedicineManageBean.patientMedicationData.recommendedDose}" />
							</td>
	 	 	 			
	 	 	 			</tr>
	 	 	 		</table>
	 	 	 		
	 	 	 			<table>
	 	 	 			
	 	 	 			
	 	 	 			<tr>
	 	 	 			
		 	 	 			<td width="80px">
		 	 	 				<h:outputText value=" Creatimine Clearance (ml/min)" />
		 	 	 				
		 	 	 				
								    
							</td>
							
							<td>
								<p:inputText value="#{patientMedicineManageBean.calculateCreatimineClearance.calculateCreatimineClearanceValue}" />
							</td>
							
							<td>
		 	 	 				<h:outputText value="Strength" />
		 	 	 				<h:outputText value="*" styleClass="mandatoryField"/>
								    
							</td>
							
							<td><p:selectOneMenu  required="true" requiredMessage="Please Select Strength"
										value="#{patientMedicineManageBean.patientMedicationData.strengths}"
										style="width:122px;">
										<f:selectItem
											itemLabel="#{patientMedicineManageBean.medActionPlan.dose}"
											itemValue="#{patientMedicineManageBean.medActionPlan.dose}" /> 
										<f:selectItems value="#{patientMedicineManageBean.doseDetailList}"
											var="doseList" itemLabel="#{doseList.dose}" itemValue="#{doseList.dose}" />
									</p:selectOneMenu>
							
								<!-- <p:inputText value="#{patientMedicineManageBean.medActionPlan.dose}" /> -->
							</td>
							
							
								  	
	 	 	 			</tr>
	 	 	 			
	 	 	 			
	 	 	 			<tr>
	 	 	 				<td>
	 	 	 	 						<h:outputText value="unit" /><h:outputText value="*" styleClass="mandatoryField"/>
	 	 	 	 				</td>
	 	 	 	 					<td>
				 	 	 	 			<p:selectOneMenu 
													value="#{patientMedicineManageBean.patientMedicationData.unit}" 
													style="width:122px;">
													
													<f:selectItems value="#{patientMedicineManageBean.unitSummaryList}"
														var="unitList" itemLabel="#{unitList.unit}" itemValue="#{unitList.unit}" />
														
													<p:ajax listener="#{patientMedicineManageBean.calculateTotalDispence}" update="dispenceNumber"></p:ajax>		
												</p:selectOneMenu>
	 	 	 	 					</td>
	 	 	 	 					
	 	 	 	 					<td>
	 	 	 	 							<h:outputText value="Dosage form" /><h:outputText value="*" styleClass="mandatoryField"/>
	 	 	 	 						</td>
	 	 	 	 						
	 	 	 	 						<td>
	 	 	 	 						
	 	 	 	 						<!-- <p:selectOneMenu required="true" 
										value="#{patientMedicineManageBean.patientMedicationData.dosageForm}"
										style="width:122px;">
										<f:selectItem itemLabel="#{patientMedicineManageBean.patientMedicationData.dosageForm}" itemValue="#{patientMedicineManageBean.patientMedicationData.dosageForm}" />
	 	 	 	 								
													
														<f:selectItems value="#{patientMedicineManageBean.unitDetailsList}"
															var="unitList" itemLabel="#{unitList.unitName}" itemValue="#{unitList.unitName}" />
											</p:selectOneMenu> -->
											
											<p:inputText  value="#{patientMedicineManageBean.patientMedicationData.dosageForm}" readonly="true"></p:inputText>	
								
	 	 	 	 						</td>
	 	 	 					</tr>
	 	 	 					
	 	 	 					<tr>
	 	 	 						
	 	 	 	 						<!-- <td>
	 	 	 	 							<h:outputText value="Package" /><h:outputText value="*" styleClass="mandatoryField"/>
	 	 	 	 					</td>
	 	 	 	 				<td>
	 	 	 	 						<p:selectOneMenu required="true" 
														value="#{patientMedicineManageBean.patientMedicationData.unitDetail}"
														style="width:122px;">
										<f:selectItems value="#{patientMedicineManageBean.dosageDetailsList}"
											var="dosageDetailList" itemLabel="#{dosageDetailList.dosageFrom}" itemValue="#{dosageDetailList.dosageFrom}" />
										
									
										</p:selectOneMenu>
	 	 	 	 					</td> -->
	 	 	 	 					
	 	 	 	 					<td>
	 	 	 	 					<h:outputText value="Route" /><h:outputText value="*" styleClass="mandatoryField"/>
	 	 	 	 				</td>
	 	 	 	 			<td>
	 	 	 	 				<!-- 	<p:selectOneMenu required="true" 
										value="#{patientMedicineManageBean.patientMedicationData.byRoute}"
										style="width:122px;">
									<f:selectItem itemLabel="#{patientMedicineManageBean.patientMedicationData.byRoute}" itemValue="#{patientMedicineManageBean.patientMedicationData.byRoute}" />
										<f:selectItems value="#{patientMedicineManageBean.routeDetailsList}"
											var="routeDetailList" itemLabel="#{routeDetailList.routeName}" itemValue="#{routeDetailList.routeName}" />
										
									</p:selectOneMenu> -->
									<p:inputText  value="#{patientMedicineManageBean.patientMedicationData.byRoute}" readonly="true"></p:inputText>
	 	 	 	 			</td>
	 	 	 					</tr>
	 	 	 					
	 	 	 					<tr>
	 	 	 						<td>
	 	 	 	 					<h:outputText value="Regimen" /><h:outputText value="*" styleClass="mandatoryField"/>
	 	 	 	 			</td>
	 	 	 	 		
	 	 	 	 		<td>
	 	 	 	 				<p:selectOneMenu required="true" requiredMessage="Please Select regimen"
										value="#{patientMedicineManageBean.patientMedicationData.directions}"
										style="width:122px;">
										<f:selectItem
											itemLabel=""
											itemValue="" />
										<f:selectItems value="#{patientMedicineManageBean.regimenList}"
											var="regimen" itemLabel="#{regimen}" itemValue="#{regimen}" />
											
											<p:ajax listener="#{patientMedicineManageBean.calculateTotalDispence}" update="dispenceNumber"></p:ajax>	
									</p:selectOneMenu>
	 	 	 	 		</td>
	 	 	 	 		
	 	 	 	 		<td>
	 	 	  							<h:outputText value="Dispense" /><h:outputText value="*" styleClass="mandatoryField"/>
	 	 	  						</td>
	 	 	  						
									<td>
										<p:inputText id="dispenceNumber" style="width:50px;" required="true" converter="#{Integer}" maxlength="3" 
													value="#{patientMedicineManageBean.patientMedicationData.quantity}" >
											<f:convertNumber  pattern="#0" integerOnly="true"  minFractionDigits="3" maxIntegerDigits="3" type="number"/>
										</p:inputText>
									</td>
	 	 	 					</tr>
	 	 	 					
	 	 	 					<tr>
	 	 	 						<td>
					 	 	  			<h:outputText value="Days Supply" />
					 	 	  		</td>
									<td>
											<!-- <p:inputText style="width:50px;" required="true" 
														value="#{patientMedicineManageBean.patientMedicationData.daySupply}" /> -->
														
										<p:selectOneMenu 
													value="#{patientMedicineManageBean.patientMedicationData.daySupply}"
													style="width:80px;">
													<f:selectItem itemValue="#{patientMedicineManageBean.patientMedicationData.daySupply}" 
													itemLabel="#{patientMedicineManageBean.patientMedicationData.daySupply}"></f:selectItem>
													<f:selectItems value="#{patientMedicineManageBean.daySupplyList}"
														var="daySupplyDetailList" itemLabel="#{daySupplyDetailList}" itemValue="#{daySupplyDetailList}" />
													
												<p:ajax listener="#{patientMedicineManageBean.calculateTotalDispence}" update="dispenceNumber"></p:ajax>		
													
										</p:selectOneMenu>
								</td>
								
								<td>
	 	 	  						<h:outputText value="Refill"/>
	 	 	  					</td>
	 	 	  					
								<td>
									
												<!-- 	<p:inputText required="true" requiredMessage="Please insert reffils" maxlength="2" 
										 value="#{patientMedicineManageBean.patientMedicationData.reffils}" style="width:50px;">
										 
										 <pe:keyFilter mask="num"></pe:keyFilter>
									</p:inputText> -->
							
									<p:selectOneMenu required="true" 
											value="#{patientMedicineManageBean.patientMedicationData.reffils}"
											style="width:60px;">
											
											<f:selectItems value="#{patientMedicineManageBean.refillDetailsList}"
												var="refillList" itemLabel="#{refillList}" itemValue="#{refillList}" />
											
										</p:selectOneMenu>
								</td>
						
								
	 	 	 					</tr>
	 	 	 			
						</table>
						
						<table>
						<tr>
	 	 	 			
	 	 	 				
							
		 	 	 			<td>
		 	 	 				<h:outputText value="Comments" />
								    
							</td>
							
							<td>
								<!-- <p:inputText value="#{patientMedicineManageBean.patientMedicationData.notes}" /> -->
								<p:inputTextarea  value="#{patientMedicineManageBean.patientMedicationData.notes}"  cols="50" rows="5">
											<!-- <p:ajax update="notesEditor"></p:ajax> -->
								</p:inputTextarea>
							</td>
							
							
						</tr>
					</table >
					<br/>
					<table align="right">	
						<tr>
						
							<td align="right" colspan="4">
								<p:commandButton value="#{msg.done}" update="dabigratanMsgId"
						action="#{patientMedicineManageBean.addMedicine}"></p:commandButton>
							</td>
						</tr>
	 	 	 		</table>
	 	 	 		</p:outputPanel>
						 
	 	 	   </p:tab>
			</p:wizard>	
			</td>
	 	 <td valign="top" align="right" width="8%">
	 	  <p:commandButton value="#{msg.cancel}" action="#{patientMedicineManageBean.submitCancelButtonforpersonalisedmedreview}" immediate="true"
						></p:commandButton>	
	 	 </td>
	 	</tr>
	 </table>
		</h:form>	
	 </p:dialog>


<!-- ************************ pop up started for Apixaban medicine************************************* -->
<p:dialog id="Apixabanid" widgetVar="Apixaban"
					resizable="false"  appendTo="@(body)" modal="true"
	 				height="400" width="45%" dynamic="true" closable="false" position="bottom">
	 				<f:facet name="header">
      					<h:outputText id="ApixabanHeader" value="#{patientMedicineManageBean.patientMedicationData.drugs}" />
   					</f:facet>
	 						
				<h:form >
	 				<p:messages  id="apixabanMsgId" showDetail="false" style="color:#FF0000;margin:8px;"  closable="true" showSummary="true"/> 
					 <table  width="100%" border="0"><tr><td width="92%" valign="top">
					 	 <p:wizard titleStyleClass="popupStepFont" flowListener="#{patientMedicineManageBean.onFlowProcessOfApixaban}">  
					 	 	
					 	 	 <p:tab id="step1" title="Step 1" titleStyleClass="popupStepFont">  
					 	  <p:outputPanel>	 
	 	 			<table >
	 	 			
	 	 				<tr>
	 	 					<td>
	 	 						<h:outputText  id="setAgeId" value="Dosing wizard is valid for adults (>=18 years of age only)" rendered="#{patientMedicineManageBean.calculateCreatimineClearance.age le 18}"  
	 	 								 style="color:red;" >
	 	 								
	 	 							</h:outputText>
	 	 							
	 	 					
	 	 					</td>
	 	 				</tr>
	 	 				</table>
	 	 				<table>
	 	 	 			<tr>
		 	 	 			<td>
		 	 	 				<h:outputText value="Age" />
		 	 	 				<h:outputText value="*" styleClass="mandatoryField"/>
								    
							</td>
							
							<td colspan="2">
								<p:inputText id="ageId" value="#{patientMedicineManageBean.calculateCreatimineClearance.age}" >
								<p:ajax update="@form"  ></p:ajax>
							</p:inputText>
							</td>
							
							<td>
		 	 	 				<h:outputText value=" Sex (M/F)" />
		 	 	 				<h:outputText value="*" styleClass="mandatoryField"/>
								    
							</td>
							
							<td>
								<!-- <p:selectOneMenu value="#{patientMedicineManageBean.calculateCreatimineClearance.gender}">
									   	<f:selectItem itemValue="M" itemLabel="Male" />
									   	<f:selectItem itemValue="F" itemLabel="Female" />
									   	
									</p:selectOneMenu> -->
									<p:inputText value="#{patientMedicineManageBean.calculateCreatimineClearance.gender}" />
							</td>
							
							
								  	
	 	 	 			</tr>
	 	 	 			
	 	 	 			<tr>
	 	 	 			
	 	 	 				<td>
		 	 	 				<h:outputText value="Serum Creatinine (mg/dl)" />
		 	 	 				<h:outputText value="*" styleClass="mandatoryField"/>
								    
							</td>
							
							<td colspan="2">
								<p:inputText value="#{patientMedicineManageBean.calculateCreatimineClearance.serumCreatinieValue}" />
							</td>
							
		 	 	 			<td>
		 	 	 				<h:outputText value=" Height(Inch)" />
		 	 	 				<h:outputText value="*" styleClass="mandatoryField"/>
								    
							</td>
							
							<td>
								<p:inputText value="#{patientMedicineManageBean.calculateCreatimineClearance.height}" />
							</td>
							
							
						</tr>
						
						<tr>
							<td>
		 	 	 				<h:outputText value="Weight" />
		 	 	 				<h:outputText value="*" styleClass="mandatoryField"/>
								    
							</td>
							
							<td>
								<p:inputText id="simpleWeight" style="width:50px;" value="#{patientMedicineManageBean.calculateCreatimineClearance.simpleWeight}" >
								<p:ajax update="simpleWeight ,patWeight" listener="#{patientMedicineManageBean.changeWeightUnit}"></p:ajax>
									</p:inputText>
							</td>
							<td>	
								<p:selectOneMenu style="width:50px;"
											value="#{patientMedicineManageBean.calculateCreatimineClearance.findWeightUnit}">
											
									 	<f:selectItem itemLabel="Lbs" itemValue="Lbs" />
										 <f:selectItem itemLabel="Kg"  itemValue="Kg"/>
										
										
								<p:ajax update="patWeight" listener="#{patientMedicineManageBean.changeWeightUnit}">
								</p:ajax>
							</p:selectOneMenu>
							<h:inputHidden  id="patWeight" value="#{patientMedicineManageBean.calculateCreatimineClearance.weight}" /> 
							</td>
						</tr>
	 	 	 		</table>
	 	 	 		</p:outputPanel>
	 	 	 </p:tab>
	 	 	 
	 	 	 <p:tab id="step2" title="Step 2" titleStyleClass="popupStepFont">  
					 	  <p:outputPanel>	 
	 	 			
	 	 				<table>
	 	 					<tr>
	 	 						<td>
	 	 							<h:outputText value="Is the patient currently taking and dual Cyp3A4 and P-gp Inhibitors " styleClass="popupStepFont"/>
	 	 						</td>
	 	 					</tr>
	 	 				</table>
	 	 				
	 	 				<table>
	 	 					<tr>
	 	 						<td valign="top">
												<p:selectManyCheckbox value="#{patientMedicineManageBean.medicineListForApixaBanDoseTest}" 
											            layout="pageDirection">  
											            <f:selectItem itemLabel="Itraconazole" itemValue="Itraconazole" />  
											            <f:selectItem itemLabel="Lopinavir" itemValue="Lopinavir" />  
											            <f:selectItem itemLabel="Ritonavir" itemValue="Ritonavir" />  
											            <f:selectItem itemLabel="Clarithromycin" itemValue="Clarithromycin" />  
											            <f:selectItem itemLabel="Ketoconazole" itemValue="Ketoconazole" />  
											        </p:selectManyCheckbox>  
											</td>
	 	 						
	 	 					<td>
	 	 					<table>
	 	 						<tr>
	 	 							<td>
	 	 								<p:selectManyCheckbox  value="#{patientMedicineManageBean.medicineListForApixaBanDoseTest2}" 
											            layout="pageDirection">  
											            <f:selectItem itemLabel="Indinavir" itemValue="Indinavir" />  
											            <f:selectItem itemLabel="Conivaptan" itemValue="Conivaptan" />  
											            <f:selectItem itemLabel="Verapamil" itemValue="Verapamil" />  
											            <f:selectItem itemLabel="Erythromycin" itemValue="Erythromycin" />  
											            <f:selectItem itemLabel="Diltiazem" itemValue="Diltiazem" />  
											        </p:selectManyCheckbox>  
	 	 							</td>
	 	 							
	 	 							
	 	 					</tr>
	 	 				</table>
	 	 			</td>
	 	 			
	 	 			
	 	 					<td>
	 	 					<table>
	 	 						<tr>
	 	 							<td>
	 	 								<p:selectManyCheckbox  value="#{patientMedicineManageBean.medicineListForApixaBanDoseTest3}" 
											            layout="pageDirection">  
											            <f:selectItem itemLabel="Dronedarone" itemValue="Dronedarone" />  
											            <f:selectItem itemLabel="Quinidine" itemValue="Quinidine" />  
											            <f:selectItem itemLabel="Ranolazine" itemValue="Ranolazine" />  
											            <f:selectItem itemLabel="Felodipine" itemValue="Felodipine" />  
											            <f:selectItem itemLabel="Azithromycin" itemValue="Azithromycin" />  
											        </p:selectManyCheckbox>  
	 	 							</td>
	 	 							
	 	 							
	 	 					</tr>
	 	 				</table>
	 	 			</td>
	 	 						
	 	 					</tr>
	 	 				</table>
	 	 	 		</p:outputPanel>
	 	 	 </p:tab>
	 	 	 
	 	 	 <p:tab id="Step3" title="Step 3" titleStyleClass="popupStepFont">  
	 	 	 		
	 	 	 		 <p:outputPanel>
	 	 	 		<!--    <h:panelGrid columns="2" border="3"> -->
	 	 	 		
	 	 	 		<table>
	 	 	 			<tr>
	 	 	 			
	 	 	 			<td>
		 	 	 				<h:outputText value="Recommended Dose:" style="font-weight:bold;"/>
								    
							</td>
							
							<td>
								<h:outputText value="#{patientMedicineManageBean.patientMedicationData.recommendedDose}" />
							</td>
	 	 	 			
	 	 	 			</tr>
	 	 	 		</table>
	 	 	 		
	 	 	 			<table>
	 	 	 			
	 	 	 			
	 	 	 			<tr>
	 	 	 			
		 	 	 			<td width="80px">
		 	 	 				<h:outputText value=" Creatimine Clearance (ml/min)" />
		 	 	 				
		 	 	 				
								    
							</td>
							
							<td>
								<p:inputText value="#{patientMedicineManageBean.calculateCreatimineClearance.calculateCreatimineClearanceValue}" />
							</td>
							
							<td>
		 	 	 				<h:outputText value="Strength" />
		 	 	 				<h:outputText value="*" styleClass="mandatoryField"/>
								    
							</td>
							
							<td><p:selectOneMenu required="true" requiredMessage="Please Select Strength"
										value="#{patientMedicineManageBean.patientMedicationData.strengths}"
										style="width:122px;">
										<!-- <f:selectItem
											itemLabel="#{patientMedicineManageBean.patientMedicationData.directions}"
											itemValue="#{patientMedicineManageBean.patientMedicationData.directions}" /> -->
										<f:selectItems value="#{patientMedicineManageBean.doseDetailList}"
											var="doseList" itemLabel="#{doseList.dose}" itemValue="#{doseList.dose}" />
									</p:selectOneMenu>
							
								<!-- <p:inputText value="#{patientMedicineManageBean.medActionPlan.dose}" /> -->
							</td>
							
							
								  	
	 	 	 			</tr>
	 	 	 			
	 	 	 			
	 	 	 			<tr>
	 	 	 				<td>
	 	 	 	 						<h:outputText value="unit" /><h:outputText value="*" styleClass="mandatoryField"/>
	 	 	 	 				</td>
	 	 	 	 					<td>
				 	 	 	 			<p:selectOneMenu 
													value="#{patientMedicineManageBean.patientMedicationData.unit}" 
													style="width:122px;">
													
													<f:selectItems value="#{patientMedicineManageBean.unitSummaryList}"
														var="unitList" itemLabel="#{unitList.unit}" itemValue="#{unitList.unit}" />
													<p:ajax listener="#{patientMedicineManageBean.calculateTotalDispence}" update="dispenceNumber"></p:ajax>		
														
												</p:selectOneMenu>
	 	 	 	 					</td>
	 	 	 	 					
	 	 	 	 					<td>
	 	 	 	 							<h:outputText value="Dosage form" /><h:outputText value="*" styleClass="mandatoryField"/>
	 	 	 	 						</td>
	 	 	 	 						
	 	 	 	 						<td>
	 	 	 	 						
	 	 	 	 					<!-- 	<p:selectOneMenu required="true" 
											value="#{patientMedicineManageBean.patientMedicationData.dosageForm}"
											style="width:122px;">
										<f:selectItem itemLabel="#{patientMedicineManageBean.patientMedicationData.dosageForm}" itemValue="#{patientMedicineManageBean.patientMedicationData.dosageForm}" />
	 	 	 	 							
														<f:selectItems value="#{patientMedicineManageBean.unitDetailsList}"
															var="unitList" itemLabel="#{unitList.unitName}" itemValue="#{unitList.unitName}" />
											</p:selectOneMenu> -->
											
											<p:inputText  value="#{patientMedicineManageBean.patientMedicationData.dosageForm}" readonly="true"></p:inputText>	
								
	 	 	 	 						</td>
	 	 	 					</tr>
	 	 	 					
	 	 	 					<tr>
	 	 	 						
	 	 	 	 						<!-- <td>
	 	 	 	 							<h:outputText value="Package" /><h:outputText value="*" styleClass="mandatoryField"/>
	 	 	 	 					</td>
	 	 	 	 				<td>
	 	 	 	 							<p:selectOneMenu required="true" 
														value="#{patientMedicineManageBean.patientMedicationData.unitDetail}"
														style="width:122px;">
													
										<f:selectItems value="#{patientMedicineManageBean.dosageDetailsList}"
											var="dosageDetailList" itemLabel="#{dosageDetailList.dosageFrom}" itemValue="#{dosageDetailList.dosageFrom}" />
										
									
										</p:selectOneMenu>
	 	 	 	 					</td> -->
	 	 	 	 					
	 	 	 	 					<td>
	 	 	 	 					<h:outputText value="Route" /><h:outputText value="*" styleClass="mandatoryField"/>
	 	 	 	 				</td>
	 	 	 	 			<td>
	 	 	 	 					<!-- <p:selectOneMenu required="true" 
										value="#{patientMedicineManageBean.patientMedicationData.byRoute}"
										style="width:122px;">
									<f:selectItem itemLabel="#{patientMedicineManageBean.patientMedicationData.byRoute}" itemValue="#{patientMedicineManageBean.patientMedicationData.byRoute}" />
										<f:selectItems value="#{patientMedicineManageBean.routeDetailsList}"
											var="routeDetailList" itemLabel="#{routeDetailList.routeName}" itemValue="#{routeDetailList.routeName}" />
										
									</p:selectOneMenu> -->
									<p:inputText  value="#{patientMedicineManageBean.patientMedicationData.byRoute}" readonly="true"></p:inputText>
	 	 	 	 			</td>
	 	 	 					</tr>
	 	 	 					
	 	 	 					<tr>
	 	 	 						<td>
	 	 	 	 					<h:outputText value="Regimen" /><h:outputText value="*" styleClass="mandatoryField"/>
	 	 	 	 			</td>
	 	 	 	 		
	 	 	 	 		<td>
	 	 	 	 				<p:selectOneMenu required="true" requiredMessage="Please Select Regimen"
										value="#{patientMedicineManageBean.patientMedicationData.directions}"
										style="width:122px;">
										<f:selectItem itemValue="" itemLabel=""></f:selectItem>
										<!-- <f:selectItem
											itemLabel="#{patientMedicineManageBean.patientMedicationData.directions}"
											itemValue="#{patientMedicineManageBean.patientMedicationData.directions}" /> -->
										<f:selectItems value="#{patientMedicineManageBean.regimenList}"
											var="regimen" itemLabel="#{regimen}" itemValue="#{regimen}" />
											
											<p:ajax listener="#{patientMedicineManageBean.calculateTotalDispence}" update="dispenceNumber"></p:ajax>	
									</p:selectOneMenu>
	 	 	 	 		</td>
	 	 	 	 		
	 	 	 	 		<td>
	 	 	  							<h:outputText value="Dispense" /><h:outputText value="*" styleClass="mandatoryField"/>
	 	 	  						</td>
	 	 	  						
									<td>
										<p:inputText id="dispenceNumber" style="width:50px;" required="true" converter="#{Integer}" maxlength="3" 
													value="#{patientMedicineManageBean.patientMedicationData.quantity}" >
											<f:convertNumber  pattern="#0" integerOnly="true"  minFractionDigits="3" maxIntegerDigits="3" type="number"/>
										</p:inputText>
									</td>
	 	 	 					</tr>
	 	 	 					
	 	 	 					<tr>
	 	 	 						<td>
					 	 	  			<h:outputText value="Days Supply" />
					 	 	  		</td>
									<td>
											<!-- <p:inputText style="width:50px;" required="true" 
														value="#{patientMedicineManageBean.patientMedicationData.daySupply}" /> -->
										<!-- <f:selectItem itemValue="" itemLabel=""></f:selectItem>	 -->			
										<p:selectOneMenu 
													value="#{patientMedicineManageBean.patientMedicationData.daySupply}"
													style="width:80px;">
														<f:selectItem itemValue="#{patientMedicineManageBean.patientMedicationData.daySupply}" 
													itemLabel="#{patientMedicineManageBean.patientMedicationData.daySupply}"></f:selectItem>
													<f:selectItems value="#{patientMedicineManageBean.daySupplyList}"
														var="daySupplyDetailList" itemLabel="#{daySupplyDetailList}" itemValue="#{daySupplyDetailList}" />
												
												<p:ajax listener="#{patientMedicineManageBean.calculateTotalDispence}" update="dispenceNumber"></p:ajax>	
													
										</p:selectOneMenu>
								</td>
								
								<td>
	 	 	  						<h:outputText value="Refill"/>
	 	 	  					</td>
	 	 	  					
								<td>
									
												<!-- 	<p:inputText required="true" requiredMessage="Please insert reffils" maxlength="2" 
										 value="#{patientMedicineManageBean.patientMedicationData.reffils}" style="width:50px;">
										 
										 <pe:keyFilter mask="num"></pe:keyFilter>
									</p:inputText> -->
							
									<p:selectOneMenu required="true" 
											value="#{patientMedicineManageBean.patientMedicationData.reffils}"
											style="width:60px;">
											
											<f:selectItems value="#{patientMedicineManageBean.refillDetailsList}"
												var="refillList" itemLabel="#{refillList}" itemValue="#{refillList}" />
											
										</p:selectOneMenu>
								</td>
						
								
	 	 	 					</tr>
	 	 	 			
						</table>
						
						<table>
						<tr>
	 	 	 			
	 	 	 				
							
		 	 	 			<td>
		 	 	 				<h:outputText value="Comments" />
								    
							</td>
							
							<td>
								<!-- <p:inputText value="#{patientMedicineManageBean.patientMedicationData.notes}" /> -->
								<p:inputTextarea  value="#{patientMedicineManageBean.patientMedicationData.notes}"  cols="50" rows="5">
											<!-- <p:ajax update="notesEditor"></p:ajax> -->
								</p:inputTextarea>
							</td>
							
							
						</tr>
					</table >
					<br/>
					<table align="right">	
						<tr>
						
							<td align="right" colspan="4">
								<p:commandButton value="#{msg.done}" update="apixabanMsgId"
						action="#{patientMedicineManageBean.addMedicine}"></p:commandButton>
							</td>
						</tr>
	 	 	 		</table>
	 	 	 		</p:outputPanel>
						 
	 	 	   </p:tab>
			</p:wizard>	
			</td>
	 	 <td valign="top" align="right" width="8%">
	 	  <p:commandButton value="#{msg.cancel}" action="#{patientMedicineManageBean.submitCancelButtonforpersonalisedmedreview}" immediate="true"
						></p:commandButton>	
	 	 </td>
	 	</tr>
	 </table>
		</h:form>	
	 </p:dialog>
	 <!-- ************************ pop up end for Apixaban medicine************************************* -->


<!-- ************pop up start  Rivaroxaban *********************************************************** -->

		<p:dialog id="Rivaroxabanid" widgetVar="Rivaroxaban"
							resizable="false"  appendTo="@(body)" modal="true"
			 				height="400" width="45%" dynamic="true" closable="false" position="400,220">
			 		<f:facet name="header">
      					<h:outputText id="RivaroxabanHeader" value="#{patientMedicineManageBean.patientMedicationData.drugs}" />
   					</f:facet>
			 		<h:form id="RivaroxabanidPopupFormId">	
			 			<p:messages  id="rivaroxabanMsgId" showDetail="false" style="color:#FF0000;margin:8px;"  closable="true" showSummary="true"/> 	
					 <table  width="100%" border="0"><tr><td width="92%" valign="top">
					 	 <p:wizard titleStyleClass="popupStepFont" flowListener="#{patientMedicineManageBean.onFlowProcessOfRivaroxaban}">  
					 	 	
					 	 	 <p:tab id="step1" title="Step 1" titleStyleClass="popupStepFont">  
					 	 		<p:outputPanel>
				 	   <h:panelGrid columns="3">
							<h:outputText value="Diagnoses" /><h:outputText value="*" styleClass="mandatoryField"/>	
							<p:selectOneMenu required="true" requiredMessage="Please select diagnosis"
							          value="#{patientMedicineManageBean.medActionPlan.diagnosis}">
							<f:selectItem itemLabel="Select One" itemValue="" />
							<!-- <f:selectItems value="#{patientMedicineManageBean.clinicDiagnosisList}" var="clinick" itemLabel="{clinick}" itemValue="{clinick}"/> -->
							<f:selectItems id="diagnosisListId"
								value="#{patientMedicineManageBean.clinicDiagnosisList}"
								var="clinick" itemLabel="#{clinick.diagnosisName}"
								itemValue="#{clinick.diagnosisName}" />
								
						<!-- <p:ajax
							listener="#{patientMedicineManageBean.changediagnosisForRivaroxaban}"
							></p:ajax> -->
						</p:selectOneMenu>
				
				 	</h:panelGrid>
				 </p:outputPanel>
	 	 	 		
	 	 				 </p:tab>
					 	 	
					 	 	 <p:tab id="step2" title="Step 2" titleStyleClass="popupStepFont">  
					 	  <p:outputPanel>
					 	  
					 	  <table > 
	 	 			<tr>
	 	 				 			<td >
	 	 				 				<h:outputText value="Diagnosis: " style="font-weight: bold"/>&nbsp;
	 	 				 				<h:outputText value="#{patientMedicineManageBean.medActionPlan.diagnosis}" />
	 	 				 			</td>
	 	 				 		</tr>
	 	 	 				</table>
					 	  	 
	 	 			<table>
	 	 	 			<tr>
		 	 	 			<td>
		 	 	 				<h:outputText value="Age" />
		 	 	 				<h:outputText value="*" styleClass="mandatoryField"/>
								    
							</td>
							
							<td colspan="2">
								<p:inputText value="#{patientMedicineManageBean.calculateCreatimineClearance.age}" />
							</td>
							
							<td>
		 	 	 				<h:outputText value=" Sex (M/F)" />
		 	 	 				<h:outputText value="*" styleClass="mandatoryField"/>
								    
							</td>
							
							<td>
								<!-- <p:selectOneMenu value="#{patientMedicineManageBean.calculateCreatimineClearance.gender}">
									   	<f:selectItem itemValue="M" itemLabel="Male" />
									   	<f:selectItem itemValue="F" itemLabel="Female" />
									   	
									</p:selectOneMenu> -->
									<p:inputText value="#{patientMedicineManageBean.calculateCreatimineClearance.gender}" />
							</td>
							
							
								  	
	 	 	 			</tr>
	 	 	 			
	 	 	 			<tr>
	 	 	 			
	 	 	 				<td>
		 	 	 				<h:outputText value="Serum Creatinine (mg/dl)" />
		 	 	 				<h:outputText value="*" styleClass="mandatoryField"/>
								    
							</td>
							
							<td colspan="2">
								<p:inputText value="#{patientMedicineManageBean.calculateCreatimineClearance.serumCreatinieValue}" />
							</td>
							
		 	 	 			<td>
		 	 	 				<h:outputText value=" Height(Inch)" />
		 	 	 				<h:outputText value="*" styleClass="mandatoryField"/>
								    
							</td>
							
							<td>
								<p:inputText value="#{patientMedicineManageBean.calculateCreatimineClearance.height}" />
							</td>
							
							
						</tr>
						
						<tr>
							<td>
		 	 	 				<h:outputText value="Weight" />
		 	 	 				<h:outputText value="*" styleClass="mandatoryField"/>
								    
							</td>
							
							<td>
								<p:inputText id="simpleWeight" style="width:50px;" value="#{patientMedicineManageBean.calculateCreatimineClearance.simpleWeight}" >
								<p:ajax update="simpleWeight ,patWeight" listener="#{patientMedicineManageBean.changeWeightUnit}"></p:ajax>
									</p:inputText>
							</td>
							<td>	
								<p:selectOneMenu style="width:50px;"
											value="#{patientMedicineManageBean.calculateCreatimineClearance.findWeightUnit}">
											
									 	<f:selectItem itemLabel="Lbs" itemValue="Lbs" />
										 <f:selectItem itemLabel="Kg"  itemValue="Kg"/>
										
										
								<p:ajax update="patWeight" listener="#{patientMedicineManageBean.changeWeightUnit}">
								</p:ajax>
							</p:selectOneMenu>
							<h:inputHidden  id="patWeight" value="#{patientMedicineManageBean.calculateCreatimineClearance.weight}" /> 
							</td>
						</tr>
	 	 	 		</table>
	 	 	 		</p:outputPanel>
	 	 	 </p:tab>
	 	 	 
	 	 	 <p:tab id="Step3" title="Step 3" titleStyleClass="popupStepFont">  
	 	 	 		
	 	 	 		 <p:outputPanel>
	 	 	 		<!--    <h:panelGrid columns="2" border="3"> -->
	 	 	 		
	 	 	 		
	 	 	 		
	 	 	 		<table > 
	 	 				<tr>
	 	 				 			<td >
	 	 				 				<h:outputText value="Diagnosis: " style="font-weight: bold"/>&nbsp;
	 	 				 				<h:outputText value="#{patientMedicineManageBean.medActionPlan.diagnosis}" />
	 	 				 			</td>
	 	 				 		</tr>
	 	 	 				</table>
	 	 	 		
	 	 	 		<table>
	 	 	 				<tr>
	 	 	 					
	 	 	 					<td>
		 	 	 				<h:outputText value="Recommended Dose :" style="font-weight: bold"/>
								    
							</td>
							
							<td>
								<h:outputText value="#{patientMedicineManageBean.patientMedicationData.recommendedDose}" 
									rendered="#{!(patientMedicineManageBean.patientMedicationData.recommendedDose eq 'Not recommended')}"/>
								<h:outputText value="#{patientMedicineManageBean.patientMedicationData.recommendedDose}"  style="color:red;"
									rendered="#{(patientMedicineManageBean.patientMedicationData.recommendedDose eq 'Not recommended')}"/>
		
							</td>
	 	 	 					
	 	 	 				</tr>
	 	 	 		
	 	 	 		</table>
	 	 	 		
	 	 	 			<table>
	 	 	 			
	 	 	 			
	 	 	 			<tr>
	 	 	 			
		 	 	 			<td width="80px">
		 	 	 				<h:outputText value=" Creatimine Clearance (ml/min)" />
		 	 	 				
		 	 	 				
								    
							</td>
							
							<td>
								<p:inputText value="#{patientMedicineManageBean.calculateCreatimineClearance.calculateCreatimineClearanceValue}" />
							</td>
							
							<td>
		 	 	 				<h:outputText value="Strength" />
		 	 	 				<h:outputText value="*" styleClass="mandatoryField"/>
								    
							</td>
							
							<td><p:selectOneMenu 
										value="#{patientMedicineManageBean.patientMedicationData.strengths}"
										style="width:122px;">
										 <f:selectItem
											itemLabel=""
											itemValue="" />
										<f:selectItems value="#{patientMedicineManageBean.doseDetailList}"
											var="doseList" itemLabel="#{doseList.dose}" itemValue="#{doseList.dose}" />
									</p:selectOneMenu>
							
								<!-- <p:inputText value="#{patientMedicineManageBean.medActionPlan.dose}" /> -->
							</td>
							
							
								  	
	 	 	 			</tr>
	 	 	 			
	 	 	 			
	 	 	 			<tr>
	 	 	 				<td>
	 	 	 	 						<h:outputText value="unit" /><h:outputText value="*" styleClass="mandatoryField"/>
	 	 	 	 				</td>
	 	 	 	 					<td>
				 	 	 	 			<p:selectOneMenu 
													value="#{patientMedicineManageBean.patientMedicationData.unit}" 
													style="width:122px;">
													
													<f:selectItems value="#{patientMedicineManageBean.unitSummaryList}"
														var="unitList" itemLabel="#{unitList.unit}" itemValue="#{unitList.unit}" />
													<p:ajax listener="#{patientMedicineManageBean.calculateTotalDispence}" update="dispenceNumber"></p:ajax>	
														
												</p:selectOneMenu>
	 	 	 	 					</td>
	 	 	 	 					
	 	 	 	 					<td>
	 	 	 	 							<h:outputText value="Dosage form" /><h:outputText value="*" styleClass="mandatoryField"/>
	 	 	 	 						</td>
	 	 	 	 						
	 	 	 	 						<td>
	 	 	 	 						
	 	 	 	 						<!-- <p:selectOneMenu required="true" 
										value="#{patientMedicineManageBean.patientMedicationData.dosageForm}"
										style="width:122px;">
										<f:selectItem itemLabel="#{patientMedicineManageBean.patientMedicationData.dosageForm}" itemValue="#{patientMedicineManageBean.patientMedicationData.dosageForm}" />
	 	 	 	 								
													
														<f:selectItems value="#{patientMedicineManageBean.unitDetailsList}"
															var="unitList" itemLabel="#{unitList.unitName}" itemValue="#{unitList.unitName}" />
											</p:selectOneMenu> -->
											
											<p:inputText  value="#{patientMedicineManageBean.patientMedicationData.dosageForm}" readonly="true"></p:inputText>	
								
	 	 	 	 						</td>
	 	 	 					</tr>
	 	 	 					
	 	 	 					<tr>
	 	 	 						
	 	 	 	 						<!-- <td>
	 	 	 	 							<h:outputText value="Package" /><h:outputText value="*" styleClass="mandatoryField"/>
	 	 	 	 					</td>
	 	 	 	 				<td>
	 	 	 	 						<p:selectOneMenu required="true" 
														value="#{patientMedicineManageBean.patientMedicationData.unitDetail}"
														style="width:122px;">
	 	 	 	 					
										<f:selectItems value="#{patientMedicineManageBean.dosageDetailsList}"
											var="dosageDetailList" itemLabel="#{dosageDetailList.dosageFrom}" itemValue="#{dosageDetailList.dosageFrom}" />
										
									
										</p:selectOneMenu>
	 	 	 	 					</td> -->
	 	 	 	 					
	 	 	 	 					<td>
	 	 	 	 					<h:outputText value="Route" /><h:outputText value="*" styleClass="mandatoryField"/>
	 	 	 	 				</td>
	 	 	 	 			<td>
	 	 	 	 					<!-- <p:selectOneMenu required="true" 
										value="#{patientMedicineManageBean.patientMedicationData.byRoute}"
										style="width:122px;">
									<f:selectItem itemLabel="#{patientMedicineManageBean.patientMedicationData.byRoute}" itemValue="#{patientMedicineManageBean.patientMedicationData.byRoute}" />
										<f:selectItems value="#{patientMedicineManageBean.routeDetailsList}"
											var="routeDetailList" itemLabel="#{routeDetailList.routeName}" itemValue="#{routeDetailList.routeName}" />
										
									</p:selectOneMenu> -->
									<p:inputText  value="#{patientMedicineManageBean.patientMedicationData.byRoute}" readonly="true"></p:inputText>
	 	 	 	 			</td>
	 	 	 					</tr>
	 	 	 					
	 	 	 					<tr>
	 	 	 						<td>
	 	 	 	 					<h:outputText value="Regimen" /><h:outputText value="*" styleClass="mandatoryField"/>
	 	 	 	 			</td>
	 	 	 	 		
	 	 	 	 		<td>
	 	 	 	 				<p:selectOneMenu required="true" requiredMessage="Please Select Regimen"
										value="#{patientMedicineManageBean.patientMedicationData.directions}"
										style="width:122px;">
										<f:selectItem
											itemLabel=""
											itemValue="" />
										<f:selectItems value="#{patientMedicineManageBean.regimenList}"
											var="regimen" itemLabel="#{regimen}" itemValue="#{regimen}" />
										
										<p:ajax listener="#{patientMedicineManageBean.calculateTotalDispence}" update="dispenceNumber"></p:ajax>	
									</p:selectOneMenu>
	 	 	 	 		</td>
	 	 	 	 		
	 	 	 	 		<td>
	 	 	  							<h:outputText value="Dispense" /><h:outputText value="*" styleClass="mandatoryField"/>
	 	 	  						</td>
	 	 	  						
									<td>
										<p:inputText id="dispenceNumber" style="width:50px;" required="true" converter="#{Integer}" maxlength="3" 
													value="#{patientMedicineManageBean.patientMedicationData.quantity}" >
											<f:convertNumber  pattern="#0" integerOnly="true"  minFractionDigits="3" maxIntegerDigits="3" type="number"/>
										</p:inputText>
									</td>
	 	 	 					</tr>
	 	 	 					
	 	 	 					<tr>
	 	 	 						<td>
					 	 	  			<h:outputText value="Days Supply" />
					 	 	  		</td>
									<td>
											<!-- <p:inputText style="width:50px;" required="true" 
														value="#{patientMedicineManageBean.patientMedicationData.daySupply}" /> -->
														
										<p:selectOneMenu 
													value="#{patientMedicineManageBean.patientMedicationData.daySupply}"
													style="width:80px;">
														<f:selectItem itemValue="#{patientMedicineManageBean.patientMedicationData.daySupply}" 
													itemLabel="#{patientMedicineManageBean.patientMedicationData.daySupply}"></f:selectItem>
													<f:selectItems value="#{patientMedicineManageBean.daySupplyList}"
														var="daySupplyDetailList" itemLabel="#{daySupplyDetailList}" itemValue="#{daySupplyDetailList}" />
												<p:ajax listener="#{patientMedicineManageBean.calculateTotalDispence}" update="dispenceNumber"></p:ajax>	
										</p:selectOneMenu>
								</td>
								
								<td>
	 	 	  						<h:outputText value="Refill"/>
	 	 	  					</td>
	 	 	  					
								<td>
									
												<!-- 	<p:inputText required="true" requiredMessage="Please insert reffils" maxlength="2" 
										 value="#{patientMedicineManageBean.patientMedicationData.reffils}" style="width:50px;">
										 
										 <pe:keyFilter mask="num"></pe:keyFilter>
									</p:inputText> -->
							
									<p:selectOneMenu required="true" 
											value="#{patientMedicineManageBean.patientMedicationData.reffils}"
											style="width:60px;">
											
											<f:selectItems value="#{patientMedicineManageBean.refillDetailsList}"
												var="refillList" itemLabel="#{refillList}" itemValue="#{refillList}" />
											
										</p:selectOneMenu>
								</td>
						
								
	 	 	 					</tr>
	 	 	 			
						</table>
						
						<table>
						<tr>
	 	 	 			
	 	 	 				
							
		 	 	 			<td>
		 	 	 				<h:outputText value="Comments" />
								    
							</td>
							
							<td>
								<!-- <p:inputText value="#{patientMedicineManageBean.patientMedicationData.notes}" /> -->
								<p:inputTextarea  value="#{patientMedicineManageBean.patientMedicationData.notes}"  cols="50" rows="5">
											<!-- <p:ajax update="notesEditor"></p:ajax> -->
								</p:inputTextarea>
							</td>
							
							
						</tr>
					</table >
						</p:outputPanel>
						<table align="right" >
						<tr>
							<td>
							</td>
						</tr>
						<tr>
						
							<td >
								<p:commandButton value="#{msg.done}"
						action="#{patientMedicineManageBean.addMedicine}" update="rivaroxabanMsgId"></p:commandButton>
							</td>
						</tr>
	 	 	 		</table>
						 
	 	 	   </p:tab>
			</p:wizard>	
			</td>
	 	 <td valign="top" align="right" width="8%">
	 	  <p:commandButton value="#{msg.cancel}" action="#{patientMedicineManageBean.submitCancelButtonforpersonalisedmedreview}" immediate="true"
						></p:commandButton>	
	 	 </td>
	 	</tr>
	 </table>
		</h:form>	
	 				

		</p:dialog>

<!-- ************pop up end  Rivaroxaban *********************************************************** -->

<!-- ************pop up start  Fondaparinux *********************************************************** -->

	<p:dialog id="Fondaparinuxid" widgetVar="Fondaparinux"
								resizable="false"  appendTo="@(body)" modal="true"
				 				height="400" width="50%" dynamic="true" closable="false" position="bottom">
				 	<f:facet name="header">
      					<h:outputText id="FondaparinuxHeader" value="#{patientMedicineManageBean.patientMedicationData.drugs}" />
   					</f:facet>
		
		<h:form id="Fondaparinux">	
			 			
					 <table  width="100%" border="0"><tr><td width="92%" valign="top">
					 	 <p:wizard titleStyleClass="popupStepFont" flowListener="#{patientMedicineManageBean.onFlowProcessOfFondaparinux}">  
					 	 	
					 	 	 <p:tab id="step1" title="Step 1" titleStyleClass="popupStepFont">  
					 	 		<p:outputPanel>
				 	   <h:panelGrid columns="3">
							<h:outputText value="#{msg.diagnoses}" /><h:outputText value="*" styleClass="mandatoryField"/>	
							<p:selectOneMenu required="true" requiredMessage="Please select diagnosis"
							          value="#{patientMedicineManageBean.medActionPlan.diagnosis}">
							<f:selectItem itemLabel="Select One" itemValue="" />
							<!-- <f:selectItems value="#{patientMedicineManageBean.clinicDiagnosisList}" var="clinick" itemLabel="{clinick}" itemValue="{clinick}"/> -->
							<f:selectItems id="diagnosisListId"
								value="#{patientMedicineManageBean.clinicDiagnosisList}"
								var="clinick" itemLabel="#{clinick.diagnosisName}"
								itemValue="#{clinick.diagnosisName}" />
								
						<!-- <p:ajax
							listener="#{patientMedicineManageBean.changediagnosisForRivaroxaban}"
							></p:ajax> -->
						</p:selectOneMenu>
				
				 	</h:panelGrid>
				 </p:outputPanel>
	 	 	 		
	 	 				 </p:tab>
					 	 	
					 	 	 <p:tab id="step2" title="Step 2" titleStyleClass="popupStepFont">  
					 	  <p:outputPanel>	
					 	  <table > 
	 	 			<tr>
	 	 				 			<td >
	 	 				 				<h:outputText value="Diagnosis: " style="font-weight: bold"/>&nbsp;
	 	 				 				<h:outputText value="#{patientMedicineManageBean.medActionPlan.diagnosis}" />
	 	 				 			</td>
	 	 				 		</tr>
	 	 	 				</table>
					 	   
	 	 			<table>
	 	 	 			<tr>
		 	 	 			<td>
		 	 	 				<h:outputText value="Age" />
		 	 	 				<h:outputText value="*" styleClass="mandatoryField"/>
								    
							</td>
							
							<td colspan="2">
								<p:inputText value="#{patientMedicineManageBean.calculateCreatimineClearance.age}" />
							</td>
							
							<td>
		 	 	 				<h:outputText value=" Sex (M/F)" />
		 	 	 				<h:outputText value="*" styleClass="mandatoryField"/>
								    
							</td>
							
							<td>
								<!-- <p:selectOneMenu value="#{patientMedicineManageBean.calculateCreatimineClearance.gender}">
									   	<f:selectItem itemValue="M" itemLabel="Male" />
									   	<f:selectItem itemValue="F" itemLabel="Female" />
									   	
									</p:selectOneMenu> -->
									<p:inputText value="#{patientMedicineManageBean.calculateCreatimineClearance.gender}" />
							</td>
							
							
								  	
	 	 	 			</tr>
	 	 	 			
	 	 	 			<tr>
	 	 	 			
	 	 	 				<td>
		 	 	 				<h:outputText value="Serum Creatinine (mg/dl)" />
		 	 	 				<h:outputText value="*" styleClass="mandatoryField"/>
								    
							</td>
							
							<td colspan="2">
								<p:inputText value="#{patientMedicineManageBean.calculateCreatimineClearance.serumCreatinieValue}" />
							</td>
							
		 	 	 			<td>
		 	 	 				<h:outputText value=" Height(Inch)" />
		 	 	 				<h:outputText value="*" styleClass="mandatoryField"/>
								    
							</td>
							
							<td>
								<p:inputText value="#{patientMedicineManageBean.calculateCreatimineClearance.height}" />
							</td>
							
							
						</tr>
						
						<tr>
							<td>
		 	 	 				<h:outputText value="Weight" />
		 	 	 				<h:outputText value="*" styleClass="mandatoryField"/>
								    
							</td>
							
							<td>
								<p:inputText id="simpleWeight" style="width:50px;" value="#{patientMedicineManageBean.calculateCreatimineClearance.simpleWeight}" >
								<p:ajax update="simpleWeight ,patWeight" listener="#{patientMedicineManageBean.changeWeightUnit}"></p:ajax>
									</p:inputText>
							</td>
							<td>	
								<p:selectOneMenu style="width:50px;"
											value="#{patientMedicineManageBean.calculateCreatimineClearance.findWeightUnit}">
											
									 	<f:selectItem itemLabel="Lbs" itemValue="Lbs" />
										 <f:selectItem itemLabel="Kg"  itemValue="Kg"/>
										
										
								<p:ajax update="patWeight" listener="#{patientMedicineManageBean.changeWeightUnit}">
								</p:ajax>
							</p:selectOneMenu>
							<h:inputHidden  id="patWeight" value="#{patientMedicineManageBean.calculateCreatimineClearance.weight}" /> 
							</td>
						</tr>
	 	 	 		</table>
	 	 	 		</p:outputPanel>
	 	 	 </p:tab>
	 	 	 
	 	 	 <p:tab id="Step3" title="Step 3" titleStyleClass="popupStepFont">  
	 	 	 		
	 	 	 		 <p:outputPanel>
	 	 	 		<!--    <h:panelGrid columns="2" border="3"> -->
	 	 	 		
	 	 	 		<table > 
	 	 			<tr>
	 	 				 			<td >
	 	 				 				<h:outputText value="Diagnosis: " style="font-weight: bold"/>&nbsp;
	 	 				 				
	 	 				 			</td>
	 	 				 			<td>
	 	 				 				<h:outputText value="#{patientMedicineManageBean.medActionPlan.diagnosis}" />
	 	 				 			</td>
	 	 				 		</tr>
	 	 				 	
	 	 				 		<tr>
									<td >
										<h:outputText value="Notes :" styleClass="popupStepFont"/>
									</td>
									<td >
										<h:outputText value="1. Contraindicated if CrCl &lt; 30 ml/min" />
									</td>
								</tr>
								<tr>
								<td >
								</td>
									<td>
										<h:outputText value="2. Not Recommended if CrCl 30-60 ml/min" />
									</td>
						</tr>
	 	 	 				</table>
	 	 	 		
	 	 	 			<table>
	 	 	 				<tr>
	 	 	 			
	 	 	 					<td>
		 	 	 				<h:outputText value="Recommended Dose:" style="font-weight: bold" />
								    
							</td>
							
							<td>
								<h:outputText value="#{patientMedicineManageBean.patientMedicationData.recommendedDose}" 
								rendered="#{!(patientMedicineManageBean.patientMedicationData.recommendedDose eq 'Not recommended')}"/>
								<h:outputText value="#{patientMedicineManageBean.patientMedicationData.recommendedDose}"  style="color:red;"
								rendered="#{(patientMedicineManageBean.patientMedicationData.recommendedDose eq 'Not recommended')}"/>
		
							</td>
							
							</tr>
						</table>	
							
							
							<table>
	 	 	 			
	 	 	 			
	 	 	 			<tr>
	 	 	 			
		 	 	 			<td width="80px">
		 	 	 				<h:outputText value=" Creatimine Clearance (ml/min)" />
		 	 	 				
		 	 	 				
								    
							</td>
							
							<td>
								<p:inputText value="#{patientMedicineManageBean.calculateCreatimineClearance.calculateCreatimineClearanceValue}" />
							</td>
							
							<td>
		 	 	 				<h:outputText value="Strength" />
		 	 	 				<h:outputText value="*" styleClass="mandatoryField"/>
								    
							</td>
							
							<td><p:selectOneMenu required="true" requiredMessage="Please Select Strength"
										value="#{patientMedicineManageBean.patientMedicationData.strengths}"
										style="width:122px;">
										<!-- <f:selectItem
											itemLabel="#{patientMedicineManageBean.patientMedicationData.directions}"
											itemValue="#{patientMedicineManageBean.patientMedicationData.directions}" /> -->
										<f:selectItems value="#{patientMedicineManageBean.doseDetailList}"
											var="doseList" itemLabel="#{doseList.dose}" itemValue="#{doseList.dose}" />
									</p:selectOneMenu>
							
								<!-- <p:inputText value="#{patientMedicineManageBean.medActionPlan.dose}" /> -->
							</td>
							
							
								  	
	 	 	 			</tr>
	 	 	 			
	 	 	 			
	 	 	 			<tr>
	 	 	 				<td>
	 	 	 	 						<h:outputText value="unit" /><h:outputText value="*" styleClass="mandatoryField"/>
	 	 	 	 				</td>
	 	 	 	 					<td>
				 	 	 	 			<p:selectOneMenu 
													value="#{patientMedicineManageBean.patientMedicationData.unit}" 
													style="width:122px;">
													
													<f:selectItems value="#{patientMedicineManageBean.unitSummaryList}"
														var="unitList" itemLabel="#{unitList.unit}" itemValue="#{unitList.unit}" />
														
													<p:ajax listener="#{patientMedicineManageBean.calculateTotalDispence}" update="dispenceNumber"></p:ajax>	

												</p:selectOneMenu>
	 	 	 	 					</td>
	 	 	 	 					
	 	 	 	 					<td>
	 	 	 	 							<h:outputText value="Dosage form" /><h:outputText value="*" styleClass="mandatoryField"/>
	 	 	 	 						</td>
	 	 	 	 						
	 	 	 	 						<td>
	 	 	 	 						
	 	 	 	 							<!-- <p:selectOneMenu required="true" 
										value="#{patientMedicineManageBean.patientMedicationData.dosageForm}"
										style="width:122px;">
										<f:selectItem itemLabel="#{patientMedicineManageBean.patientMedicationData.dosageForm}" itemValue="#{patientMedicineManageBean.patientMedicationData.dosageForm}" />
	 	 	 	 						
	 	 	 	 								
													
														<f:selectItems value="#{patientMedicineManageBean.unitDetailsList}"
															var="unitList" itemLabel="#{unitList.unitName}" itemValue="#{unitList.unitName}" />
											</p:selectOneMenu> -->
											<p:inputText  value="#{patientMedicineManageBean.patientMedicationData.dosageForm}" readonly="true"></p:inputText>	
								
	 	 	 	 						</td>
	 	 	 					</tr>
	 	 	 					
	 	 	 					<tr>
	 	 	 						
	 	 	 	 					<!-- 	<td>
	 	 	 	 							<h:outputText value="Package" /><h:outputText value="*" styleClass="mandatoryField"/>
	 	 	 	 					</td>
	 	 	 	 				<td>
	 	 	 	 					
	 	 	 	 					<p:selectOneMenu required="true" 
														value="#{patientMedicineManageBean.patientMedicationData.unitDetail}"
														style="width:122px;">
														
										<f:selectItems value="#{patientMedicineManageBean.dosageDetailsList}"
											var="dosageDetailList" itemLabel="#{dosageDetailList.dosageFrom}" itemValue="#{dosageDetailList.dosageFrom}" />
										
									
										</p:selectOneMenu>
	 	 	 	 					</td> -->
	 	 	 	 					
	 	 	 	 					<td>
	 	 	 	 					<h:outputText value="Route" /><h:outputText value="*" styleClass="mandatoryField"/>
	 	 	 	 				</td>
	 	 	 	 			<td>
	 	 	 	 					<!-- <p:selectOneMenu required="true" 
										value="#{patientMedicineManageBean.patientMedicationData.byRoute}"
										style="width:122px;">
									<f:selectItem itemLabel="#{patientMedicineManageBean.patientMedicationData.byRoute}" itemValue="#{patientMedicineManageBean.patientMedicationData.byRoute}" />
										<f:selectItems value="#{patientMedicineManageBean.routeDetailsList}"
											var="routeDetailList" itemLabel="#{routeDetailList.routeName}" itemValue="#{routeDetailList.routeName}" />
										
									</p:selectOneMenu> -->
									<p:inputText  value="#{patientMedicineManageBean.patientMedicationData.byRoute}" readonly="true"></p:inputText>
	 	 	 	 			</td>
	 	 	 					</tr>
	 	 	 					
	 	 	 					<tr>
	 	 	 						<td>
	 	 	 	 					<h:outputText value="Regimen" /><h:outputText value="*" styleClass="mandatoryField"/>
	 	 	 	 			</td>
	 	 	 	 		
	 	 	 	 		<td>
	 	 	 	 				<p:selectOneMenu required="true" requiredMessage="Please Select Regimen"
										value="#{patientMedicineManageBean.patientMedicationData.directions}"
										style="width:122px;">
										<f:selectItem
											itemLabel=""
											itemValue="" />
										<f:selectItems value="#{patientMedicineManageBean.regimenList}"
											var="regimen" itemLabel="#{regimen}" itemValue="#{regimen}" />
											
											<p:ajax listener="#{patientMedicineManageBean.calculateTotalDispence}" update="dispenceNumber"></p:ajax>	
									</p:selectOneMenu>
	 	 	 	 		</td>
	 	 	 	 		
	 	 	 	 		<td>
	 	 	  							<h:outputText value="Dispense" /><h:outputText value="*" styleClass="mandatoryField"/>
	 	 	  						</td>
	 	 	  						
									<td>
										<p:inputText id="dispenceNumber" style="width:50px;" required="true" converter="#{Integer}" maxlength="3" 
													value="#{patientMedicineManageBean.patientMedicationData.quantity}" >
											<f:convertNumber  pattern="#0" integerOnly="true"  minFractionDigits="3" maxIntegerDigits="3" type="number"/>
										</p:inputText>
									</td>
	 	 	 					</tr>
	 	 	 					
	 	 	 					<tr>
	 	 	 						<td>
					 	 	  			<h:outputText value="Days Supply" />
					 	 	  		</td>
									<td>
											<!-- <p:inputText style="width:50px;" required="true" 
														value="#{patientMedicineManageBean.patientMedicationData.daySupply}" /> -->
														
										<p:selectOneMenu 
													value="#{patientMedicineManageBean.patientMedicationData.daySupply}"
													style="width:80px;">
														<f:selectItem itemValue="#{patientMedicineManageBean.patientMedicationData.daySupply}" 
													itemLabel="#{patientMedicineManageBean.patientMedicationData.daySupply}"></f:selectItem>
													<f:selectItems value="#{patientMedicineManageBean.daySupplyList}"
														var="daySupplyDetailList" itemLabel="#{daySupplyDetailList}" itemValue="#{daySupplyDetailList}" />
												
												<p:ajax listener="#{patientMedicineManageBean.calculateTotalDispence}" update="dispenceNumber"></p:ajax>		
										</p:selectOneMenu>
								</td>
								
								<td>
	 	 	  						<h:outputText value="Refill"/>
	 	 	  					</td>
	 	 	  					
								<td>
									
												<!-- 	<p:inputText required="true" requiredMessage="Please insert reffils" maxlength="2" 
										 value="#{patientMedicineManageBean.patientMedicationData.reffils}" style="width:50px;">
										 
										 <pe:keyFilter mask="num"></pe:keyFilter>
									</p:inputText> -->
							
									<p:selectOneMenu required="true" 
											value="#{patientMedicineManageBean.patientMedicationData.reffils}"
											style="width:60px;">
											
											<f:selectItems value="#{patientMedicineManageBean.refillDetailsList}"
												var="refillList" itemLabel="#{refillList}" itemValue="#{refillList}" />
											
										</p:selectOneMenu>
								</td>
						
								
	 	 	 					</tr>
	 	 	 			
						</table>
						
						<table>
						<tr>
	 	 	 			
	 	 	 				
							
		 	 	 			<td>
		 	 	 				<h:outputText value="Comments" />
								    
							</td>
							
							<td>
								<!-- <p:inputText value="#{patientMedicineManageBean.patientMedicationData.notes}" /> -->
								<p:inputTextarea  value="#{patientMedicineManageBean.patientMedicationData.notes}"  cols="50" rows="5">
											<!-- <p:ajax update="notesEditor"></p:ajax> -->
								</p:inputTextarea>
							</td>
							
							
						</tr>
					</table >
	 	 	 		</p:outputPanel>
						 
	 	 	   </p:tab>
	 	 	   
	 	 	   <p:tab id="step4" title="Step 4" titleStyleClass="popupStepFont">  
					 <p:outputPanel>
					  <table > 
	 	 			<tr>
	 	 				 			<td >
	 	 				 				<h:outputText value="Diagnosis: " style="font-weight: bold"/>&nbsp;
	 	 				 				<h:outputText value="#{patientMedicineManageBean.medActionPlan.diagnosis}" />&nbsp;&nbsp;
	 	 				 				<h:outputText value="Dose Prescribed: " style="font-weight: bold"/>&nbsp;
	 	 				 				<h:outputText value="#{patientMedicineManageBean.medActionPlan.dose}" />
	 	 				 			</td>
	 	 				 		</tr>
	 	 	 				</table>
					 
					<table border="1" >
								<tr bgcolor="#EBB981" style="font-family: verdana; font-weight: bold;">
								
								<td colspan="2"><h:outputText value="Long Term Monitoring Guidelines FOR FONDAPARINUX" /></td>
								
								</tr>
								
								<tr>
									<td>
											<h:outputText value="Patient weight" />
										</td><td>
											<h:outputText value="q1-3 months and adjust fondaparinux dose if needed" /></td>
											
								</tr>
								
								<tr>
									
									<td>
											<h:outputText  value="Platelet count" />
											</td><td>
											<h:outputText value="q1-3 months and PRN if bleeding is suspected or confirmed, or if thrombocytopenia is suspected or confirmed, and hold dosing as needed)" /></td>
											
								</tr>
								
								<tr>
									
									<td>
											<h:outputText  value="Hematocrit" />
											</td><td>
											<h:outputText value="q1-3 months and PRN if bleeding is suspected or confirmed, or if thrombocytopenia is suspected or confirmed, and hold dosing as needed)" /></td>
											
								</tr>
								
								<tr>
									
									<td>
											<h:outputText  value="Serum creatinine" />
											</td><td>
											<h:outputText value="q1-3 months (and PRN if change in renal function is suspected or if bleeding is suspected or confirmed, and hold dosing as needed)" /></td>
											
								</tr>
								
								
				 	  
						</table>
						
						<table>
							<tr>
								<td valign="top">
									<h:outputText  value="Lab :" styleClass="popupStepFont" />
								</td>
								<td>
								<p:dataTable value="#{patientMedicineManageBean.labDetailList}" var="labDetail" emptyMessage="#{msg.noMedFound}">
										
										<p:column>
											<f:facet name="header">
												<h:outputText value="Select" />
											</f:facet>
											<p:selectBooleanCheckbox value="#{labDetail.selected}" />  
										</p:column>
										
										<p:column>
											<f:facet name="header">
												<h:outputText value="Lab Name" />
											</f:facet>
											<h:outputText value="#{labDetail.labName}" />
										</p:column>
										
										<p:column>
											<f:facet name="header">
												<h:outputText value="Lab Frequency" />
											</f:facet>
											<p:selectOneMenu value="#{labDetail.labfrequencyDetail}">
															<!-- <f:selectItem
																itemLabel="#{patientMedicineManageBean.medActionPlan.labFrequency}"
																itemValue="#{patientMedicineManageBean.medActionPlan.labFrequency}" /> -->
															<f:selectItems
																value="#{patientMedicineManageBean.lMWHFrequencyList}"
																var="labFreq" itemLabel="#{labFreq}" itemValue="#{labFreq}" />
												</p:selectOneMenu>
										</p:column>
																	
									
									</p:dataTable>
									
						</td>
						</tr>
						</table>
						<table width="100%">
						 <tr align="right">
						
							<td align="right">
								<p:commandButton value="#{msg.done}"
						action="#{patientMedicineManageBean.addMedicine}"></p:commandButton>
							</td>
						</tr>
						</table>
				 </p:outputPanel>
	 	 	 		
	 	 				 </p:tab>
			</p:wizard>	
			</td>
	 	 <td valign="top" align="right" width="8%">
	 	  <p:commandButton value="#{msg.cancel}" action="#{patientMedicineManageBean.submitCancelButtonforpersonalisedmedreview}" immediate="true"
						></p:commandButton>	
	 	 </td>
	 	</tr>
	 </table>
		</h:form>	
	
	</p:dialog> 			
	
<!-- ************pop up End  Fondaparinux *********************************************************** -->
<!-- ************pop up start  Desirudin *********************************************************** -->


<p:dialog id="desirudinid" widgetVar="Desirudin"
								resizable="false"  appendTo="@(body)" modal="true"
				 				height="400" width="50%" dynamic="true" closable="false" position="bottom">
				 	<f:facet name="header">
      					<h:outputText id="DesirudinHeader" value="#{patientMedicineManageBean.patientMedicationData.drugs}" />
   					</f:facet>
		
		<h:form id="desirudinDetails">	
			 	<p:messages  id="desirudinMsgId" showDetail="false" style="color:#FF0000;margin:8px;"  closable="true" showSummary="true"/>		
					 <table  width="100%" border="0"><tr><td width="92%" valign="top">
					 	 <p:wizard titleStyleClass="popupStepFont" flowListener="#{patientMedicineManageBean.onFlowProcessOfDesirudin}">  
					 	 	
					 	 	
					 	 	
					 	 	 <p:tab id="step1" title="Step 1" titleStyleClass="popupStepFont">  
					 	  <p:outputPanel>	 
	 	 			<table>
	 	 	 			<tr>
		 	 	 			<td>
		 	 	 				<h:outputText value="Age" />
		 	 	 				<h:outputText value="*" styleClass="mandatoryField"/>
								    
							</td>
							
							<td colspan="2">
								<p:inputText value="#{patientMedicineManageBean.calculateCreatimineClearance.age}" />
							</td>
							
							<td>
		 	 	 				<h:outputText value=" Sex (M/F)" />
		 	 	 				<h:outputText value="*" styleClass="mandatoryField"/>
								    
							</td>
							
							<td >
								<!-- <p:selectOneMenu value="#{patientMedicineManageBean.calculateCreatimineClearance.gender}">
									   	<f:selectItem itemValue="M" itemLabel="Male" />
									   	<f:selectItem itemValue="F" itemLabel="Female" />
									   	
									</p:selectOneMenu> -->
									<p:inputText value="#{patientMedicineManageBean.calculateCreatimineClearance.gender}" />
							</td>
							
							
								  	
	 	 	 			</tr>
	 	 	 			
	 	 	 			<tr>
	 	 	 			
	 	 	 				<td >
		 	 	 				<h:outputText value="Serum Creatinine (mg/dl)" />
		 	 	 				<h:outputText value="*" styleClass="mandatoryField"/>
								    
							</td>
							
							<td colspan="2">
								<p:inputText value="#{patientMedicineManageBean.calculateCreatimineClearance.serumCreatinieValue}" />
							</td>
							
		 	 	 			<td>
		 	 	 				<h:outputText value=" Height(Inch)" />
		 	 	 				<h:outputText value="*" styleClass="mandatoryField"/>
								    
							</td>
							
							<td>
								<p:inputText value="#{patientMedicineManageBean.calculateCreatimineClearance.height}" />
							</td>
							
							
						</tr>
						
						<tr>
							<td>
		 	 	 				<h:outputText value="Weight" />
		 	 	 				<h:outputText value="*" styleClass="mandatoryField"/>
								    
							</td>
							
							<td>
								<p:inputText id="simpleWeight" style="width:50px;" value="#{patientMedicineManageBean.calculateCreatimineClearance.simpleWeight}" >
									<p:ajax update="patWeight ,patWeight" listener="#{patientMedicineManageBean.changeWeightUnit}"/>
									</p:inputText>
							</td>
							<td>	
								<p:selectOneMenu style="width:50px;"
											value="#{patientMedicineManageBean.calculateCreatimineClearance.findWeightUnit}">
											
									 	<f:selectItem itemLabel="Lbs" itemValue="Lbs" />
										 <f:selectItem itemLabel="Kg"  itemValue="Kg"/>
										
										
								<p:ajax update="patWeight" listener="#{patientMedicineManageBean.changeWeightUnit}">
								</p:ajax>
							</p:selectOneMenu>
							<h:inputHidden  id="patWeight" value="#{patientMedicineManageBean.calculateCreatimineClearance.weight}" /> 
							</td>
						</tr>
						
						
	 	 	 		</table>
	 	 	 		</p:outputPanel>
	 	 	 </p:tab>
	 	 	 
	 	 	 <p:tab id="Step2" title="Step 2" titleStyleClass="popupStepFont">  
	 	 	 		
	 	 	 		 <p:outputPanel>
	 	 	 		<!--    <h:panelGrid columns="2" border="3"> -->
	 	 	 		
	 	 	 		<table>
	 	 	 			<tr>
							<td>
							<h:outputText value="Note:" styleClass="outputtext"/> &nbsp;&nbsp;&nbsp;
								<h:outputText value="Recommended dose 1.7- 5mg q12h if creatinine clearance is 30 - 80 ml/min" />
							</td>
							
						</tr>
						</table>
						<table>
	 	 	 			<tr>
	 	 	 				<td>
		 	 	 				<h:outputText value="Recommended Dose:" style="font-weight:bold;" />
								    
							</td>
							
							<td>
								<h:outputText value="#{patientMedicineManageBean.patientMedicationData.recommendedDose}" 
									rendered="#{!(patientMedicineManageBean.patientMedicationData.recommendedDose eq 'Not recommended')}"/>
								<h:outputText value="#{patientMedicineManageBean.patientMedicationData.recommendedDose}" style="color:red;"  
									rendered="#{patientMedicineManageBean.patientMedicationData.recommendedDose eq 'Not recommended'}"/>
							</td>
	 	 	 			</tr>
	 	 	 		</table>
	 	 	 		
	 	 	 			<table>
	 	 	 			
	 	 	 			
	 	 	 			<tr>
	 	 	 			
		 	 	 			<td width="80px">
		 	 	 				<h:outputText value=" Creatimine Clearance (ml/min)" />
		 	 	 				
		 	 	 				
								    
							</td>
							
							<td>
								<p:inputText value="#{patientMedicineManageBean.calculateCreatimineClearance.calculateCreatimineClearanceValue}" />
							</td>
							
							<td>
		 	 	 				<h:outputText value="Strength" />
		 	 	 				<h:outputText value="*" styleClass="mandatoryField"/>
								    
							</td>
							
							<td><p:selectOneMenu required="true" requiredMessage="Please Select Strength"
										value="#{patientMedicineManageBean.patientMedicationData.strengths}"
										style="width:122px;">
									<f:selectItem
											itemLabel="" itemValue="" /> 
										<f:selectItems value="#{patientMedicineManageBean.doseDetailList}"
											var="doseList" itemLabel="#{doseList.dose}" itemValue="#{doseList.dose}" />
									</p:selectOneMenu>
							
								<!-- <p:inputText value="#{patientMedicineManageBean.medActionPlan.dose}" /> -->
							</td>
							
							
								  	
	 	 	 			</tr>
	 	 	 			
	 	 	 			
	 	 	 			<tr>
	 	 	 				<td>
	 	 	 	 						<h:outputText value="unit" /><h:outputText value="*" styleClass="mandatoryField"/>
	 	 	 	 				</td>
	 	 	 	 					<td>
				 	 	 	 			<p:selectOneMenu 
													value="#{patientMedicineManageBean.patientMedicationData.unit}" 
													style="width:122px;">
													<f:selectItem itemLabel="--Select Unit--"/>
													<f:selectItems value="#{patientMedicineManageBean.unitSummaryList}"
														var="unitList" itemLabel="#{unitList.unit}" itemValue="#{unitList.unit}" />
														
												<p:ajax listener="#{patientMedicineManageBean.calculateTotalDispence}" update="dispenceNumber"></p:ajax>	
														
												</p:selectOneMenu>
	 	 	 	 					</td>
	 	 	 	 					
	 	 	 	 					<td>
	 	 	 	 							<h:outputText value="Dosage form" /><h:outputText value="*" styleClass="mandatoryField"/>
	 	 	 	 						</td>
	 	 	 	 						
	 	 	 	 						<td>
	 	 	 	 						
	 	 	 	 						<!-- 	<p:selectOneMenu required="true" 
													value="#{patientMedicineManageBean.patientMedicationData.dosageForm}"
													style="width:122px;">
										<f:selectItem itemLabel="#{patientMedicineManageBean.patientMedicationData.dosageForm}" itemValue="#{patientMedicineManageBean.patientMedicationData.dosageForm}" />
	 	 	 	 								
														<f:selectItems value="#{patientMedicineManageBean.unitDetailsList}"
															var="unitList" itemLabel="#{unitList.unitName}" itemValue="#{unitList.unitName}" />
											</p:selectOneMenu> -->
											
											<p:inputText  value="#{patientMedicineManageBean.patientMedicationData.dosageForm}" readonly="true"></p:inputText>	
								
	 	 	 	 						</td>
	 	 	 					</tr>
	 	 	 					
	 	 	 					<tr>
	 	 	 						
	 	 	 	 						<!-- <td>
	 	 	 	 							<h:outputText value="Package" /><h:outputText value="*" styleClass="mandatoryField"/>
	 	 	 	 					</td>
	 	 	 	 				<td>
	 	 	 	 						<p:selectOneMenu required="true" 
														value="#{patientMedicineManageBean.patientMedicationData.unitDetail}"
														style="width:122px;">
													
										<f:selectItems value="#{patientMedicineManageBean.dosageDetailsList}"
											var="dosageDetailList" itemLabel="#{dosageDetailList.dosageFrom}" itemValue="#{dosageDetailList.dosageFrom}" />
										
									
										</p:selectOneMenu>
	 	 	 	 					</td> -->
	 	 	 	 					
	 	 	 	 					<td>
	 	 	 	 					<h:outputText value="Route" /><h:outputText value="*" styleClass="mandatoryField"/>
	 	 	 	 				</td>
	 	 	 	 			<td>
	 	 	 	 					<!-- <p:selectOneMenu required="true" 
										value="#{patientMedicineManageBean.patientMedicationData.byRoute}"
										style="width:122px;">
									<f:selectItem itemLabel="#{patientMedicineManageBean.patientMedicationData.byRoute}" itemValue="#{patientMedicineManageBean.patientMedicationData.byRoute}" />
										<f:selectItems value="#{patientMedicineManageBean.routeDetailsList}"
											var="routeDetailList" itemLabel="#{routeDetailList.routeName}" itemValue="#{routeDetailList.routeName}" />
										
									</p:selectOneMenu> -->
									<p:inputText  value="#{patientMedicineManageBean.patientMedicationData.byRoute}" readonly="true"></p:inputText>
	 	 	 	 			</td>
	 	 	 					</tr>
	 	 	 					
	 	 	 					<tr>
	 	 	 						<td>
	 	 	 	 					<h:outputText value="Regimen" /><h:outputText value="*" styleClass="mandatoryField"/>
	 	 	 	 			</td>
	 	 	 	 		
	 	 	 	 		<td>
	 	 	 	 				<p:selectOneMenu required="true" requiredMessage="Please Select Regimen"
										value="#{patientMedicineManageBean.patientMedicationData.directions}"
										style="width:122px;">
										
										<f:selectItem
											itemLabel=""
											itemValue="" />
										<f:selectItems value="#{patientMedicineManageBean.regimenList}"
											var="regimen" itemLabel="#{regimen}" itemValue="#{regimen}" />
											
											<p:ajax listener="#{patientMedicineManageBean.calculateTotalDispence}" update="dispenceNumber"></p:ajax>		
									</p:selectOneMenu>
	 	 	 	 		</td>
	 	 	 	 		
	 	 	 	 		<td><h:outputText value="Dispense" /><h:outputText value="*" styleClass="mandatoryField"/>
	 	 	  						</td>
	 	 	  						
									<td>
										<p:inputText id="dispenceNumber" style="width:50px;" required="true" converter="#{Integer}" maxlength="3" 
													value="#{patientMedicineManageBean.patientMedicationData.quantity}" >
											<f:convertNumber  pattern="#0" integerOnly="true"  minFractionDigits="3" maxIntegerDigits="3" type="number"/>
										</p:inputText>
									</td>
	 	 	 					</tr>
	 	 	 					
	 	 	 					<tr>
	 	 	 						<td>
					 	 	  			<h:outputText value="Days Supply" />
					 	 	  		</td>
									<td>
											<!-- <p:inputText style="width:50px;" required="true" 
														value="#{patientMedicineManageBean.patientMedicationData.daySupply}" /> -->
														
										<p:selectOneMenu 
													value="#{patientMedicineManageBean.patientMedicationData.daySupply}"
													style="width:80px;">
														<f:selectItem itemValue="#{patientMedicineManageBean.patientMedicationData.daySupply}" 
													itemLabel="#{patientMedicineManageBean.patientMedicationData.daySupply}"></f:selectItem>
													<f:selectItems value="#{patientMedicineManageBean.daySupplyList}"
														var="daySupplyDetailList" itemLabel="#{daySupplyDetailList}" itemValue="#{daySupplyDetailList}" />
													<p:ajax listener="#{patientMedicineManageBean.calculateTotalDispence}" update="dispenceNumber"></p:ajax>		 -->
										</p:selectOneMenu>
								</td>
								
								<td>
	 	 	  						<h:outputText value="Refill"/>
	 	 	  					</td>
	 	 	  					
								<td>
									
												<!-- 	<p:inputText required="true" requiredMessage="Please insert reffils" maxlength="2" 
										 value="#{patientMedicineManageBean.patientMedicationData.reffils}" style="width:50px;">
										 
										 <pe:keyFilter mask="num"></pe:keyFilter>
									</p:inputText> -->
							
									<p:selectOneMenu required="true" 
											value="#{patientMedicineManageBean.patientMedicationData.reffils}"
											style="width:60px;">
											
											<f:selectItems value="#{patientMedicineManageBean.refillDetailsList}"
												var="refillList" itemLabel="#{refillList}" itemValue="#{refillList}" />
											
										</p:selectOneMenu>
								</td>
						
								
	 	 	 					</tr>
	 	 	 			
						</table>
						
						<table>
						<tr>
	 	 	 			
	 	 	 				
							
		 	 	 			<td>
		 	 	 				<h:outputText value="Comments" />
								    
							</td>
							
							<td>
								<!-- <p:inputText value="#{patientMedicineManageBean.patientMedicationData.notes}" /> -->
								<p:inputTextarea  value="#{patientMedicineManageBean.patientMedicationData.notes}"  cols="50" rows="5">
											<!-- <p:ajax update="notesEditor"></p:ajax> -->
								</p:inputTextarea>
							</td>
							
							
						</tr>
					</table >
	 	 	 		</p:outputPanel>
						 
	 	 	   </p:tab>
	 	 	   
	 	 	   <p:tab id="step3" title="Step 3" titleStyleClass="popupStepFont">  
					 <p:outputPanel >
					
			
					<table >
								
							<!-- <tr>
								<td>
									<h:outputText value="Monitoring (Suggested / Optional)" />
								</td>
								
							</tr>	 -->
							
							<tr>
								<td valign="top">
									<h:outputText value="aPTT monitoring for" styleClass="popupStepFont"/>
								</td>
								<td>
									<table>
										<tr>
											<td>
												<p:selectManyCheckbox  value="#{patientMedicineManageBean.medicineListForApixaBanDoseTest}"
											            layout="pageDirection">  
											            <f:selectItem itemLabel="Patients at increased risk for hemorrhage" itemValue="1" />  
											            <f:selectItem itemLabel="Patients with renal impairment" itemValue="2" />  
											         
											          <p:ajax 
																listener="#{patientMedicineManageBean.checkSelectaPTTMonitoring}"
																execute="@this" update=":desirudinDetails,showDesirudinLabFrequency"></p:ajax>
											             
											        </p:selectManyCheckbox>  
											</td>
										</tr>
									
									</table>
								</td>
							</tr>	
								
				 	   
						</table>
						
				 </p:outputPanel>
				 
				 <p:outputPanel id="showDesirudinLabFrequency">
				  <p:fieldset rendered="#{patientMedicineManageBean.showDesirudinLabFrequency}">
					<table>
							<tr>
								<td valign="top">
									<p:dataTable value="#{patientMedicineManageBean.labDetailList}" var="labDetail" emptyMessage="#{msg.noMedFound}">
										
										<p:column>
											<f:facet name="header">
												<h:outputText value="Select" />
											</f:facet>
											<p:selectBooleanCheckbox value="#{labDetail.selected}" />  
										</p:column>
										
										<p:column>
											<f:facet name="header">
												<h:outputText value="Lab Name" />
											</f:facet>
											<h:outputText value="#{labDetail.labName}" />
										</p:column>
										
										<p:column>
											<f:facet name="header">
												<h:outputText value="Lab Frequency" />
											</f:facet>
											<p:selectOneMenu value="#{labDetail.labfrequencyDetail}">
															<!-- <f:selectItem
																itemLabel="#{patientMedicineManageBean.medActionPlan.labFrequency}"
																itemValue="#{patientMedicineManageBean.medActionPlan.labFrequency}" /> -->
															<f:selectItems
																value="#{patientMedicineManageBean.lMWHFrequencyList}"
																var="labFreq" itemLabel="#{labFreq}" itemValue="#{labFreq}" />
												</p:selectOneMenu>
										</p:column>
																	
									
									</p:dataTable>
								</td>
							
						</tr>
						
						</table>
						</p:fieldset>
						<table width="90%">
							<tr>
						
							<td align="right">
								<p:commandButton value="#{msg.done}" update="desirudinMsgId"
						action="#{patientMedicineManageBean.addMedicine}"></p:commandButton>
							</td>
						</tr>
						</table>
				</p:outputPanel>
	 	 	 		
	 	 				 </p:tab>
			</p:wizard>	
			</td>
	 	 <td valign="top" align="right" width="8%">
	 	  <p:commandButton value="#{msg.cancel}" action="#{patientMedicineManageBean.submitCancelButtonforpersonalisedmedreview}" immediate="true"
						></p:commandButton>	
	 	 </td>
	 	</tr>
	 </table>
		</h:form>	
	
	</p:dialog> 			
	<!-- ************pop up end  Desirudin *********************************************************** -->
	
	<!-- ######################## pop up start for Dalteparin medicine................................. -->
	<p:dialog id="dalteparinid" widgetVar="dalteparin"
								resizable="false"  appendTo="@(body)" modal="true"
				 				height="510" width="58%" dynamic="true" closable="false" position="300,113">
		<f:facet name="header">
      					<h:outputText id="dalteparinHeader" value="#{patientMedicineManageBean.patientMedicationData.drugs}" />
   					</f:facet>
		
		<h:form>	
		<p:messages  id="dalteparinMsgId" showDetail="false" style="color:#FF0000;margin:8px;"  closable="true" showSummary="true"/>	
			<table  width="100%" border="0">
				<tr>
					<td width="92%" valign="top">
					<p:wizard titleStyleClass="popupStepFont" flowListener="#{patientMedicineManageBean.onFlowProcessOfDalteparin}">  
					 	 <p:tab id="step1" title="Step 1" titleStyleClass="popupStepFont">  
					 	 	<p:outputPanel>
				 	   			<h:panelGrid columns="3">
									<h:outputText value="#{msg.diagnoses}" /><h:outputText value="*" styleClass="mandatoryField"/>	
									<p:selectOneMenu required="true" requiredMessage="Please select diagnosis"
							         			 value="#{patientMedicineManageBean.medActionPlan.diagnosis}">
											<f:selectItem itemLabel="Select One" itemValue="" />
											<!-- <f:selectItems value="#{patientMedicineManageBean.clinicDiagnosisList}" var="clinick" itemLabel="{clinick}" itemValue="{clinick}"/> -->
											<f:selectItems id="diagnosisListId"
													value="#{patientMedicineManageBean.clinicDiagnosisList}"
													var="clinick" itemLabel="#{clinick.diagnosisName}"
													itemValue="#{clinick.diagnosisName}" />
								
											<!-- <p:ajax
												listener="#{patientMedicineManageBean.changediagnosisForRivaroxaban}"
												></p:ajax> -->
											</p:selectOneMenu>
				
				 				</h:panelGrid>
				 			</p:outputPanel>
	 	 				 </p:tab>
	 	 				 <p:tab id="step2" title="Step 2" titleStyleClass="popupStepFont">  
	 	 				 	<table>
	 	 				 	<tr>
	 	 				 			<td >
	 	 				 				<h:outputText value="Diagnosis: " style="font-weight: bold"/>&nbsp;
	 	 				 				<h:outputText value="#{patientMedicineManageBean.medActionPlan.diagnosis}" />
	 	 				 			</td>
	 	 				 		</tr>
	 	 				 		<tr>
	 	 				 			<td>
			 	 				 		<p:outputPanel
												rendered="#{patientMedicineManageBean.medActionPlan.diagnosis eq 'VTE Prophylaxis'}">
											<p:selectOneRadio  value="#{patientMedicineManageBean.subDiagnosisDetail}"
													            layout="pageDirection">  
												<f:selectItem itemLabel="Orthopedic surgery (hip/knee replacement, hip fracture)" itemValue="Orthopedic surgery (hip/knee replacement, hip fracture)" />  
												<f:selectItem itemLabel="Trauma" itemValue="Trauma" />  
												<f:selectItem itemLabel="Acute spinal cord injury" itemValue="Acute spinal cord injury" />  
												<f:selectItem itemLabel="Acute medical illness" itemValue="Acute medical illness" />  
												<f:selectItem itemLabel="General surgery" itemValue="General surgery" />  
												<f:selectItem itemLabel="Bariatric surgery" itemValue="Bariatric surgery" />
												<f:selectItem itemLabel="Morbid obesity (BMI &gt; 40)" itemValue="Morbid obesity (BMI &gt; 40)" />
												<f:selectItem itemLabel="Severe renal impairment (CrCl &lt; 30)" itemValue="Severe renal impairment (CrCl &lt; 30)" />
											</p:selectOneRadio>  
										</p:outputPanel>
										
										<p:outputPanel
												rendered="#{patientMedicineManageBean.medActionPlan.diagnosis eq 'VTE Treatment'}">
											<p:selectOneRadio  value="#{patientMedicineManageBean.subDiagnosisDetail}"
													            layout="pageDirection">  
												<f:selectItem itemLabel="Venous thrombosis (LMWH for a minimum of 5 days)" itemValue="Venous thrombosis (LMWH for a minimum of 5 days)" />  
												<f:selectItem itemLabel="Cancer associated venous thrombosis (LMWH for a minimum of 3-6 months)" itemValue="Cancer associated venous thrombosis (LMWH for a minimum of 3-6 months)" />  
												<f:selectItem itemLabel="Pregnancy" itemValue="Pregnancy" />  
												<f:selectItem itemLabel="Low body weight (wt &le; 45 kg)" itemValue="Low body weight (wt &le; 45 kg)" />  
												<f:selectItem itemLabel="Obesity (wt &ge; 99 kg)" itemValue="Obesity (wt &ge; 99 kg)" />  
												<f:selectItem itemLabel="Moderate renal impairment (CrCl 30-60)" itemValue="Moderate renal impairment (CrCl 30-60)" />
												<f:selectItem itemLabel="Severe renal impairment (CrCl &lt; 30)" itemValue="Severe renal impairment (CrCl &lt; 30)" />
											</p:selectOneRadio>  
										</p:outputPanel>
										
										<p:outputPanel
												rendered="#{patientMedicineManageBean.medActionPlan.diagnosis eq 'Acute Coronary Syndrome'}">
											<p:selectOneRadio  value="#{patientMedicineManageBean.subDiagnosisDetail}"
													            layout="pageDirection">  
												<f:selectItem itemLabel="Unstable angina/NQWMI" itemValue="Unstable angina/NQWMI" />  
												<f:selectItem itemLabel="Renal impairment (CrCl &lt; 60)" itemValue="Renal impairment (CrCl &lt; 60)" />  
											</p:selectOneRadio>  
										</p:outputPanel>
										
										<p:outputPanel
												rendered="#{patientMedicineManageBean.medActionPlan.diagnosis eq 'Bridge Therapy'}">
											<p:selectOneRadio  value="#{patientMedicineManageBean.subDiagnosisDetail}"
													            layout="pageDirection">  
												<f:selectItem itemLabel="Atrial fibrillation" itemValue="Atrial fibrillation" />  
												<f:selectItem itemLabel="Heart valve replacement" itemValue="Heart valve replacement" />  
												<f:selectItem itemLabel="History of VTE" itemValue="History of VTE" />  
												<f:selectItem itemLabel="Pregnancy" itemValue="Pregnancy" />  
												<f:selectItem itemLabel="Low body weight (wt &le; 45 kg)" itemValue="Low body weight (wt &le; 45 kg)" />  
												<f:selectItem itemLabel="Obesity (wt &ge; 99 kg)" itemValue="Obesity (wt &ge; 99 kg)" />
												<f:selectItem itemLabel="Moderate renal impairment (CrCl 30-60)" itemValue="Moderate renal impairment (CrCl 30-60)" />
												<f:selectItem itemLabel="Severe renal impairment (CrCl &lt; 30)" itemValue="Severe renal impairment (CrCl &lt; 30)" />
											</p:selectOneRadio>  
										</p:outputPanel>
								  </td>
								  <td>
								  	<table>
								  		<tr>
								  			<!-- <td>
								  				<h:outputText value="Body Weight(kg)" />
								  			</td> -->
								  			<td>
								 	 	 				<h:outputText value="Body Weight" />
								 	 	 				<h:outputText value="*" styleClass="mandatoryField"/>
														    
													</td>
													
													<td>
														<p:inputText id="simpleWeight" style="width:50px;" value="#{patientMedicineManageBean.calculateCreatimineClearance.simpleWeight}" >

															<p:ajax update="simpleWeight ,patWeight" listener="#{patientMedicineManageBean.changeWeightUnit}"></p:ajax>

														</p:inputText>
													</td>
													<td>	
														<p:selectOneMenu style="width:50px;"
																	value="#{patientMedicineManageBean.calculateCreatimineClearance.findWeightUnit}">
																	
															 	<f:selectItem itemLabel="Lbs" itemValue="Lbs" />
																 <f:selectItem itemLabel="Kg"  itemValue="Kg"/>
																
																
														<p:ajax update="patWeight" listener="#{patientMedicineManageBean.changeWeightUnit}">
														</p:ajax>
													</p:selectOneMenu>
													<h:inputHidden  id="patWeight" value="#{patientMedicineManageBean.calculateCreatimineClearance.weight}" /> 
													</td>
								  		</tr>
								  	</table>
								  </td>
	 	 				 		</tr>
	 	 				 	</table>
	 	 				 	
	 	 				 </p:tab> 
	 	 				 
	 	 				 <p:tab id="Step3" title="Step 3" titleStyleClass="popupStepFont">  
        					
       							 <p:outputPanel>
        					  <table > 
	 	 						<tr>
	 	 				 			<td colspan="2">
	 	 				 				<h:outputText value="Diagnosis: " style="font-weight: bold"/>&nbsp;
	 	 				 				<h:outputText value="#{patientMedicineManageBean.medActionPlan.diagnosis}" />&nbsp;&nbsp;
	 	 				 				<h:outputText value="Sub Diagnoses: " style="font-weight: bold"/>
	 	 				 				<h:outputText value="#{patientMedicineManageBean.subDiagnosisDetail}" />
	 	 				 			</td>
	 	 				 		</tr>
	 	 				 		</table>
	 	 				 		
	 	 				 		<table>
	 	 				 		<tr>
	 	 				 			<td><h:outputText value="Recommendation:" style="font-weight: bold"/></td>
	 	 				 			
	 	 				 			 <td>
									        <h:outputText value="#{patientMedicineManageBean.patientMedicationData.recommendedDose}"  readonly="true"/>
									       </td>
	 	 				 		</tr>
	 	 	 				</table>
	 	 	 				
	 	 	 				<p:outputPanel rendered="#{!(patientMedicineManageBean.patientMedicationData.calculatedDose eq 0)}">
	 	 	 					<table>
	 	 	 						<tr>
	 	 	 							<td>
	 	 	 								<h:outputText value="Calculated dose (Units) :" style="font-weight: bold"/>
	 	 	 							</td>
	 	 	 							
	 	 	 							<td>
	 	 	 								<h:outputText value="#{patientMedicineManageBean.patientMedicationData.calculatedDose}"></h:outputText>
	 	 	 							</td>
	 	 	 						</tr>
	 	 	 					</table>
	 	 	 				
	 	 	 				</p:outputPanel>
         						<table>
        							<!--  <tr>
        								 <td>
									           
									       </td>
									      
									       
									       </tr> -->
									       
									     <tr>
									       <td>
									           <h:outputText value="Strength" />
									           <h:outputText value="*" styleClass="mandatoryField"/>
									       </td>
									       
									       <td><p:selectOneMenu required="true" requiredMessage="Please Select Strength"
										value="#{patientMedicineManageBean.patientMedicationData.strengths}"
										style="width:122px;">
										 <f:selectItem
											itemLabel=""
											itemValue="" /> 
										<f:selectItems value="#{patientMedicineManageBean.doseDetailList}"
											var="doseList" itemLabel="#{doseList.dose}" itemValue="#{doseList.dose}" />
									</p:selectOneMenu>
							
								<!-- <p:inputText value="#{patientMedicineManageBean.medActionPlan.dose}" /> -->
									</td>
									
								<td>
	 	 	 	 						<h:outputText value="unit" /><h:outputText value="*" styleClass="mandatoryField"/>
	 	 	 	 				</td>
	 	 	 	 					<td>
				 	 	 	 			<p:selectOneMenu 
													value="#{patientMedicineManageBean.patientMedicationData.unit}" 
													style="width:122px;">
													
													<f:selectItems value="#{patientMedicineManageBean.unitSummaryList}"
														var="unitList" itemLabel="#{unitList.unit}" itemValue="#{unitList.unit}" />
														
													<p:ajax listener="#{patientMedicineManageBean.calculateTotalDispence}" update="dispenceNumber"></p:ajax>		
												</p:selectOneMenu>
	 	 	 	 					</td>
									  </tr>
									
									<tr>
										<td>
	 	 	 	 							<h:outputText value="Dosage form" /><h:outputText value="*" styleClass="mandatoryField"/>
	 	 	 	 						</td>
	 	 	 	 						
	 	 	 	 						<td>
	 	 	 	 						
	 	 	 	 						<!-- <p:selectOneMenu required="true" 
										value="#{patientMedicineManageBean.patientMedicationData.dosageForm}"
										style="width:122px;">
										<f:selectItem itemLabel="#{patientMedicineManageBean.patientMedicationData.dosageForm}" itemValue="#{patientMedicineManageBean.patientMedicationData.dosageForm}" />
	 	 	 	 								
													
														<f:selectItems value="#{patientMedicineManageBean.unitDetailsList}"
															var="unitList" itemLabel="#{unitList.unitName}" itemValue="#{unitList.unitName}" />
											</p:selectOneMenu> -->
											
											<p:inputText  value="#{patientMedicineManageBean.patientMedicationData.dosageForm}" readonly="true"></p:inputText>	
								
	 	 	 	 						</td>
	 	 	 	 						
	 	 	 	 						
	 	 	 	 						<!-- <td>
	 	 	 	 							<h:outputText value="Package" /><h:outputText value="*" styleClass="mandatoryField"/>
	 	 	 	 					</td>
	 	 	 	 				<td>
	 	 	 	 					<p:selectOneMenu required="true" 
														value="#{patientMedicineManageBean.patientMedicationData.unitDetail}"
														style="width:122px;">
										<f:selectItems value="#{patientMedicineManageBean.dosageDetailsList}"
											var="dosageDetailList" itemLabel="#{dosageDetailList.dosageFrom}" itemValue="#{dosageDetailList.dosageFrom}" />
										
									
										</p:selectOneMenu>
	 	 	 	 					</td> -->
							</tr>
							
							<tr>
								<td>
	 	 	 	 					<h:outputText value="Route" /><h:outputText value="*" styleClass="mandatoryField"/>
	 	 	 	 				</td>
	 	 	 	 			<td>
	 	 	 	 					<!-- <p:selectOneMenu required="true" 
										value="#{patientMedicineManageBean.patientMedicationData.byRoute}"
										style="width:122px;">
									<f:selectItem itemLabel="#{patientMedicineManageBean.patientMedicationData.byRoute}" itemValue="#{patientMedicineManageBean.patientMedicationData.byRoute}" />
										<f:selectItems value="#{patientMedicineManageBean.routeDetailsList}"
											var="routeDetailList" itemLabel="#{routeDetailList.routeName}" itemValue="#{routeDetailList.routeName}" />
										
									</p:selectOneMenu> -->
									<p:inputText  value="#{patientMedicineManageBean.patientMedicationData.byRoute}" readonly="true"></p:inputText>
	 	 	 	 			</td>
	 	 	 	 	
	 	 	 	 	
	 	 	 	 				<td>
	 	 	 	 					<h:outputText value="Regimen" /><h:outputText value="*" styleClass="mandatoryField"/>
	 	 	 	 			</td>
	 	 	 	 		
	 	 	 	 		<td>
	 	 	 	 				<p:selectOneMenu required="true" requiredMessage="Please Select Regimen"
										value="#{patientMedicineManageBean.patientMedicationData.directions}"
										style="width:122px;">
										<f:selectItem
											itemLabel=""
											itemValue="" />
										<f:selectItems value="#{patientMedicineManageBean.regimenList}"
											var="regimen" itemLabel="#{regimen}" itemValue="#{regimen}" />
											
											<p:ajax listener="#{patientMedicineManageBean.calculateTotalDispence}" update="dispenceNumber"></p:ajax>	
									</p:selectOneMenu>
	 	 	 	 		</td>
	 	 	 	 	
								
					</tr>
							       
							    <tr>
							    	<td>
	 	 	  							<h:outputText value="Dispense" /><h:outputText value="*" styleClass="mandatoryField"/>
	 	 	  						</td>
	 	 	  						
									<td>
										<p:inputText id="dispenceNumber" style="width:50px;" required="true" converter="#{Integer}" maxlength="3"
													value="#{patientMedicineManageBean.patientMedicationData.quantity}" >
											<f:convertNumber  pattern="#0" integerOnly="true"  minFractionDigits="3" maxIntegerDigits="3" type="number"/>
										</p:inputText>
									</td>
						
									<td>
					 	 	  			<h:outputText value="Days Supply" />
					 	 	  		</td>
									<td>
											<!-- <p:inputText style="width:50px;" required="true" 
														value="#{patientMedicineManageBean.patientMedicationData.daySupply}" /> -->
														
										<p:selectOneMenu 
													value="#{patientMedicineManageBean.patientMedicationData.daySupply}"
													style="width:80px;">
														<f:selectItem itemValue="#{patientMedicineManageBean.patientMedicationData.daySupply}" 
													itemLabel="#{patientMedicineManageBean.patientMedicationData.daySupply}"></f:selectItem>
													<f:selectItems value="#{patientMedicineManageBean.daySupplyList}"
														var="daySupplyDetailList" itemLabel="#{daySupplyDetailList}" itemValue="#{daySupplyDetailList}" />
												<p:ajax listener="#{patientMedicineManageBean.calculateTotalDispence}" update="dispenceNumber"></p:ajax>		
										</p:selectOneMenu>
								</td>
							  </tr>    
							         
							  <tr>
							  	<td>
	 	 	  						<h:outputText value="Refill"/>
	 	 	  					</td>
	 	 	  					
								<td>
									
												<!-- 	<p:inputText required="true" requiredMessage="Please insert reffils" maxlength="2" 
										 value="#{patientMedicineManageBean.patientMedicationData.reffils}" style="width:50px;">
										 
										 <pe:keyFilter mask="num"></pe:keyFilter>
									</p:inputText> -->
							
									<p:selectOneMenu required="true" 
											value="#{patientMedicineManageBean.patientMedicationData.reffils}"
											style="width:60px;">
											
											<f:selectItems value="#{patientMedicineManageBean.refillDetailsList}"
												var="refillList" itemLabel="#{refillList}" itemValue="#{refillList}" />
											
										</p:selectOneMenu>
								</td>
						
							 </tr>     
      
        					</table>
        					<table>
        						<tr>
        								<td>
		 	 	 								<h:outputText value="Comments" />
								    
										</td>
							
										<td>
												
												<p:inputTextarea  value="#{patientMedicineManageBean.patientMedicationData.notes}"  cols="50" rows="5">
															<!-- <p:ajax update="notesEditor"></p:ajax> -->
												</p:inputTextarea>
										</td>
        						</tr>
        					</table>
       					 </p:outputPanel>
       				 </p:tab>
	 	 			 
	 	 			  <p:tab id="Step4" title="Step 4" titleStyleClass="popupStepFont">  
	 	 			  
	 	 			  <table >
	 	 			 	<tr>
	 	 				 			<td>
	 	 				 				<h:outputText value="Diagnoses: " style="font-weight: bold"/>&nbsp;
	 	 				 				<h:outputText value="#{patientMedicineManageBean.medActionPlan.diagnosis}" />&nbsp;
	 	 				 				<h:outputText value="#{msg.subdiagnoses}: " style="font-weight: bold"/>&nbsp;
	 	 				 				<h:outputText value="#{patientMedicineManageBean.subDiagnosisDetail}" />&nbsp;&nbsp;
	 	 				 				<h:outputText value="Dose: " style="font-weight: bold"/>&nbsp;
	 	 				 				 <h:outputText value="#{patientMedicineManageBean.medActionPlan.dose}" />
	 	 				 			</td>
	 	 				 		</tr>
	 	 			 </table>
	 	 			 		<p:outputPanel>
	 	 			 			<p:outputPanel rendered="#{patientMedicineManageBean.medActionPlan.diagnosis eq 'Bridge Therapy'}">
	 	 			 		
	 	 			 		<table>
							<tr>
								<td>
									<h:outputText  value="Monitoring for initial LMWH therapy, including bridging" styleClass="popupStepFont" />
								</td>
							</tr>
						
						<tr>
							<td>
									<h:outputText value="Baseline PT/aPTT"/>
								</td>
								
						</tr>
						
						<tr>
							<td>
									<h:outputText value="Baseline hematocrit and q3-5 days or prn if bleeding is suspected or confirmed"/>
								</td>
								
						</tr>
						
						<tr>
							<td>
									<h:outputText value="Baseline platelet count, and q3-5 days during first 2 weeks of LMWH therapy"/>
								</td>
								
						</tr>
						
						<tr>
							<td>
									<h:outputText value="Baseline serum creatinine, and q3-5days or prn if change in renal function is suspected, or if bleeding is suspected or confirmed"/>
								</td>
								
						</tr>
						
					
						
						</table>
					</p:outputPanel>
	 	 			 				
	 	 			 					  <table><tr><td>
					<h:outputText value="Monitoring for long term LMWH therapy"  style="font-family: verdana; font-weight: bold;"/>
					</td></tr></table> 
					
					
					
									<table border="1">
									
									<tr>
							<td>
									<h:outputText value="Patient weight" />
								</td>
								<td>
									<h:outputText  value="q1-3 months and adjust LMWH dose if needed" />
								</td>
						</tr>
									
						<tr>
							<td>
									<h:outputText value="Platelet count" />
								</td>
								<td>
									<h:outputText  value="q1-3 months" />
								</td>
						</tr>
						
						<tr>
							<td>
									<h:outputText value="Hematocrit"/>
								</td>
								<td>
									<h:outputText  value="q1-3 months" />
								</td>
						</tr>
						
						<tr>
							<td>
									<h:outputText value="Serum creatinine/CrCl"/>
								</td>
								<td>
									<h:outputText  value="q1-3 months (and PRN if change in renal function is suspected or if bleeding is suspected or confirmed) and adjust LMWH dose if needed" />
								</td>
						</tr>
						
						<tr>
							<td>
									<h:outputText value="Trough antiXa level"/>
								</td>
								<td>
									<h:outputText  value="Consider assessment if clinical circumstances suggest over-anticoagulation (e.g. bleeding complications, worsening renal function, anemia, thrombocytopenia, etc)" />
									<hr />
									<h:outputText  value="Goal: &lt; 0.5 unitsl/mL (adjust LMWH dose or dosing interval if needed)" />
								</td>
						</tr>
						
						<tr>
							<td>
									<h:outputText value="Peak antiXa level"/>
								</td>
								<td>
									<h:outputText  value="not correlated with efficacy" />
									<hr />
									<h:outputText  value="monitoring not recommended" />
									<hr />
									<h:outputText  value="for therapeutic failures (recurrent thrombosis despite adequate weight-based LMWH dosing), adjust LMWH dosing frequency (from q24h to q12h) or increase LMWH dosing (does not need to be guided by peak antiXa levels)" />
								</td>
						</tr>
					</table>
					
					<table>
							<tr>
								<td valign="top">
									<h:outputText  value="Lab :" styleClass="popupStepFont" />
								</td>
								<td>
									<p:dataTable value="#{patientMedicineManageBean.labDetailList}" var="labDetail" emptyMessage="#{msg.noMedFound}">
										
										<p:column>
											<f:facet name="header">
												<h:outputText value="Select" />
											</f:facet>
											<p:selectBooleanCheckbox value="#{labDetail.selected}" />  
										</p:column>
										
										<p:column>
											<f:facet name="header">
												<h:outputText value="Lab Name" />
											</f:facet>
											<h:outputText value="#{labDetail.labName}" />
										</p:column>
										
										<p:column>
											<f:facet name="header">
												<h:outputText value="Lab Frequency" />
											</f:facet>
											<p:selectOneMenu value="#{labDetail.labfrequencyDetail}">
															<!-- <f:selectItem
																itemLabel="#{patientMedicineManageBean.medActionPlan.labFrequency}"
																itemValue="#{patientMedicineManageBean.medActionPlan.labFrequency}" /> -->
															<f:selectItems
																value="#{patientMedicineManageBean.lMWHFrequencyList}"
																var="labFreq" itemLabel="#{labFreq}" itemValue="#{labFreq}" />
												</p:selectOneMenu>
										</p:column>
																	
									
									</p:dataTable>
						</td>
						</tr>
						</table>
						
						
						
						
						<table width="100%">
						 <tr align="right">
						
							<td align="right">
								<p:commandButton value="#{msg.done}"
						action="#{patientMedicineManageBean.addMedicine}"></p:commandButton>
							</td>
						</tr>
						</table>
				 
	 	 			 	
	 	 			 	</p:outputPanel>
	 	 			 </p:tab>
	 	 				 
	 	 			</p:wizard>	
				</td>	
	 	 <td valign="top" align="right" width="8%">
	 	  	<p:commandButton value="#{msg.cancel}" action="#{patientMedicineManageBean.submitCancelButtonforpersonalisedmedreview}" immediate="true"></p:commandButton>	
	 	 </td>
	 	</tr>
	 </table>
		</h:form>	
	 	 				
					 	  			 
	
	</p:dialog>
	
	<!-- ######################## pop up end for Dalteparin medicine................................. -->
	
<!-- ######################## pop up start for Enoxaparin medicine................................. -->

		<p:dialog id="Enoxaparinid" widgetVar="Enoxaparin"
								resizable="false"  appendTo="@(body)" modal="true"
				 				height="510" width="58%" dynamic="true" closable="false" position="300,113">
		<f:facet name="header">
      					<h:outputText id="EnoxaparinHeader" value="#{patientMedicineManageBean.patientMedicationData.drugs}" />
   			</f:facet>
		
		<h:form>	
		<p:messages  id="EnoxaparinMsgId" showDetail="false" style="color:#FF0000;margin:8px;"  closable="true" showSummary="true"/> 
			<table  width="100%" border="0">
				<tr>
					<td width="92%" valign="top">
					<p:wizard titleStyleClass="popupStepFont" flowListener="#{patientMedicineManageBean.onFlowProcessOfEnoxaparin}">  
					 	 <p:tab id="step1" title="Step 1" titleStyleClass="popupStepFont">  
					 	 	<p:outputPanel>
				 	   			<h:panelGrid columns="3">
									<h:outputText value="Diagnoses" /><h:outputText value="*" styleClass="mandatoryField"/>	
									<p:selectOneMenu required="true" requiredMessage="Please select diagnosis"
							         			 value="#{patientMedicineManageBean.medActionPlan.diagnosis}">
											<f:selectItem itemLabel="Select One" itemValue="" />
											<!-- <f:selectItems value="#{patientMedicineManageBean.clinicDiagnosisList}" var="clinick" itemLabel="{clinick}" itemValue="{clinick}"/> -->
											<f:selectItems id="diagnosisListId"
													value="#{patientMedicineManageBean.clinicDiagnosisList}"
													var="clinick" itemLabel="#{clinick.diagnosisName}"
													itemValue="#{clinick.diagnosisName}" />
								
											<!-- <p:ajax
												listener="#{patientMedicineManageBean.changediagnosisForRivaroxaban}"
												></p:ajax> -->
											</p:selectOneMenu>
				
				 				</h:panelGrid>
				 			</p:outputPanel>
	 	 				 </p:tab>
	 	 				 <p:tab id="step2" title="Step 2" titleStyleClass="popupStepFont"> 
	 	 				 
	 	 				 <table > 
	 	 					<tr>
	 	 				 			<td >
	 	 				 				<h:outputText value="Diagnosis: " style="font-weight: bold"/>&nbsp;
	 	 				 				<h:outputText value="#{patientMedicineManageBean.medActionPlan.diagnosis}" />
	 	 				 				
	 	 				 			</td>
	 	 				 		</tr>
	 	 	 				</table> 
	 	 				 	<table>
	 	 				 		<tr>
	 	 				 			<td>
			 	 				 		<p:outputPanel
												rendered="#{patientMedicineManageBean.medActionPlan.diagnosis eq 'VTE Prophylaxis'}">
											<p:selectOneRadio  value="#{patientMedicineManageBean.subDiagnosisDetail}"
													            layout="pageDirection">  
												<f:selectItem itemLabel="Orthopedic surgery (hip/knee replacement, hip fracture)" itemValue="Orthopedic surgery (hip/knee replacement, hip fracture)" />  
												<f:selectItem itemLabel="Trauma" itemValue="Trauma" />  
												<f:selectItem itemLabel="Acute spinal cord injury" itemValue="Acute spinal cord injury" />  
												<f:selectItem itemLabel="Acute medical illness" itemValue="Acute medical illness" />  
												<f:selectItem itemLabel="General surgery" itemValue="General surgery" />  
												<f:selectItem itemLabel="Bariatric surgery" itemValue="Bariatric surgery" />
												<f:selectItem itemLabel="Morbid obesity (BMI &gt; 40)" itemValue="Morbid obesity (BMI &gt; 40)" />
												<f:selectItem itemLabel="Severe renal impairment (CrCl &lt; 30)" itemValue="Severe renal impairment (CrCl &lt; 30)" />
											</p:selectOneRadio>  
										</p:outputPanel>
										
										<p:outputPanel
												rendered="#{patientMedicineManageBean.medActionPlan.diagnosis eq 'VTE Treatment'}">
											<p:selectOneRadio  value="#{patientMedicineManageBean.subDiagnosisDetail}" 
													            layout="pageDirection">  
												<f:selectItem itemLabel="Venous thrombosis (LMWH for a minimum of 5 days)" itemValue="Venous thrombosis (LMWH for a minimum of 5 days)" />  
												<f:selectItem itemLabel="Cancer associated venous thrombosis (LMWH for a minimum of 3-6 months)" itemValue="Cancer associated venous thrombosis (LMWH for a minimum of 3-6 months)" />  
												<f:selectItem itemLabel="Pregnancy" itemValue="Pregnancy" />  
												<f:selectItem itemLabel="Low body weight (wt &le; 45 kg)" itemValue="Low body weight (wt &le; 45 kg)" />  
												<f:selectItem itemLabel="Obesity (wt &ge; 99 kg)" itemValue="Obesity (wt &ge; 99 kg)"   />  
												<f:selectItem itemLabel="Moderate renal impairment (CrCl 30-60)" itemValue="Moderate renal impairment (CrCl 30-60)" />
												<f:selectItem itemLabel="Severe renal impairment (CrCl &lt; 30)" itemValue="Severe renal impairment (CrCl &lt; 30)" />
											</p:selectOneRadio>  
										</p:outputPanel>
										
										<p:outputPanel
												rendered="#{patientMedicineManageBean.medActionPlan.diagnosis eq 'Acute Coronary Syndrome'}">
											<p:selectOneRadio  value="#{patientMedicineManageBean.subDiagnosisDetail}"
													            layout="pageDirection">  
												<f:selectItem itemLabel="Unstable angina/NQWMI" itemValue="Unstable angina/NQWMI" />  
												<f:selectItem itemLabel="Renal impairment (CrCl &lt; 60)" itemValue="Renal impairment (CrCl &lt; 60)" />  
											</p:selectOneRadio>  
										</p:outputPanel>
										
										<p:outputPanel
												rendered="#{patientMedicineManageBean.medActionPlan.diagnosis eq 'Bridge Therapy'}">
												<p:selectOneRadio  value="#{patientMedicineManageBean.subDiagnosisDetail}"
													            layout="pageDirection">  
												<f:selectItem itemLabel="Atrial fibrillation" itemValue="Atrial fibrillation" />  
												<f:selectItem itemLabel="Heart valve replacement" itemValue="Heart valve replacement" />  
												<f:selectItem itemLabel="History of VTE" itemValue="History of VTE" />  
												<f:selectItem itemLabel="Pregnancy" itemValue="Pregnancy" />  
												<f:selectItem itemLabel="Low body weight (wt &le; 45 kg)" itemValue="Low body weight (wt &le; 45 kg)" />  
												<f:selectItem itemLabel="Obesity (wt &ge; 99 kg)" itemValue="Obesity (wt &ge; 99 kg)" />
												<f:selectItem itemLabel="Moderate renal impairment (CrCl 30-60)" itemValue="Moderate renal impairment (CrCl 30-60)" />
												<f:selectItem itemLabel="Severe renal impairment (CrCl &lt; 30)" itemValue="Severe renal impairment (CrCl &lt; 30)" />
											</p:selectOneRadio>  
										</p:outputPanel>
								  </td>
								  <td>
								  	<table>
								  		<tr>
								  			<!-- <td>
								  				<h:outputText value="Body Weight(kg)" />
								  			</td> -->
								  			<td>
							 	 	 				<h:outputText value="Body Weight" />
							 	 	 				<h:outputText value="*" styleClass="mandatoryField"/>
													    
												</td>
												
												<td>
													<p:inputText id="simpleWeight" style="width:50px;" value="#{patientMedicineManageBean.calculateCreatimineClearance.simpleWeight}" >
													<p:ajax update="simpleWeight ,patWeight" listener="#{patientMedicineManageBean.changeWeightUnit}"></p:ajax>
														</p:inputText>
												</td>
												<td>	
													<p:selectOneMenu style="width:50px;"
																value="#{patientMedicineManageBean.calculateCreatimineClearance.findWeightUnit}">
																
														 	<f:selectItem itemLabel="Lbs" itemValue="Lbs" />
															 <f:selectItem itemLabel="Kg"  itemValue="Kg"/>
															
															
													<p:ajax update="patWeight" listener="#{patientMedicineManageBean.changeWeightUnit}">
													</p:ajax>
												</p:selectOneMenu>
												<h:inputHidden  id="patWeight" value="#{patientMedicineManageBean.calculateCreatimineClearance.weight}" /> 
												</td>
								  		</tr>
								  	</table>
								  </td>
	 	 				 		</tr>
	 	 				 	</table>
	 	 				 	
	 	 				 </p:tab> 
	 	 				 
	 	 				 <p:tab id="Step3" title="Step 3" titleStyleClass="popupStepFont">  
        					 <p:outputPanel>
        					  <table > 
	 	 						<tr>
	 	 				 			<td colspan="2">
	 	 				 				<h:outputText value="Diagnosis: " style="font-weight: bold"/>&nbsp;
	 	 				 				<h:outputText value="#{patientMedicineManageBean.medActionPlan.diagnosis}" />&nbsp;&nbsp;
	 	 				 				<h:outputText value="Sub Diagnoses: " style="font-weight: bold"/>
	 	 				 				<h:outputText value="#{patientMedicineManageBean.subDiagnosisDetail}" />
	 	 				 			</td>
	 	 				 		</tr>
	 	 				 		</table>
	 	 				 		
	 	 				 		<table>
	 	 				 		<tr>
        								 <td>
									           <h:outputText value="Recommendation:" style="font-weight: bold"/>
									       </td>
									       <td>
									        <h:outputText value="#{patientMedicineManageBean.patientMedicationData.recommendedDose}"  readonly="true"/>
									       </td>
									       
									       </tr>
									       
	 	 	 				</table>
	 	 	 				
	 	 	 				<p:outputPanel rendered="#{!(patientMedicineManageBean.patientMedicationData.calculatedDose eq 0)}">
	 	 	 					<table>
	 	 	 						<tr>
	 	 	 							<td>
	 	 	 								<h:outputText value="Calculated dose (mg) :" style="font-weight: bold"/>
	 	 	 							</td>
	 	 	 							
	 	 	 							<td>
	 	 	 								<h:outputText value="#{patientMedicineManageBean.patientMedicationData.calculatedDose}"></h:outputText>
	 	 	 							</td>
	 	 	 						</tr>
	 	 	 					</table>
	 	 	 				
	 	 	 				</p:outputPanel>
	 	 	 				
	 	 	 				
         						<table>
        							 
									     <tr>
									       <td>
									           <h:outputText value="Strength" />
									           <h:outputText value="*" styleClass="mandatoryField"/>
									       </td>
									       
									       <td><p:selectOneMenu required="true" requiredMessage="Please Select Strength"
										value="#{patientMedicineManageBean.patientMedicationData.strengths}"
										style="width:122px;">
										<!-- <f:selectItem
											itemLabel="#{patientMedicineManageBean.patientMedicationData.directions}"
											itemValue="#{patientMedicineManageBean.patientMedicationData.directions}" /> -->
										<f:selectItems value="#{patientMedicineManageBean.doseDetailList}"
											var="doseList" itemLabel="#{doseList.dose}" itemValue="#{doseList.dose}" />
									</p:selectOneMenu>
							
								<!-- <p:inputText value="#{patientMedicineManageBean.medActionPlan.dose}" /> -->
									</td>
									
								<td>
	 	 	 	 						<h:outputText value="unit" /><h:outputText value="*" styleClass="mandatoryField"/>
	 	 	 	 				</td>
	 	 	 	 					<td>
				 	 	 	 			<p:selectOneMenu 
													value="#{patientMedicineManageBean.patientMedicationData.unit}" 
													style="width:122px;">
													
													<f:selectItems value="#{patientMedicineManageBean.unitSummaryList}"
														var="unitList" itemLabel="#{unitList.unit}" itemValue="#{unitList.unit}" />
														
													<p:ajax listener="#{patientMedicineManageBean.calculateTotalDispence}" update="dispenceNumber"></p:ajax>		
												</p:selectOneMenu>
	 	 	 	 					</td>
									  </tr>
									
									<tr>
										<td>
	 	 	 	 							<h:outputText value="Dosage form" /><h:outputText value="*" styleClass="mandatoryField"/>
	 	 	 	 						</td>
	 	 	 	 						
	 	 	 	 						<td>
	 	 	 	 						
	 	 	 	 							<!-- <p:selectOneMenu required="true" 
										value="#{patientMedicineManageBean.patientMedicationData.dosageForm}"
										style="width:122px;">
										<f:selectItem itemLabel="#{patientMedicineManageBean.patientMedicationData.dosageForm}" itemValue="#{patientMedicineManageBean.patientMedicationData.dosageForm}" />
	 	 	 	 						
	 	 	 	 							
													
														<f:selectItems value="#{patientMedicineManageBean.unitDetailsList}"
															var="unitList" itemLabel="#{unitList.unitName}" itemValue="#{unitList.unitName}" />
											</p:selectOneMenu> -->
											
											<p:inputText  value="#{patientMedicineManageBean.patientMedicationData.dosageForm}" readonly="true"></p:inputText>	
								
	 	 	 	 						</td>
	 	 	 	 						
	 	 	 	 						
	 	 	 	 						<!-- <td>
	 	 	 	 							<h:outputText value="Package" /><h:outputText value="*" styleClass="mandatoryField"/>
	 	 	 	 					</td>
	 	 	 	 				<td>
	 	 	 	 							<p:selectOneMenu required="true" 
														value="#{patientMedicineManageBean.patientMedicationData.unitDetail}"
														style="width:122px;">
														
										<f:selectItems value="#{patientMedicineManageBean.dosageDetailsList}"
											var="dosageDetailList" itemLabel="#{dosageDetailList.dosageFrom}" itemValue="#{dosageDetailList.dosageFrom}" />
										
									
										</p:selectOneMenu>
	 	 	 	 					</td> -->
							</tr>
							
							<tr>
								<td>
	 	 	 	 					<h:outputText value="Route" /><h:outputText value="*" styleClass="mandatoryField"/>
	 	 	 	 				</td>
	 	 	 	 			<td>
	 	 	 	 					<!-- <p:selectOneMenu required="true" 
										value="#{patientMedicineManageBean.patientMedicationData.byRoute}"
										style="width:122px;">
									<f:selectItem itemLabel="#{patientMedicineManageBean.patientMedicationData.byRoute}" itemValue="#{patientMedicineManageBean.patientMedicationData.byRoute}" />
										<f:selectItems value="#{patientMedicineManageBean.routeDetailsList}"
											var="routeDetailList" itemLabel="#{routeDetailList.routeName}" itemValue="#{routeDetailList.routeName}" />
										
									</p:selectOneMenu> -->
									<p:inputText  value="#{patientMedicineManageBean.patientMedicationData.byRoute}" readonly="true"></p:inputText>
	 	 	 	 			</td>
	 	 	 	 	
	 	 	 	 	
	 	 	 	 				<td>
	 	 	 	 					<h:outputText value="Regimen" /><h:outputText value="*" styleClass="mandatoryField"/>
	 	 	 	 			</td>
	 	 	 	 		
	 	 	 	 		<td>
	 	 	 	 				<p:selectOneMenu required="true" requiredMessage="Please Select Regimen"
										value="#{patientMedicineManageBean.patientMedicationData.directions}"
										style="width:122px;">
										<f:selectItem
											itemLabel=""
											itemValue="" />
										<f:selectItems value="#{patientMedicineManageBean.regimenList}"
											var="regimen" itemLabel="#{regimen}" itemValue="#{regimen}" />
											
											<p:ajax listener="#{patientMedicineManageBean.calculateTotalDispence}" update="dispenceNumber"></p:ajax>	
									</p:selectOneMenu>
	 	 	 	 		</td>
	 	 	 	 	
								
					</tr>
							       
							    <tr>
							    	<td>
	 	 	  							<h:outputText value="Dispense" /><h:outputText value="*" styleClass="mandatoryField"/>
	 	 	  						</td>
	 	 	  						
									<td>
										<p:inputText id="dispenceNumber" style="width:50px;" required="true" converter="#{Integer}" maxlength="3"
													value="#{patientMedicineManageBean.patientMedicationData.quantity}" >
											<f:convertNumber  pattern="#0" integerOnly="true"  minFractionDigits="3" maxIntegerDigits="3" type="number"/>
										</p:inputText>
									</td>
						
									<td>
					 	 	  			<h:outputText value="Days Supply" />
					 	 	  		</td>
									<td>
											<!-- <p:inputText style="width:50px;" required="true" 
														value="#{patientMedicineManageBean.patientMedicationData.daySupply}" /> -->
														
										<p:selectOneMenu 
													value="#{patientMedicineManageBean.patientMedicationData.daySupply}"
													style="width:80px;">
														<f:selectItem itemValue="#{patientMedicineManageBean.patientMedicationData.daySupply}" 
													itemLabel="#{patientMedicineManageBean.patientMedicationData.daySupply}"></f:selectItem>
													<f:selectItems value="#{patientMedicineManageBean.daySupplyList}"
														var="daySupplyDetailList" itemLabel="#{daySupplyDetailList}" itemValue="#{daySupplyDetailList}" />
											<p:ajax listener="#{patientMedicineManageBean.calculateTotalDispence}" update="dispenceNumber"></p:ajax>			
										</p:selectOneMenu>
								</td>
							  </tr>    
							         
							  <tr>
							  	<td>
	 	 	  						<h:outputText value="Refill"/>
	 	 	  					</td>
	 	 	  					
								<td>
									
												<!-- 	<p:inputText required="true" requiredMessage="Please insert reffils" maxlength="2" 
										 value="#{patientMedicineManageBean.patientMedicationData.reffils}" style="width:50px;">
										 
										 <pe:keyFilter mask="num"></pe:keyFilter>
									</p:inputText> -->
							
									<p:selectOneMenu required="true" 
											value="#{patientMedicineManageBean.patientMedicationData.reffils}"
											style="width:60px;">
											
											<f:selectItems value="#{patientMedicineManageBean.refillDetailsList}"
												var="refillList" itemLabel="#{refillList}" itemValue="#{refillList}" />
											
										</p:selectOneMenu>
								</td>
						
							 </tr>     
      
        					</table>
        					<table>
        						<tr>
        								<td>
		 	 	 								<h:outputText value="Comments" />
								    
										</td>
							
										<td>
												
												<p:inputTextarea  value="#{patientMedicineManageBean.patientMedicationData.notes}"  cols="50" rows="5">
															<!-- <p:ajax update="notesEditor"></p:ajax> -->
												</p:inputTextarea>
										</td>
        						</tr>
        					</table>
       					 </p:outputPanel>
       				 </p:tab>
	 	 			 
	 	 			  <p:tab id="Step4" title="Step 4" titleStyleClass="popupStepFont">  
	 	 			 
	 	 			 
	 	 			 	<p:outputPanel>
	 	 			 	
	 	 			 	 <table > 
	 	 						<tr>
	 	 				 			<td >
	 	 				 				<h:outputText value="Diagnosis: " style="font-weight: bold"/>&nbsp;
	 	 				 				<h:outputText value="#{patientMedicineManageBean.medActionPlan.diagnosis}" />&nbsp;&nbsp;
	 	 				 				<h:outputText value="Sub Diagnoses: " style="font-weight: bold"/>&nbsp;
	 	 				 				<h:outputText value="#{patientMedicineManageBean.subDiagnosisDetail}" />&nbsp;&nbsp;
	 	 				 				<h:outputText value="Dose Prescribed: " style="font-weight: bold"/>&nbsp;
	 	 				 				<h:outputText value="#{patientMedicineManageBean.medActionPlan.dose}" />
	 	 				 			</td>
	 	 				 		</tr>
	 	 	 				</table>
	 	 			 	<p:outputPanel rendered="#{patientMedicineManageBean.medActionPlan.diagnosis eq 'Bridge Therapy'}">
	 	 			 		
	 	 			 		<table>
							<tr>
								<td>
									<h:outputText  value="Monitoring for initial LMWH therapy, including bridging" styleClass="popupStepFont" />
								</td>
							</tr>
						
						<tr>
							<td>
									<h:outputText value="Baseline PT/aPTT"/>
								</td>
								
						</tr>
						
						<tr>
							<td>
									<h:outputText value="Baseline hematocrit and q3-5 days or prn if bleeding is suspected or confirmed"/>
								</td>
								
						</tr>
						
						<tr>
							<td>
									<h:outputText value="Baseline platelet count, and q3-5 days during first 2 weeks of LMWH therapy"/>
								</td>
								
						</tr>
						
						<tr>
							<td>
									<h:outputText value="Baseline serum creatinine, and q3-5days or prn if change in renal function is suspected, or if bleeding is suspected or confirmed"/>
								</td>
								
						</tr>
						
					
						
						</table>
					</p:outputPanel>
	 	 			 				
	 	 			 					  <table><tr><td>
					<h:outputText value="Monitoring for long term LMWH therapy"  style="font-family: verdana; font-weight: bold;"/>
					</td></tr></table> 
					
					
					
									<table border="1">
									
									<tr>
							<td>
									<h:outputText value="Patient weight" />
								</td>
								<td>
									<h:outputText  value="q1-3 months and adjust LMWH dose if needed" />
								</td>
						</tr>
									
						<tr>
							<td>
									<h:outputText value="Platelet count" />
								</td>
								<td>
									<h:outputText  value="q1-3 months" />
								</td>
						</tr>
						
						<tr>
							<td>
									<h:outputText value="Hematocrit"/>
								</td>
								<td>
									<h:outputText  value="q1-3 months" />
								</td>
						</tr>
						
						<tr>
							<td>
									<h:outputText value="Serum creatinine/CrCl"/>
								</td>
								<td>
									<h:outputText  value="q1-3 months (and PRN if change in renal function is suspected or if bleeding is suspected or confirmed) and adjust LMWH dose if needed" />
								</td>
						</tr>
						
						<tr>
							<td>
									<h:outputText value="Trough antiXa level"/>
								</td>
								<td>
									<h:outputText  value="Consider assessment if clinical circumstances suggest over-anticoagulation (e.g. bleeding complications, worsening renal function, anemia, thrombocytopenia, etc)" />
									<hr />
									<h:outputText  value="Goal: &lt; 0.5 unitsl/mL (adjust LMWH dose or dosing interval if needed)" />
								</td>
						</tr>
						
						<tr>
							<td>
									<h:outputText value="Peak antiXa level"/>
								</td>
								<td>
									<h:outputText  value="not correlated with efficacy" />
									<hr />
									<h:outputText  value="monitoring not recommended" />
									<hr />
									<h:outputText  value="for therapeutic failures (recurrent thrombosis despite adequate weight-based LMWH dosing), adjust LMWH dosing frequency (from q24h to q12h) or increase LMWH dosing (does not need to be guided by peak antiXa levels)" />
								</td>
						</tr>
					</table>
					
					<table>
							<tr>
								<td valign="top">
									<h:outputText  value="Lab :" styleClass="popupStepFont" />
								</td>
								<td>
									<p:dataTable value="#{patientMedicineManageBean.labDetailList}" var="labDetail" emptyMessage="#{msg.noMedFound}">
										
										<p:column>
											<f:facet name="header">
												<h:outputText value="Select" />
											</f:facet>
											<p:selectBooleanCheckbox value="#{labDetail.selected}" />  
										</p:column>
										
										<p:column>
											<f:facet name="header">
												<h:outputText value="Lab Name" />
											</f:facet>
											<h:outputText value="#{labDetail.labName}" />
										</p:column>
										
										<p:column>
											<f:facet name="header">
												<h:outputText value="Lab Frequency" />
											</f:facet>
											<p:selectOneMenu value="#{labDetail.labfrequencyDetail}">
															<!-- <f:selectItem
																itemLabel="#{patientMedicineManageBean.medActionPlan.labFrequency}"
																itemValue="#{patientMedicineManageBean.medActionPlan.labFrequency}" /> -->
															<f:selectItems
																value="#{patientMedicineManageBean.lMWHFrequencyList}"
																var="labFreq" itemLabel="#{labFreq}" itemValue="#{labFreq}" />
												</p:selectOneMenu>
										</p:column>
																	
									
									</p:dataTable>
						</td>
						</tr>
						</table>
						<table width="100%">
						 <tr align="right">
						
							<td align="right">
								<p:commandButton value="#{msg.done}"
						action="#{patientMedicineManageBean.addMedicine}"></p:commandButton>
							</td>
						</tr>
						</table>
				 
	 	 			 	
	 	 			 	</p:outputPanel>
	 	 			 </p:tab>
	 	 				 
	 	 			</p:wizard>	
				</td>	
	 	 <td valign="top" align="right" width="8%">
	 	  	<p:commandButton value="#{msg.cancel}" action="#{patientMedicineManageBean.submitCancelButtonforpersonalisedmedreview}" immediate="true"></p:commandButton>	
	 	 </td>
	 	</tr>
	 </table>
		</h:form>	
	 	 				
					 	  			 
	
	</p:dialog>
	
				<!-- ########################### pop up start for search medicine..................................... -->
		
		<p:dialog id="searchMedpopupid" widgetVar="searchMedicinePopUp"  appendTo="@(body)"
					resizable="true" header="#{msg.medicineList}"  modal="true"  height="320" width="460" 
	 				 dynamic="true" closable="true" >
	 		<h:form id="searchMedicinePopUpFormId">
	 		<p:messages  showDetail="false" style="color:#FF0000;margin:8px;"  closable="true"/>
	 			<table>
	 				<tr>
	 					<td>
	 						<p:inputText value="#{patientMedicineManageBean.patientMedicationData.drugs}"  id="medNameForSearch" 
	 						required="true"  requiredMessage="Please Enter Medicine Name">
	 						
	 						
	 							<p:ajax update="medNameForSearch"></p:ajax>
	 						</p:inputText>
	 						<p:watermark value="#{msg.medicineName}" for="medNameForSearch"></p:watermark>
	 					</td>
	 					<td>
	 						 <p:commandButton value="Search" actionListener="#{patientMedicineManageBean.searchMedicine1}" update="searchMedicinePopUpFormId"></p:commandButton>
	 					</td>
	 				</tr>
	 			</table>
	 			
	 			<p:dataTable value="#{patientMedicineManageBean.webservicesDrugList}" var="searchMeds" 
	 			binding="#{patientMedicineManageBean.searchMedicineDataTable}" scrollable="true" scrollHeight="220" emptyMessage="#{msg.noMedFound}">
	 			
	 			<p:column>
					<f:facet name="header">
						<h:outputText value="Drug Name" style="font-size:9px;"/>
					</f:facet>
					
					 <p:commandLink  actionListener="#{patientMedicineManageBean.selectedSearchMeds}" update=":addNewMedicinePopupID,:medicationActionPlanPopId,:generalMedicineHeader"  style="text-decoration:underline;"  >
							<h:outputText value="#{searchMeds.drugName}" >
							
							</h:outputText>
					</p:commandLink> 
				</p:column>
				
				<p:column>
					<f:facet name="header">
						<h:outputText value="Generic Name" style="font-size:9px;"/>
					</f:facet>
					
							<h:outputText value="#{searchMeds.genericName}" >
							
							</h:outputText>
					
				</p:column>
	 			
	 			 <p:column >
					<f:facet name="header">
						<h:outputText value="Dosage Form" style="font-size:9px; "/>
					</f:facet>
					<h:outputText value="#{searchMeds.dosageForm}" />
				</p:column> 
	 			</p:dataTable>
	 		
	 		</h:form>
		
		
		</p:dialog>
		
	
		
<!-- ########################### pop up end for search medicine..................................... -->
	
	
<!-- ######################## pop up end for Enoxaparin medicine................................. -->
	


		
		 	
		 	<!-- ************pop up start  Bivalirudin *********************************************************** -->

	<!-- <p:dialog id="Bivalirudinid" widgetVar="Bivalirudin"
								resizable="false" header="#{patientMedicineManageBean.patientMedicationData.drugs}" appendToBody="true" modal="true"
				 				height="300" width="35%" dynamic="true" closable="true" position="450,323">
				 			
				 			<table>
				 				<tr>
				 						<td>
				 							<h:outputText value="(DTI Goal: 60-90 seconds)" style="font-family: verdana; font-weight: bold;" />
				 						</td>
				 					</tr>
				 			</table>
				 			
				 			<table border="1" >
				 			
								<tr bgcolor="#EBB981" style="font-family: verdana; font-weight: bold;">
								<td width="100px"><h:outputText value="DTI Assay" /></td>
								<td><h:outputText value="DOSE ADJUSTMENT" /></td>
								
								</tr>
								
								<tr>
									<td>
											<h:outputText value="60" />
										</td><td>
											<h:outputText value="Increase infusion rate by 20%" /></td>
											
								</tr>
								
								<tr>
									
									<td>
											<h:outputText  value="60-90" />
											</td><td>
											<h:outputText value="At goal: No change" /></td>
											
								</tr>
								
								<tr>
									
									<td>
											<h:outputText  value="90" />
											</td><td>
											<h:outputText value="Hold infusion for 1 hour, then restart at 50% &lt; the previous rate" /></td>
											
								</tr>
								
								
						</table>
	
	</p:dialog> 	
	 -->
	
	
<!-- ************pop up End  Bivalirudin *********************************************************** -->
		 	
	
	
	
		 	
		 	<!-- ************pop up start  Heparin *********************************************************** -->

	<!-- <p:dialog id="Heparinid" widgetVar="Heparin"
								resizable="false" header="#{patientMedicineManageBean.patientMedicationData.drugs}" appendToBody="true" modal="true"
				 				height="300" width="58%" dynamic="true" closable="true" position="400,323">
				 			
				 			
				 			<table border="1" >
				 			
								<tr bgcolor="#EBB981" style="font-family: verdana; font-weight: bold;">
								<td width="100px"><h:outputText value="INDICATION" /></td>
								<td><h:outputText value="LOADING BOLUS" />
								<hr />
								<h:outputText value="(maximum 10,000 units)" />
								</td>
								<td><h:outputText value="INITIAL INFUSION RATE" /></td>
								<td><h:outputText value="PRN RE-BOLUS FOR LOW PTT" />
								<hr />
								<h:outputText value="(maximum 5000 units)" />
								</td>
								
								</tr>
								
								<tr>
									<td>
											<h:outputText value="Acute Thrombosis Treatment (eg: DVT/PE)" />
										</td><td>
											<h:outputText value="80 units/kg" /></td>
											<td>
											<h:outputText value="18 units/kg/hr" /></td>
											<td rowspan="4">
											<h:outputText value="PTT 50-59:25 units/kg" />
											<hr />
											<h:outputText value="PTT 50:50 units/kg" />
											</td>
								</tr>
								
								<tr>
									
									<td>
											<h:outputText  value="Atrial Fibrillation, Valve Replacement, Peri-operative Bridging, Other" />
											</td><td>
											<h:outputText value="70 units/kg" /></td>
											<td>
											<h:outputText value="15 units/kg/hr" /></td>
											
								</tr>
								
								<tr>
									
									<td>
											<h:outputText  value="Acute Coronary Syndrome" />
											</td><td>
											<h:outputText value="50 units/kg" /></td>
											<td>
											<h:outputText value="12 units/kg/hr" /></td>
											
								</tr>
								
								<tr>
									
									<td>
											<h:outputText  value="Acute Ischemic Stroke" />
											</td><td>
											<h:outputText value="none" /></td>
											<td>
											<h:outputText value="12 units/kg/hr" /></td>
											
								</tr>
								
								
						</table>
							
	</p:dialog> 	
	 -->
	
	
<!-- ************pop up End  Heparin *********************************************************** -->
<!-- ******************************** pop up start for general medcine in PMR Page............................ -->

	<p:dialog id="generalMedicinePopUpId" widgetVar="generalMedicinePopUp" 
					resizable="true"   appendTo="@(body)" modal="true"
	 				 dynamic="true" closable="false" >
	 	 <f:facet name="header">
      		
      		<table >
	 			
	 			 <tr>
	 				<td><h:outputText id="generalMedicineHeader" value="#{patientMedicineManageBean.patientMedicationData.drugs}"/> </td>
	 				
	 			</tr> 
	 			
	 		</table> 
   		</f:facet> 
   		
			<h:form id="newmedactionPlan">
			
			  <p:messages  id="messageUpdateForGeneralMeds" showDetail="false" style="color:#FF0000;"  closable="true" showSummary="true"/> 
				
				
			 <p:outputPanel deferred="true" deferredMode="visible" rendered="#{patientMedicineManageBean.drugInteractions.size() ge 1 }" >
					
						<table>
							<tr>
							
							
								<td><h:outputText value="Drug-drug interaction :" style="font-weight:bold;color:red;" /></td>
							
								<td>
									
											<p:commandLink id="grow"   style="text-decoration:underline;" >
											
											<h:outputText  value="#{patientMedicineManageBean.drugInteractions.size()}" escape="false" style="color:red;"/>		
								             &nbsp;<h:outputText  value="Interactions detected"  style="color:red;"/> 
								             
								            </p:commandLink>
								            
								              <p:tooltip for="grow"  showEffect="clip" style="width:40%; position:relative; margin-left:10%;" >
								             
								             					<p:dataTable  value="#{patientMedicineManageBean.drugInteractions}" var="drugInteractionsDetail" emptyMessage="#{msg.noMedFound}">
										
																	<p:column styleClass="wrap">
																		<f:facet name="header">
																			<h:outputText value="Drug Name" />
																		</f:facet>
																		<h:outputText value="#{drugInteractionsDetail.drug1}"  />  
																	</p:column>
																	
																	<!-- <p:column styleClass="wrap" >
																		<f:facet name="header">
																			<h:outputText value="Drug2" />
																		</f:facet>
																		<h:outputText value="#{drugInteractionsDetail.drug2}"  />  
																	</p:column> -->
																	
																	<p:column styleClass="wrap" >
																		<f:facet name="header">
																			<h:outputText value="Clinical Effects " />
																		</f:facet>
																		<h:outputText value="#{drugInteractionsDetail.clinicalEffects}"  />  
																	</p:column>
																	
																	<p:column styleClass="wrap">
																		<f:facet name="header">
																			<h:outputText value="Severity Level" />
																		</f:facet>
																		<h:outputText value="#{drugInteractionsDetail.severityLevel}"  />  
																	</p:column>
																	
																</p:dataTable>
								             		
								             	
								             </p:tooltip>
								        
								      
								</td>
							</tr>
					</table>
			</p:outputPanel>
			
			<p:outputPanel deferred="true" deferredMode="visible" rendered="#{patientMedicineManageBean.drugAllergyInteractions.size() ge 1}">
							
						<table>
							<tr>
							
							<td><h:outputText value="drug-allergy interaction :"  style="font-weight:bold;color:red;"/></td>
								<td>
								
									
										<p:commandLink id="grow1"   style="text-decoration:underline;" >
											<h:outputText value="#{patientMedicineManageBean.drugAllergyInteractions.size()}"  escape="false" style="color:red;"/>		
								           &nbsp;  <h:outputText value="Interactions detected"   style="color:red;"/>
								             
								             </p:commandLink> 
								             
								             
								              <p:tooltip for="grow1"  showEffect="clip" style="width:40%; position:relative; margin-left:10%;" >
								             		
								             	
								             
								             					<p:dataTable value="#{patientMedicineManageBean.drugAllergyInteractions}" var="drugAllergyInteractionsDetail" emptyMessage="#{msg.noMedFound}">
										
																	<p:column styleClass="wrap">
																		<f:facet name="header">
																			<h:outputText value="Allergy Interaction Text" />
																		</f:facet>
																		<h:outputText value="#{drugAllergyInteractionsDetail.interactionText}"  />  
																	</p:column>
																	
																	
																</p:dataTable>
								             			
								             	 </p:tooltip>
								            
								       
								    
								      
								</td>
							</tr>
					</table>	
			</p:outputPanel>
			
			<p:outputPanel deferred="true" deferredMode="visible" rendered="#{patientMedicineManageBean.drugDiseaseDetailsInteractions.size() ge 1}">
					<table>	
							<tr>
							
							<td><h:outputText value="Drug Disease:"  style="font-weight:bold;color:red;"/></td>
								<td>
									
										<p:commandLink id="grow2"   style="text-decoration:underline;" >
											<h:outputText value="#{patientMedicineManageBean.drugDiseaseDetailsInteractions.size()}" escape="false" style="color:red;"/>		
								            &nbsp; <h:outputText value="Interactions detected"  style="color:red;"/>
								              
								          </p:commandLink>  
								          
								          <p:tooltip for="grow2"  showEffect="clip" style="width:40%; position:relative; margin-left:-8%;" >
								             		
								             	
								             
								             					<p:dataTable value="#{patientMedicineManageBean.drugDiseaseDetailsInteractions}" var="drugDiseaseDetailsInteractionsDetail" emptyMessage="#{msg.noMedFound}">
										
																	<p:column styleClass="wrap">
																		<f:facet name="header">
																			<h:outputText value="Drug Name" />
																		</f:facet>
																		<h:outputText value="#{drugDiseaseDetailsInteractionsDetail.drugName}"  />  
																	</p:column>
																	
																	<p:column styleClass="wrap">
																		<f:facet name="header">
																			<h:outputText value="Direct Condition" />
																		</f:facet>
																		<h:outputText value="#{drugDiseaseDetailsInteractionsDetail.directCondition}"  />  
																	</p:column>
																	
																	<p:column styleClass="wrap">
																		<f:facet name="header">
																			<h:outputText value="Severity Level Text" />
																		</f:facet>
																		<h:outputText value="#{drugDiseaseDetailsInteractionsDetail.severityLevelText}"  />  
																	</p:column>
																	
																	<p:column styleClass="wrap">
																		<f:facet name="header">
																			<h:outputText value="Disease Relation" />
																		</f:facet>
																		<h:outputText value="#{drugDiseaseDetailsInteractionsDetail.diseaseRelationText}"  />  
																	</p:column>
																	
																	
																</p:dataTable>
								             			
								             	 </p:tooltip>
								             	 
								        
								      
								</td>
							</tr>
					</table>
		
			</p:outputPanel>
			
			<p:outputPanel deferred="true" deferredMode="visible" rendered="#{patientMedicineManageBean.pharmacogenomicInteractionDetailList.size() ge 1}">
						
							
							<table>	
							<tr>
							
							<td><h:outputText value="Pharmacogenomics:"  style="font-weight:bold;color:red;"/></td>
								<td>
									
										<p:commandLink id="grow3"   style="text-decoration:underline;" >
											<h:outputText value="#{patientMedicineManageBean.pharmacogenomicInteractionDetailList.size()}" escape="false" style="color:red;"/>		
								             &nbsp;<h:outputText value="Interactions detected" style="color:red;"/>
								          </p:commandLink>  
								          
								          <p:tooltip for="grow3"  showEffect="clip" style="width:44%; position:relative; margin-left:-8%;" >
								             		
								             	
								             
								             					<p:dataTable value="#{patientMedicineManageBean.pharmacogenomicInteractionDetailList}" var="pharmacogenomicInteractionDetail" emptyMessage="#{msg.noMedFound}">
										
																	 <p:column styleClass="wrap">
																		<f:facet name="header">
																			<h:outputText value="Drug Name" />
																		</f:facet>
																		<h:outputText value="#{pharmacogenomicInteractionDetail.genericDrugName}"  />  
																	</p:column> 
																	
																	<p:column styleClass="wrap">
																		<f:facet name="header">
																			<h:outputText value="Gene" />
																		</f:facet>
																		<h:outputText value="#{pharmacogenomicInteractionDetail.gene1}"  />  
																	</p:column> 
																	
																	<p:column styleClass="wrap">
																		<f:facet name="header">
																			<h:outputText value="Phenotype" />
																		</f:facet>
																		<h:outputText value="#{pharmacogenomicInteractionDetail.phenotype}"  />  
																	</p:column> 
																	
																	<p:column styleClass="wrap">
																		<f:facet name="header">
																			<h:outputText value="Impact" />
																		</f:facet>
																		<h:outputText value="#{pharmacogenomicInteractionDetail.impact}"  />  
																	</p:column>
																	
																	<p:column styleClass="wrap">
																		<f:facet name="header">
																			<h:outputText value="Implications" />
																		</f:facet>
																		<h:outputText value="#{pharmacogenomicInteractionDetail.implications}"  />  
																	</p:column>
																	
																	<p:column styleClass="wrap">
																		<f:facet name="header">
																			<h:outputText value="Recommendation" />
																		</f:facet>
																		<h:outputText value="#{pharmacogenomicInteractionDetail.recommendation}"  />  
																	</p:column>
																	
																	<p:column styleClass="wrap">
																		<f:facet name="header">
																			<h:outputText value="Attention Rating" />
																		</f:facet>
																		<h:outputText value="#{pharmacogenomicInteractionDetail.attentionRating}"  />  
																	</p:column>
																</p:dataTable>
								             			
								             	 </p:tooltip>
								             	 
								        
								      
								</td>
							</tr>
					</table>
							
				</p:outputPanel>
			
			
			<hr />
			
				
			<br />
			
			<table >
					<tr align="center">
						<td>
							<h:outputText value="Strength" styleClass="outputtext"/>
							<!-- <h:outputText value="*" styleClass="mandatoryField"/> -->
						</td>
						
						<td>
							
						</td>
						
						<td>
							<h:outputText value="unit" styleClass="outputtext"/>
							<h:outputText value="*" styleClass="mandatoryField"/>
						</td>
						
						<td>
							<h:outputText value="Dosage form" styleClass="outputtext"/>
							<h:outputText value="*" styleClass="mandatoryField"/>
						</td>
						
						<td>
							<h:outputText value="Route" styleClass="outputtext"/>
							<h:outputText value="*" styleClass="mandatoryField"/>
						</td>
						
						<td>
							<h:outputText value="Regimen" styleClass="outputtext"/>
							<h:outputText value="*" styleClass="mandatoryField"/>
						</td>
						
						<td>
							<h:outputText value="PRN" styleClass="outputtext"/>
							
						</td>
						
						<td>
							<h:outputText value="Additional Sig" styleClass="outputtext"/>
							<!-- <h:outputText value="*" styleClass="mandatoryField"/> -->
						</td>
					</tr>
					
					
					
									<tr>
										<td>
												<p:selectOneMenu 
														value="#{patientMedicineManageBean.patientMedicationData.strengths}"
														style="width:80px;">
														
														<f:selectItem
															itemLabel="#{patientMedicineManageBean.patientMedicationData.strengths}"
															itemValue="#{patientMedicineManageBean.patientMedicationData.strengths}" />
														<f:selectItems value="#{patientMedicineManageBean.doseDetailList}"
															var="doseList" itemLabel="#{doseList.dose}" itemValue="#{doseList.dose}" />
												</p:selectOneMenu>
									
											</td>
											
												<td>
													<p:commandLink rendered="#{patientMedicineManageBean.patientMedicationData.genericName eq 'Warfarin' || patientMedicineManageBean.patientMedicationData.genericName eq 'warfarin'}"
															actionListener="#{patientMedicineManageBean.findWarfarinDoseCalculator}" immediate="true" 
															oncomplete="warfarinDoseCalculator.show()">
														<p:graphicImage value="../../Images/doseCal.jpg"  style="width:34px;height:34px;"/>
															<f:param value="#{dashBoardManageBean.userLoginDetail.age}" name="patientAge"></f:param>
												   </p:commandLink>
					
											</td>
											
											<td>
						 	 	 	 			<p:selectOneMenu required="true" requiredMessage="Please insert unit"
															value="#{patientMedicineManageBean.patientMedicationData.unit}"
															style="width:80px;">
															
															<f:selectItems value="#{patientMedicineManageBean.unitSummaryList}"
																var="unitList" itemLabel="#{unitList.unit}" itemValue="#{unitList.unit}" />
																
																 <p:ajax listener="#{patientMedicineManageBean.calculateTotalDispence}" update="dispenceNumber"></p:ajax>	 
												</p:selectOneMenu>
						 	 	 	 		</td>
						 	 	 	 		
						 	 	 	 		<td>
											
											<!-- <p:selectOneMenu required="true" requiredMessage="Please insert Dosage form"
															value="#{patientMedicineManageBean.patientMedicationData.dosageForm}"
															style="width:122px;">
															<f:selectItem itemLabel="#{patientMedicineManageBean.patientMedicationData.dosageForm}" itemValue="#{patientMedicineManageBean.patientMedicationData.dosageForm}" />
											
													<f:selectItems value="#{patientMedicineManageBean.unitDetailsList}"
															var="unitList" itemLabel="#{unitList.unitName}" itemValue="#{unitList.unitName}" />
													</p:selectOneMenu> -->
													
												<p:inputText style="width:80px;" value="#{patientMedicineManageBean.patientMedicationData.dosageForm}" readonly="true"></p:inputText>	
											</td>
											
											<td>
						 	 	 	 			<!-- <p:selectOneMenu  required="true" requiredMessage="Please insert Route"
															value="#{patientMedicineManageBean.patientMedicationData.byRoute}"
															style="width:122px;">
															<f:selectItem itemLabel="#{patientMedicineManageBean.patientMedicationData.byRoute}" itemValue="#{patientMedicineManageBean.patientMedicationData.byRoute}" />
															<f:selectItems value="#{patientMedicineManageBean.routeDetailsList}"
																var="routeDetailList" itemLabel="#{routeDetailList.routeName}" itemValue="#{routeDetailList.routeName}" />
												</p:selectOneMenu> -->
												
												<p:inputText style="width:80px;" value="#{patientMedicineManageBean.patientMedicationData.byRoute}" readonly="true"></p:inputText>
						 	 	 	 		</td>
											
											<td>
							 	 	 	 			<p:selectOneMenu 
																value="#{patientMedicineManageBean.patientMedicationData.directions}"
																style="width:80px;">
																
																<f:selectItem
																	itemLabel=""
																	itemValue="" />
																	
																<f:selectItems value="#{patientMedicineManageBean.regimenList}"
																	var="regimen" itemLabel="#{regimen}" itemValue="#{regimen}" />
																	
																	 <p:ajax listener="#{patientMedicineManageBean.calculateTotalDispence}" update="dispenceNumber"></p:ajax> 	
													</p:selectOneMenu>
							 	 	 	 		</td>
							 	 	 	 		
							 	 	 	 		<td>
							 	 	 	 			<p:selectBooleanCheckbox value="#{patientMedicineManageBean.patientMedicationData.prn}" />  
							 	 	 	 		</td>
							 	 	 	 		
							 	 	 	 		<td>
							 	 	 	 			<p:inputText value="#{patientMedicineManageBean.patientMedicationData.additionalSig}" style="width:80px;"></p:inputText>
							 	 	 	 		</td>
									</tr>
			
			</table>
			
			<br />
			<br />
			
			<table>
				<tr align="center">
					<td>
						<h:outputText value="Allow Substitution" styleClass="outputtext"/>
							
						
					</td>
					
					<td>
						<h:outputText value="Dispense" styleClass="outputtext"/>
							<h:outputText value="*" styleClass="mandatoryField"/>
					</td>
					
					<td>
						<h:outputText value="Days Supply" styleClass="outputtext"/>
							<h:outputText value="*" styleClass="mandatoryField"/>
					</td>
					
					<td>
						<h:outputText value="Refills" styleClass="outputtext"/>
							<h:outputText value="*" styleClass="mandatoryField"/>
					</td>
					
				</tr>
				
				
				<tr>
					<td align="center">
						<p:selectBooleanCheckbox value="#{patientMedicineManageBean.patientMedicationData.allowSubstitution}" />  
					</td>
					
					<td>
	 	 	 	 			<p:inputText  style="width:50px;" converter="#{Integer}" maxlength="3"   id="dispenceNumber"
															value="#{patientMedicineManageBean.patientMedicationData.quantity}" >
													<f:convertNumber  pattern="#,###" integerOnly="true"  minFractionDigits="3" maxIntegerDigits="3" type="number"/>
												</p:inputText>
	 	 	 	 		</td>
	 	 	 	 		
	 	 	 	 		<td>
	 	 	 	 			
							 <p:selectOneMenu  
										value="#{patientMedicineManageBean.patientMedicationData.daySupply}"
										style="width:80px;">
											<f:selectItem itemValue="#{patientMedicineManageBean.patientMedicationData.daySupply}" 
													itemLabel="#{patientMedicineManageBean.patientMedicationData.daySupply}"></f:selectItem>
										<f:selectItems value="#{patientMedicineManageBean.daySupplyList}"
											var="daySupplyDetailList" itemLabel="#{daySupplyDetailList}" itemValue="#{daySupplyDetailList}" />
										
										  <p:ajax listener="#{patientMedicineManageBean.calculateTotalDispence}" update="dispenceNumber"></p:ajax> 
										
									</p:selectOneMenu> 
								<!-- <p:inputText value="#{patientMedicineManageBean.patientMedicationData.daySupply}" style="width:80px;"></p:inputText> -->
	 	 	 	 		</td>
	 	 	 	 		
	 	 	 	 		<td>
	 	 	 	 			<p:selectOneMenu required="true" 
										value="#{patientMedicineManageBean.patientMedicationData.reffils}"
										style="width:60px;">
										
										<f:selectItems value="#{patientMedicineManageBean.refillDetailsList}"
											var="refillList" itemLabel="#{refillList}" itemValue="#{refillList}" />
										
									</p:selectOneMenu>
	 	 	 	 		</td>
				</tr>
				
				
				
				
			</table>
			
			<table align="right">
				<tr>
			
				<td align="right">
						
						<p:commandButton value="#{msg.done}" action="#{patientMedicineManageBean.addMedicine}" update="messageUpdateForGeneralMeds">

						<p:ajax process="@form"  ></p:ajax>
					</p:commandButton></td>

				<td align="right">
					<p:commandButton value="#{msg.cancel}" action="#{patientMedicineManageBean.submitCancelButtonforpersonalisedmedreview}" immediate="true"></p:commandButton>
					
					<!-- <p:commandButton
						id="medID" value="Med Action Plan"
						actionListener="#{patientMedicineManageBean.afterAddNewMedicineGoToMedActionPlan}"
						oncomplete="medicationActionPlan.show();"
						disabled="#{!patientMedicineManageBean.medicine.flagForMedActionPlan}">
					</p:commandButton> -->
				</td>
				<td></td>
			</tr>
			</table>
			
				
			<!-- 	<table width="100%">
					<tr>
						<td>
							<h:outputText value="#{msg.med}" />
 							<h:outputText value="*" styleClass="mandatoryField"/>						
						</td>
						<td>
							<p:inputText style="width:114px;"
								value="#{patientMedicineManageBean.patientMedicationData.drugs}" required="true" readonly="true"
						 			id="medicinename"  label="medicinename" >
							</p:inputText>
				      </td>
				      <td>
						 <h:outputText value="Start Date" />
				 		<h:outputText value="*" styleClass="mandatoryField"/>	
					 </td>
					<td>
						<p:inputText  style="width:114px;" value="#{patientMedicineManageBean.patientMedicationData.startDate}" required="true" requiredMessage="Please insert start date" >
							<f:convertDateTime pattern="MM/dd/yyyy"/>
						</p:inputText>
					</td>
			</tr>

			<tr>
				<td>
					<h:outputText value="Strength " />
					<h:outputText value="*" styleClass="mandatoryField"/>		
				</td>
				<td>
				<p:outputPanel rendered="#{patientMedicineManageBean.doseDetailList.size() ne '0'}">
					<p:selectOneMenu required="true" requiredMessage="Please select Strength"
											value="#{patientMedicineManageBean.patientMedicationData.strengths}"
											style="width:122px;">
											<f:selectItem
												itemLabel="#{patientMedicineManageBean.patientMedicationData.directions}"
												itemValue="#{patientMedicineManageBean.patientMedicationData.directions}" />
											<f:selectItems value="#{patientMedicineManageBean.doseDetailList}"
												var="doseList" itemLabel="#{doseList.dose}" itemValue="#{doseList.dose}" />
										</p:selectOneMenu>
						</p:outputPanel>
										<p:inputText value="#{patientMedicineManageBean.medActionPlan.dose}" />
						<p:outputPanel rendered="#{patientMedicineManageBean.doseDetailList.size() eq '0'}">
								<h:outputText value="NA" ></h:outputText>
						</p:outputPanel>
								<p:inputText value="#{patientMedicineManageBean.medActionPlan.dose}" />
							</td>
				<td>
	 	 	 	 				<h:outputText value="unit" /><h:outputText value="*" styleClass="mandatoryField"/>
	 	 	 	 		</td>
	 	 	 	 		<td>
	 	 	 	 			<p:selectOneMenu 
										value="#{patientMedicineManageBean.patientMedicationData.unit}" 
										style="width:80px;">
										
										<f:selectItems value="#{patientMedicineManageBean.unitSummaryList}"
											var="unitList" itemLabel="#{unitList.unit}" itemValue="#{unitList.unit}" />
											
											<p:ajax listener="#{patientMedicineManageBean.calculateTotalDispence}" update="dispenceNumber"></p:ajax>
									</p:selectOneMenu>
	 	 	 	 	</td>
	 	 	 	 	
					
					
			</tr>
			
			
			<tr>
				<td>
	 	 	 	 				<h:outputText value="Dosage form" /><h:outputText value="*" styleClass="mandatoryField"/>
	 	 	 	 		</td>
	 	 	 	 		<td>
	 	 	 	 		
	 	 	 	 		
	 	 	 	 			<p:selectOneMenu required="true" requiredMessage="Please select dosage form"
										value="#{patientMedicineManageBean.patientMedicationData.dosageForm}"
										style="width:122px;">
										<f:selectItem itemLabel="#{patientMedicineManageBean.patientMedicationData.dosageForm}" itemValue="#{patientMedicineManageBean.patientMedicationData.dosageForm}" />
	 	 	 	 			
										<f:selectItem
											itemLabel="#{patientMedicineManageBean.patientMedicationData.directions}"
											itemValue="#{patientMedicineManageBean.patientMedicationData.directions}" />
										<f:selectItems value="#{patientMedicineManageBean.unitDetailsList}"
											var="unitList" itemLabel="#{unitList.unitName}" itemValue="#{unitList.unitName}" />
									</p:selectOneMenu>
									
									<p:inputText  value="#{patientMedicineManageBean.patientMedicationData.dosageForm}" readonly="true"></p:inputText>	
								
	 	 	 	 	</td>
	 	 	 	 	
	 	 	 	 	
	 	 	 	 	
	 	 	 	 		<td>
	 	 	 	 				<h:outputText value="Package" /><h:outputText value="*" styleClass="mandatoryField"/>
	 	 	 	 		</td>
	 	 	 	 		<td>
	 	 	 	 					<p:selectOneMenu required="true" requiredMessage="Please select dose"
										value="#{patientMedicineManageBean.patientMedicationData.unitDetail}"
										style="width:122px;">
										<f:selectItem
											itemLabel="#{patientMedicineManageBean.patientMedicationData.directions}"
											itemValue="#{patientMedicineManageBean.patientMedicationData.directions}" />
										<f:selectItems value="#{patientMedicineManageBean.dosageDetailsList}"
											var="dosageDetailList" itemLabel="#{dosageDetailList.dosageFrom}" itemValue="#{dosageDetailList.dosageFrom}" />
										<p:ajax   update="input"/>
									
									</p:selectOneMenu>
	 	 	 	 		</td>
			</tr>
			
			
			<tr>
				<td>
	 	 	 	 				<h:outputText value="Route" /><h:outputText value="*" styleClass="mandatoryField"/>
	 	 	 	 		</td>
	 	 	 	 		<td>
	 	 	 	 			<p:selectOneMenu required="true" requiredMessage="Please select route"
										value="#{patientMedicineManageBean.patientMedicationData.byRoute}"
										style="width:122px;">
										<f:selectItem itemLabel="#{patientMedicineManageBean.patientMedicationData.byRoute}" itemValue="#{patientMedicineManageBean.patientMedicationData.byRoute}" />
										<f:selectItems value="#{patientMedicineManageBean.routeDetailsList}"
											var="routeDetailList" itemLabel="#{routeDetailList.routeName}" itemValue="#{routeDetailList.routeName}" />
										<p:ajax   update="input"/>
									</p:selectOneMenu>
									<p:inputText  value="#{patientMedicineManageBean.patientMedicationData.byRoute}" readonly="true"></p:inputText>
	 	 	 	 		</td>
			
				<td><h:outputText value="#{msg.regimen}" /> <h:outputText value="*" styleClass="mandatoryField"/></td>
				<td>
				<p:selectOneMenu 
						value="#{patientMedicineManageBean.patientMedicationData.directions}" label="regimen" id="regimen" 
						style="width:122px;" required="true" requiredMessage="Please select regimen">
						<f:selectItem
											itemLabel=""
											itemValue="" />
						<f:selectItems value="#{patientMedicineManageBean.regimenList}" 
							var="regimen" itemLabel="#{regimen}" itemValue="#{regimen}" />
							
							<p:ajax listener="#{patientMedicineManageBean.calculateTotalDispence}" update="dispenceNumber"></p:ajax>
					</p:selectOneMenu>
					<h:message for="regimen"/>
					</td>
				
			</tr>
			
			
			<tr>
				<td>
				      	<h:outputText value="Dispense" />
				      	<h:outputText value="*" styleClass="mandatoryField"/>		
				      </td>
				      <td>
				        <p:inputText  required="true"   converter="#{Integer}" maxlength="3"
						             value="#{patientMedicineManageBean.patientMedicationData.quantity}" style="width:60px;">
						<f:convertNumber  pattern="#,###" integerOnly="true"  minFractionDigits="3" maxIntegerDigits="3" type="number"/>
							
					    </p:inputText>
					 </td>
					 
					 <td>
					  <h:outputText value="#{msg.refills}" />
					  <h:outputText value="*" styleClass="mandatoryField"/>	
					 </td>
				     <td>
					      <p:inputText required="true" requiredMessage="Please insert reffils"  maxlength="2" 
									 value="#{patientMedicineManageBean.patientMedicationData.reffils}" style="width:114px;">
							<f:convertNumber pattern="#0" integerOnly="true" maxFractionDigits="0" maxIntegerDigits="2" type="number"/>
							<pe:keyFilter mask="num"></pe:keyFilter>
						</p:inputText>
						
						<p:selectOneMenu required="true" 
										value="#{patientMedicineManageBean.patientMedicationData.reffils}"
										style="width:60px;">
										
										<f:selectItems value="#{patientMedicineManageBean.refillDetailsList}"
											var="refillList" itemLabel="#{refillList}" itemValue="#{refillList}" />
										
									</p:selectOneMenu>
				    </td>
			</tr>

			
			
			<tr>
				<td>
							 	 	  			<h:outputText value="Days Supply" />
							 	 	  		</td>
							 	 	  		
											<td>
												<p:inputText style="width:50px;" required="true" requiredMessage="Please insert Days Supply"
															value="#{patientMedicineManageBean.patientMedicationData.daySupply}" />
															
									<p:selectOneMenu 
										value="#{patientMedicineManageBean.patientMedicationData.daySupply}"
										style="width:60px;">
											<f:selectItem itemValue="#{patientMedicineManageBean.patientMedicationData.daySupply}" 
													itemLabel="#{patientMedicineManageBean.patientMedicationData.daySupply}"></f:selectItem>
										<f:selectItems value="#{patientMedicineManageBean.daySupplyList}"
											var="daySupplyDetailList" itemLabel="#{daySupplyDetailList}" itemValue="#{daySupplyDetailList}" />
										<p:ajax listener="#{patientMedicineManageBean.calculateTotalDispence}" update="dispenceNumber"></p:ajax>	
									</p:selectOneMenu>
											</td>
			</tr>

			<tr>
			 <td></td>
				<td align="right">
						
						<p:commandButton value="#{msg.done}" action="#{patientMedicineManageBean.addMedicine}" update="messageUpdateForGeneralMeds">

						<p:ajax process="@form"  ></p:ajax>
					</p:commandButton></td>

				<td align="left">
					<p:commandButton value="#{msg.cancel}" action="#{patientMedicineManageBean.submitCancelButtonForAnticoag}" immediate="true"
						></p:commandButton>
					
					<p:commandButton
						id="medID" value="Med Action Plan"
						actionListener="#{patientMedicineManageBean.afterAddNewMedicineGoToMedActionPlan}"
						oncomplete="medicationActionPlan.show();"
						disabled="#{!patientMedicineManageBean.medicine.flagForMedActionPlan}">
					</p:commandButton>
				</td>
				<td></td>
			</tr>

		</table> -->



	</h:form>
	</p:dialog>
			
				
			</p:layoutUnit>

			<!-- >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> CENTER LAYOUT ENDS  >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>  -->

		</p:layout>
		
		
	
				
		
		
	</f:view>
</h:body>
</html>

