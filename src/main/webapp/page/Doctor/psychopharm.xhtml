<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui" template="../templates/ui.xhtml">

<h:body>

	<f:view contentType="text/html">
		<h:head>
			<f:facet name="first">
				<meta http-equiv="X-UA-Compatible" content="EmulateIE8" />
				<meta content='text/html; charset=UTF-8' http-equiv="Content-Type" />
				<title><h:outputText value="#{msg.clinakos}" /></title>
			</f:facet>
			<link type="text/css" rel="stylesheet" href="../../CSS/style.css" />
			<script language="javascript" src="../js/basicMethod.js"></script>
			<script type="text/javascript" language="javascript">
			$(document).ready(function() {
		        noBack();
		   });

		   function noBack() {
			   window.location.hash="no-back-button";
				window.location.hash="Again-No-back-button";//again because google chrome don't insert first hash into history
				window.onhashchange=function(){window.location.hash="";} 
		       }

	       function pscychopharmActionDialog(xhr,status,args){
				if(args.showMsgForLabResult==false){
					psychpharmActionDialog.show();
					}else{
						noLithiumLabMessage.show();
						}

		       }
	       
	       
	   	function labComplete(xhr, status, args){
			if(args.selectedLab==true){
				searchLabMAPDialog.hide();
				editGenericMedicalActionPlan.show();
				if(args.validateMAP==true){
					medPlanExistsWidgetVar.show();
				}
				}
		}
	function handleSearchLab(xhr, status, args){
		if(args.searchResultSet==true){
			searchLabMAPDialog.show();
			}
		}

	 
	 function showBlockUI(){
			//	alert("block UI show");
				blockUI.show();
				} 
	 
	 function hideBlockUI(){
			//	alert("block UI hide");
				blockUI.hide();
				}
	 
	 function onmedplanclick(){
		 document.getElementById('newGenericMedPlanFormIdforfilterPsyId:medplanwithout_diagonosesId').click();
		
				}
	 
	 function onmedplanclickforinr() {
		 
		 document.getElementById('newGenericMedPlanFormIdforfilterPsyId:medplanwith_graeter_inrId').click();	
	}
		
	
	 function genericMedActionPlanComplete(xhr,status,args){
			if(args.savedOrNotDb==true){
				editGenericMedicalActionPlan.hide();
				
				/* growlMsg.show([{summary:'', detail: 'Med Action Plan Saved Successfully', severity: 'info'}]) */
				
				
				
				}
			else{
				editGenericMedicalActionPlan.show();
				}
			}
</script>
		</h:head>

		<p:layout fullPage="true">
		
		

			<!-- >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> DOCTOR HEADER >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>  -->
			<p:layoutUnit position="north" size="93" minSize="60">
				<ui:include src="doctorHeader.xhtml" />
			</p:layoutUnit>
			<!-- >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> BOTTOM INCLUDE >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>  -->

			<p:layoutUnit id="bottom" position="south" size="24">

				<ui:include src="../core/footer.xhtml"></ui:include>

			</p:layoutUnit>

			<!-- >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> LEFT INCLUDE >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>  -->

			<p:layoutUnit id="left" position="west" size="0" closable="false"
				collapsible="true" minSize="0" style="border:none;">
				  <ui:include src="anticoagleftmenu.xhtml">
				</ui:include>
			</p:layoutUnit>



			<!-- >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> CENTER LAYOUT >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>  -->

			<p:layoutUnit position="center">
			<h:form id="msgVarId">
			 <p:growl id="growlMsgId" showDetail="true"  widgetVar="growlMsgWidgetVar" sticky="false"/>
			 </h:form>
			
			<p:accordionPanel dynamic="true" activeIndex="1">
						<p:tab
							title="#{dashBoardManageBean.userLoginDetail.firstName} #{dashBoardManageBean.userLoginDetail.lastName}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #{dashBoardManageBean.userLoginDetail.age} yo #{dashBoardManageBean.userLoginDetail.gender}">

							<ui:include src="../Doctor/patientDetailsHeader.xhtml"></ui:include>
						</p:tab>
					</p:accordionPanel>
					<!-- <div align="center"><p:graphicImage url="images/commingSoon.jpg"></p:graphicImage></div> -->
					<table width="100%">
					<tr>
					
					 <td align="right">
					   <p:commandButton value="#{msg.add_Medicine}"  
				    actionListener="#{patientMedicineManageBean.searchMedicine}" update=":searchMedicinePsychopharmPopUpId" rendered="#{userManageBean.rolePrivillegeUtil.isEnable('Psychopharm_addMed')}"></p:commandButton>
					 </td>
					</tr>
					<tr>
					<table width="100%" class="secContentBorder" cellpadding="0" cellspacing="0">
					<tr>
						 <td class="secHeadPart">	#{msg.notes}</td>
						</tr>
						<tr class="secContentBorder">
					
					 <td>
					 <p:dataList value="#{patientMedicineManageBean.psychoPharmAlertMedActionPlanList}"
						var="alertMedPlans"  type="definition" emptyMessage="#{msg.nodataavailable}" id="alertPsychoPharmLabsMsgDataList" styleClass="datalist-noborder" >
						
					<table>
                	<tr valign="middle">
                		<td>	
                                                     <h:graphicImage value="./../../Images/red1.jpg"
                                                    height="12px" width="20px" id="highSeverityLevelToolFilter"
                                                            rendered="#{alertMedPlans.severityLevel eq 'High'}" />
                                                        <h:graphicImage value="./../../Images/orange1.jpg"
                                                     height="12px" width="20px" id="midSeverityLevelToolFilter"
                                                            rendered="#{alertMedPlans.severityLevel eq 'Medium'}" />
                                                    <h:graphicImage value="./../../Images/green1.jpg"
                                                height="12px" width="20px" id="lowSeverityLevelToolFilter"
                                                            rendered="#{alertMedPlans.severityLevel eq 'Low'}" />
                               						      <!--  <h:outputText value=" #{alertMedPlans.labType}" /> 
                               						       &nbsp; -->
                     
                    <h:outputText  value=" #{alertMedPlans.labType}" />&nbsp;<h:outputText value="#{alertMedPlans.labResultValue}" />&nbsp;<h:outputText value="#{alertMedPlans.labUnit}" />
                    <!--  <h:outputText value=" Value " /> -->
                     <h:outputText value=" on " />   
                     <h:outputText value=" #{alertMedPlans.labDateResult}" /> 
                     <h:outputText value=" for " />    
                     <h:outputText value="#{alertMedPlans.drugName}" />&nbsp;    
                     <h:outputText value="with goal " /> 
                     <h:outputText value="#{alertMedPlans.lowRangeSymbol}" rendered="#{(alertMedPlans.lowValue>0.0) and (alertMedPlans.severityLevel ne 'Low')}"/>         
                     <h:outputText value="#{alertMedPlans.lowValue}" rendered="#{alertMedPlans.lowValue>0.0}"/>  
                      <h:outputText value=" - " rendered="#{(alertMedPlans.lowValue>0.0) and (alertMedPlans.highValue>0.0)}"/>
                      <h:outputText value="#{alertMedPlans.highRangeSymbol}" rendered="#{(alertMedPlans.highValue>0.0) and (alertMedPlans.severityLevel ne 'Low')}"/>  
                       <h:outputText value="#{alertMedPlans.highValue}" rendered="#{alertMedPlans.highValue>0.0}"/>                 
						<p:spacer height="22px;"></p:spacer>
						
						</td></tr></table>
						</p:dataList>
					 
					 </td>
					 </tr>
					 </table>
					 
					</tr>
					  <br />
					  
				<tr>
				<table width="100%" class="secContentBorder" cellpadding="0" cellspacing="0">
				<tr>
				 <td class="secHeadPart">
  #{msg.medactionplan}
  </td>
				</tr>
				<tr class="secContentBorder">
					<td align="left">
					<h:form id="psychopharmFormMedPlansId" prependId="false">
						<p:dataTable id="psychoPharmDataTableId" scrollable="auto" scrollHeight="105" 
				value="#{patientMedicineManageBean.psychoPharmClinicMedActionPlanList}"
				var="psychoPharmMedAction" binding="#{patientMedicineManageBean.psychopharmMedPlanDatatable}" emptyMessage="#{msg.noMedFound}">

				 <p:column>
					<f:facet name="header">
						<h:outputText value="#{msg.med} " />
					</f:facet>
					<div align="left">
					<h:outputText value="#{psychoPharmMedAction.drugName}" />&nbsp;
					<h:outputText value="#{psychoPharmMedAction.strength}" />&nbsp;
					<h:outputText value="#{psychoPharmMedAction.unit}" />&nbsp;
					<h:outputText value="#{psychoPharmMedAction.dosageForm}" rendered="#{psychoPharmMedAction.dosageForm ne 'Add Sig'}" />&nbsp;
					<h:outputText value="#{psychoPharmMedAction.regimen}" rendered="#{psychoPharmMedAction.regimen ne 'Add Sig'}" />&nbsp;
					 
			        
					
					</div>
				</p:column>
				
				<p:column width="8%">
					<f:facet name="header">
						<h:outputText value=" Prescription Date"/>
					</f:facet>
				<div align="center">
				<h:outputText value="#{psychoPharmMedAction.prescriptionDate}" id="medplandate">
				<f:convertDateTime pattern="#{msg.dateFormat}" timeZone="#{userManageBean.loggedUsertimeZone}" for="medplandate" type="date" dateStyle="full" locale="pl"/></h:outputText>
				</div>
				</p:column>
				
				<p:column width="8%">
					<f:facet name="header">
						<h:outputText value="Prescribed By" />
					</f:facet>
					<div align="left">
					<h:outputText value="#{psychoPharmMedAction.prescribedBy}" />
					</div>
				</p:column>
				
				

				<p:column>
					<f:facet name="header">
						<h:outputText value="#{msg.diagnosis}" />
					</f:facet>
					<div align="left">
					<h:outputText value="N/A" rendered="#{psychoPharmMedAction.patientDiagnosisName eq null}"/>
					<h:outputText value="#{psychoPharmMedAction.patientDiagnosisName}" />
					</div>
				</p:column>
				
				
				
			

				 <p:column width="20%">
					<f:facet name="header">
						<!-- <h:outputText value="#{msg.monitoringpara}" /> -->
					</f:facet>
					<div align="left">
					<!-- <h:outputText value="#{psychoPharmMedAction.monitoringParameter}" /> -->
					  <p:dataTable value="#{psychoPharmMedAction.childLabParameters}" var="labParameterVar"  >
									 	 <p:column headerText="#{msg.monitoring_parameter_label}">
									 	 <h:outputText value="#{labParameterVar.labParameterObj.labType}"></h:outputText>
									 	 </p:column>
											<p:column headerText="Goal">
										<div align="right">
										<h:outputText value=" #{labParameterVar.goalLowRangeSymbol} " rendered="#{labParameterVar.goalLowRangeValue>0.0}" />
										<h:outputText value=" #{labParameterVar.goalLowRangeValue} " rendered="#{labParameterVar.goalLowRangeValue>0.0}" />
										<h:outputText value=" - " rendered="#{(labParameterVar.goalLowRangeValue>0.0) and (labParameterVar.goalHighRangeValue>0.0)}" />
										<h:outputText value=" #{labParameterVar.goalHighRangeSymbol} " rendered="#{labParameterVar.goalHighRangeValue>0.0}" />
										<h:outputText value=" #{labParameterVar.goalHighRangeValue} " rendered="#{labParameterVar.goalHighRangeValue>0.0}" />
										<!-- <h:outputText value="#{labParameterVar.goalRangeSymbol} #{labParameterVar.goalRangeValue} - #{labParameterVar.goalRangeEndSymbol} #{labParameterVar.goalRangeEndValue}" /> -->
										</div>
										</p:column>
											<p:column headerText="#{msg.labfrequency}">
										<div align="left">
										<h:outputText value="#{labParameterVar.frequencyNumber}" />
										<p:spacer width="5px"></p:spacer>
										<h:outputText value="#{labParameterVar.frequencyUnit}" />
										</div>
										</p:column>
										</p:dataTable>
					</div>
				</p:column>

			
				
				<p:column width="7%">
					<f:facet name="header">
						<h:outputText value="#{msg.last_update_by}" />
					</f:facet>
					<div align="left">
					<h:outputText value="#{psychoPharmMedAction.updatedByName}" />
					</div>
				</p:column>
				
				 <p:column width="8%">
					<f:facet name="header">
						<h:outputText value="#{msg.last_update_date}" />
					</f:facet>
					<div align="center"><h:outputText value="#{psychoPharmMedAction.updatedDate}" id="psycho_pharm_last_updated_date">
						 <f:convertDateTime pattern="#{msg.dateFormat}" timeZone="#{userManageBean.loggedUsertimeZone}" for="update_date" type="date" dateStyle="full" locale="pl"/>
					</h:outputText>
					</div>
				</p:column> 

				
				
				<p:column>
					<f:facet name="header">
						<h:outputText value="#{msg.create_by}" />
					</f:facet>
				<div align="left">
				<h:outputText value="#{psychoPharmMedAction.createdByName}" /></div>
				</p:column>
				
				<p:column width="9%">
					<f:facet name="header">
						<h:outputText value="#{msg.create_date}" />
					</f:facet>
					<div align="center"><h:outputText value="#{psychoPharmMedAction.createdDate}" id="created_date">
					<f:convertDateTime pattern="#{msg.dateFormat}" timeZone="#{userManageBean.loggedUsertimeZone}" for="action_date" type="date" dateStyle="full" locale="pl"/>
					</h:outputText></div>
				</p:column>
				<p:column width="9%">
					<f:facet name="header">
						<h:outputText value="#{msg.dosing_start_date}"/>
					</f:facet>
					<div align="center"><h:outputText value="#{psychoPharmMedAction.dosingStartDate}" id="doisng_start_date">
						 <f:convertDateTime pattern="#{msg.dateFormat}" for="doisng_start_date" dateStyle="full" type="date" />
					</h:outputText>
					</div>
				</p:column>
				<p:column headerText="#{msg.action}" >
										<center>
											 <p:commandLink
												actionListener="#{patientMedicineManageBean.generalEditGenericMedActionPlan}"
												oncomplete="editGenericMedicalActionPlan.show();" rendered="#{userManageBean.rolePrivillegeUtil.isEnable('Psychopharm_editMap')}">
											<!-- 	<f:setPropertyActionListener target="#{patientMedicineManageBean.psychopharmMedPlanObj}" value="#{psychoPharmMedAction}" /> -->
												<h:graphicImage value="./../../Images/editIcon.jpg"
													width="25px" height="20px" id="editGenericMedActionPlan1_psychopharm" />
												<p:tooltip for="editGenericMedActionPlan1_psychopharm">
													<h:outputText value="#{msg.edit}" />
												</p:tooltip>
											</p:commandLink> 

											<p:commandLink
												actionListener="#{patientMedicineManageBean.generalRemoveGenericMedActionPlan}"
												oncomplete="deleteDlgGenericMedActionPlan.show();"
												rendered="#{userManageBean.rolePrivillegeUtil.isEnable('Psychopharm_deleteMap')}">
												<!-- 	<f:setPropertyActionListener target="#{patientMedicineManageBean.psychopharmMedPlanObj}" value="#{psychoPharmMedAction}" /> -->
												<h:graphicImage value="./../../Images/delIcon.jpg"
													width="25px" height="20px" id="deleteGenericMedActionPlan1_psychopharm" />
												<p:tooltip for="deleteGenericMedActionPlan1_psychopharm">
													<h:outputText value="#{msg.delete}" />
												</p:tooltip>
											</p:commandLink>
										 	 <p:commandLink   action="#{patientMedicineManageBean.takePsychopharmClinicAction}" oncomplete="pscychopharmActionDialog(xhr,status,args)" rendered="#{userManageBean.rolePrivillegeUtil.isEnable('Psychopharm_takeAction')}"> 
									<h:graphicImage value="./../../Images/actionIcon.jpg"
										width="25px" height="20px" id="TakeAction1" />
									<p:tooltip for="TakeAction1" >
										<h:outputText value="#{msg.takeAction}"/>
									</p:tooltip>
					</p:commandLink> 
										</center>
										</p:column> 
			</p:dataTable>
			 </h:form>
					</td>
					</tr>
					</table>
				</tr>
		</table> 
		<br/>
	<table width="100%" class="secContentBorder" cellpadding="0" cellspacing="0">
	<tr>
	<td class="secHeadPart">
	Psychopharm Meds
	</td>
	</tr>
					<tr class="secContentBorder">
					<td	>
	 <p:outputPanel id="curntMed">
	 <h:form>
        <p:dataTable   scrollable="auto" scrollHeight="105"
						value="#{patientMedicineManageBean.currentPsychopharmMeds}" rowIndexVar="rowNum"
						var="currentClinicMeds" emptyMessage="#{msg.noMedFound}" >

						<f:facet name="header" >
							
						</f:facet>

						<p:column>
							<f:facet name="header">
								<h:outputText value="#{msg.medication}"/>
							</f:facet>
							<div align="left">
							<h:outputText value="#{currentClinicMeds.drugs}" />&nbsp;
						
							
							<h:graphicImage value="./../../Images/new-icon.png" styleClass="imgIcon" id="NewImg"
							rendered="#{currentClinicMeds.iconForNewMedAdd}" />
							 <p:tooltip for="NewImg" >
										<h:outputText value="New Med"/>
									</p:tooltip>	
							
						    &nbsp;<!-- <h:graphicImage value="./../../Images/actionNeeded.jpg" styleClass="imgIcon"  id="actionNeeded"
						   /> -->
						    
						   <!--  <p:tooltip for="actionNeeded" >
										<h:outputText value="Action Needed"/>
									</p:tooltip>	 -->		
						     &nbsp;
						    <!--  <h:graphicImage value="./../../Images/actionSuggest.jpg" styleClass="imgIcon"  id="actionSuggest"
						    />
						     
						 
						      <p:tooltip for="actionSuggest" >
										<h:outputText value="Action Suggested"/>
									</p:tooltip> -->	
									
						<!-- <p:commandLink actionListener="#{patientMedicineManageBean.creatMedActionPlanForAnticoag}"
					update=":warfarinheaderIdValue,:DabigatranHeader,:ApixabanHeader,:RivaroxabanHeader,
					:FondaparinuxHeader,:DesirudinHeader,:dalteparinHeader,:EnoxaparinHeader"
					
						rendered="#{currentClinicMeds.showMedActionPlanCreateOrNot}">
							<h:graphicImage value="./../../Images/medActionIcon.jpg"
										width="15px" height="20px" id="editMedActionPlanId" />
									<p:tooltip for="editMedActionPlanId" >
										<h:outputText value="No Med Action Plan Exists."/>
									</p:tooltip>
						</p:commandLink> 	 -->
						    </div>
						</p:column>

						<p:column>
							<f:facet name="header">
								<h:outputText value="#{msg.datePrescribed}"/>
							</f:facet>
							<div align="center"><h:outputText value="#{currentClinicMeds.startDate}">
								<f:convertDateTime pattern="#{msg.dateFormat}" timeZone="#{userManageBean.loggedUsertimeZone}" dateStyle="full" type="date"/>
							</h:outputText></div>
						</p:column>

						<p:column>
							<f:facet name="header">
								<h:outputText value="#{msg.dose}"/>
							</f:facet>
							<div align="left">
							<h:outputText value="#{currentClinicMeds.strengths}" />
							</div>
						</p:column>

						<p:column>
							<f:facet name="header">
								<h:outputText value="#{msg.regimen}" />
							</f:facet>
							<div align="left">
							<h:outputText value="#{currentClinicMeds.unit}" />&nbsp;
							<h:outputText value="#{currentClinicMeds.dosageForm}" rendered="#{currentClinicMeds.dosageForm ne 'Add Sig'}" />&nbsp;
							<h:outputText value="#{currentClinicMeds.directions}" />&nbsp;
							
					 
							</div>
						</p:column>
						

						<p:column >
							<f:facet name="header">
								<h:outputText value="#{msg.last_fill}"/>
							</f:facet>
						<div align="center">
							<h:outputText value="#{currentClinicMeds.lastFillDate}">
								<f:convertDateTime pattern="#{msg.dateFormat}" timeZone="#{userManageBean.loggedUsertimeZone}" dateStyle="full" type="date" />
							</h:outputText>
							</div>
						</p:column>
						
						 <p:column width="7%">
							<f:facet name="header">
								<h:outputText value="#{msg.complianc}"/>
							</f:facet>
							<center><h:graphicImage value="./../../Images/green1.jpg" height="20px" id="complanceforgreen"
								width="20px"
								rendered="#{currentClinicMeds.compliancePercentage gt 80	}" />
								
							<h:graphicImage value="./../../Images/orange1.j pg" height="20px"
								width="20px"
								rendered="#{currentClinicMeds.compliancePercentage gt 60 and  currentClinicMeds.compliancePercentage le 80}" />
								
							<h:graphicImage value="./../../Images/red1.jpg" height="20px" id="complanceforred"
								width="20px"
								rendered="#{currentClinicMeds.compliancePercentage gt 0 and currentClinicMeds.compliancePercentage le 60}" />
								
						
							<h:outputText value="N/A" id="complanceforwhite"
								width="20px"
								rendered="#{currentClinicMeds.compliancePercentage eq 0}" /></center>
						
						 <p:tooltip for="complanceforgreen"  showEffect="clip" hideEffect="explode" >
				  <h:outputText value="Compliance=#{currentClinicMeds.compliancePercentage}%" /><br />
				</p:tooltip>
						
						<p:tooltip for="complanceforred"  showEffect="clip" hideEffect="explode" >
				 
			
				  <h:outputText value="Compliance=#{currentClinicMeds.compliancePercentage}%" /><br />
				</p:tooltip>
				
			
						</p:column>
						
					 <p:column>
						<f:facet name="header">
								<h:outputText value="#{msg.action}"/>
							</f:facet>
							
							
							<div align="center">
							<p:commandLink 
										action="#{patientMedicineManageBean.editClinicMeds}"
										oncomplete="medication_viewRx.show()">
									<f:setPropertyActionListener target="#{patientMedicineManageBean.clinicViewPatientMedicationData}" value="#{currentClinicMeds}"></f:setPropertyActionListener>
							    <h:graphicImage value="./../../Images/editIcon.jpg"
										width="25px" height="20px" id="editanticogmedRX" />
									<p:tooltip for="editanticogmedRX" >
										<h:outputText value="#{msg.editRx}"/>
									</p:tooltip>			
							</p:commandLink>
							</div>
						</p:column>  


					</p:dataTable>
					</h:form>
				</p:outputPanel>
</td>
</tr>
</table>



<br />
					<!--Lab section:Start  -->
						<table>
						<tr>
							<td valign="top" style="width:50%;" >
							  <table width="100%" style="min-height:450px" class="secContentBorder" cellpadding="0" cellspacing="0">
							    <tr >
							      <td class="secHeadPart">#{msg.labs_label}</td>
							    </tr>
							    <tr class="secContentBorder">
							      <td>
							      
								
									<p:dataTable
											value="#{labManageBean.psychoPharmLabResultList}"
											var="psychoPharmLabResult" id="psychoFarmLabDataTable"
											resizableColumns="true" scrollable="true" scrollHeight="305" emptyMessage="#{msg.noMedFound}">
											<p:column headerText="#{msg.datePrescribed}">
												<div align="center">
													<h:outputText value="#{psychoPharmLabResult.dateResult}">
														<f:convertDateTime pattern="#{msg.dateFormat}" />
													</h:outputText>
												</div>
											</p:column>
											<p:column headerText="#{msg.recent_lab}">
												<div align="left">
													<h:outputText value="#{psychoPharmLabResult.labName}" />
												</div>
											</p:column>
											<p:column headerText="#{msg.value}">
												<div align="right">
													<h:outputText value="#{psychoPharmLabResult.result}" />
												</div>
											</p:column>
											<p:column headerText="Acceptable Range">
												<div align="left">
													<h:outputText
														value="#{psychoPharmLabResult.labRange} #{psychoPharmLabResult.labUnit}"
														rendered="#{psychoPharmLabResult.labRange eq ''}" />
												</div>
											</p:column>
										</p:dataTable>

									</td>
							 </tr>
							 </table>
							 
							 
							 </td>
							 <td  valign="top" style="width:70%;">
							 <table width="100%" style="min-height:450px" class="secContentBorder" cellpadding="0" cellspacing="0">
							  <tr>
							   <td class="secHeadPart">
							     
							      Drug Dose Response Curve
							     </td>
							   </tr>
							  <tr class="secContentBorder">
							    <td>
								
									<h:form id="psychoPharmMedChart" prependId="false">
									 <table width="100%" >
        
              <tr style="background-color:rgb(174,208,234);">
				  <!--  <p:growl  id="p" showDetail="false" style="color:red;margin:8px;" closable="true" /> -->
				    					  
				<td   style="background-color:rgb(174,208,234);">
					<h:outputText value="Parameter:" style="font-family:verdana;font-size:12px;font-weight:bold;" /><br></br>
			
				<p:selectOneMenu  value="#{labManageBean.medandGenricmed.lab}"	   style="width:170px;"										
							     required="true" requiredMessage="Select Monitoring Parameter" >
									
										
										<f:selectItem itemLabel="Monitoring Parameter" />  
									
											<f:selectItems value="#{patientMedicineManageBean.psychoPharmMedActionChartMonitoringParameterList}" 
												var="psychoPharmLab" itemLabel="#{psychoPharmLab.monitoringParameter} #{psychoPharmLab.labUnit}"
												itemValue="#{psychoPharmLab.monitoringParameter}"  />
										
									
									
									
										</p:selectOneMenu>
				</td>
				<td   style="background-color:rgb(174,208,234);">
										<h:outputText value="#{msg.drugs}:"
											style="font-family:Verdana;font-size:12px;font-weight:bold;" /><br></br>
											
										

												
						  <p:selectOneMenu value="#{labManageBean.medandGenricmed.medicinename}" 
											style="vertical-align: top;width:170px;"
							             required="true" requiredMessage="Select Drug" 	>
									
										  <f:selectItem itemLabel="#{msg.sedrug}" />  
									
											<f:selectItems value="#{patientMedicineManageBean.psychoPharmMedActionChartDrugNameList}"
												var="psychoPharmMedAction" itemLabel="#{psychoPharmMedAction.drugName}"
												itemValue="#{psychoPharmMedAction.drugName}+ #{psychoPharmMedAction.drugNameId}"  />
									
										</p:selectOneMenu> 
									
				</td>
				  <td   style="background-color:rgb(174,208,234);"><h:outputText
											value="#{msg.time_duration}:"
											style="font-family:Verdana;font-size:12px;font-weight:bold;"/><br></br> 
				
									<p:selectOneMenu
											value="#{labManageBean.chartPeriod}"
											style="font-family:Verdana;width:140px;"
		                                  required="true" requiredMessage="Select Time Duration">
		                                  
								  <f:selectItem itemLabel="#{msg.select_time_duration}"/>  
											<f:selectItem itemLabel="#{msg.one_month}" itemValue="1m" />
											<f:selectItem itemLabel="#{msg.three_month}" itemValue="3m" />
											<f:selectItem itemLabel="#{msg.six_month}" itemValue="6m" />
											<f:selectItem itemLabel="#{msg.one_yr}" itemValue="1y" />
										</p:selectOneMenu>
					</td>
					
										<td align="center" valign="bottom">
										<p:commandButton
											value="#{msg.show_chart}"
												actionListener="#{labManageBean.getPsychoPharmMedActionPlanChartValue}"
									 oncomplete="handleComplete(xhr, status, args)" update="psychoPharmMedChart" ajax="true" 
										style="valign:top;" />
					</td>
					 <td align="center" valign="bottom">
					<p:commandButton value="ShowLab" onclick="psychoPharmMedActionPlanLabData.show()" style="valign:top;"  /></td>
					<td align="center" valign="bottom" width="15%">
					<p:commandButton value="ShowDose" onclick="psychoPharmMedActionPlanDoseDetailData.show()" style="valign:top;"  />
					</td>  
					</tr>
					
					
					<tr>
					<td colspan="7">
					  <table >
          <tr>
           <td >
         
          
     				
     				<script src="http://code.highcharts.com/highcharts.js"></script>
                  <script src="http://code.highcharts.com/modules/exporting.js"></script>

     <div id="container"  style=" height:350px; margin: 0 auto"></div> 
  <script>
//<![CDATA[
function handleComplete(xhr, status, args){
	                          
								$("#container").empty();
								
						        if(args.jsonDataSet !=null)
						        {
								//console.log("data set from bean "+args.jsonDataSet);
								
							 	var dataSetBar=args.jsonDataSet;
							 	
								var barchartDataSet=$.parseJSON(dataSetBar);
								
								
								 $.each(barchartDataSet, function(index, data) {
									// alert(barchartDataSet);
							        });
								
						
								  var dataset=barchartDataSet; 
								
								 var processed_json = new Array();
								 var inr = dataset.Lab;
                               
								 for(var i in inr)
								 {
									
								 var date= inr[i].longStartDate;
								
								 var reslt = inr[i].result;
								  // alert("result "+reslt) 
								  processed_json.push([(date),parseFloat(reslt)]);
								
								 }
								 var processed_json1 = new Array();
								var dose=dataset.Dose;
								for(var j in dose){
									var startDate=dose[j].longStartDate;
									var strength=dose[j].strength;
									 processed_json1.push([(startDate),parseFloat(strength)]);
									
								}
								
    
              
								 
								   var chart, defaultOptions, options;
								   //options.xAxis.categories = [];
						
                                   
							        $('#container').highcharts({
							            chart: {
							                zoomType: 'xy',
							                type: 'line'
							            },
							            title: {
							                text: ' '
							            },
							            subtitle: {
							                text: ' '
							            },
							            xAxis: {
							            	
							            	
						 	            	
						                type: "datetime",  
							              // categories: [processed_json] 
						                
						                   
						                dateTimeLabelFormats: { // don't display the dummy year
						                    month: '%e. %b. %y',
						                   
						                }

						                
						                   
						                
						                  
							            
							          		 
							                 
							            	 
							            },
							            yAxis: [{ // Primary yAxis
							            	showFirstLabel : true,
							                labels: {
							                	min: 0, 
							                    format:'{value}',
							                    style: {
							                        color: '#89A54E'
							                    }
							                },
							                title: {
							                    text: '#{labManageBean.medandGenricmed.medicinenameforgraph} (mg)',
							                    style: {
							                        color: '#89A54E'
							                    }
							                },
							                opposite: true
							               
							            },
							           
							            
							            { // Secondary yAxis
							                title: {
							                    text: '#{labManageBean.medandGenricmed.lab}  #{labManageBean.medandGenricmed.labUnit}',
							                    style: {
							                        color: '#4572A7'
							                    }
							                },
							              
							                    
							                labels: {
							                	min: 0,
							                    format: '{value}',
							                  
							                    style: {
							                        color: '#4572A7'
							                    }
							                
							                },
							               
							                
							            }],
							            tooltip: {
							            	
							            },
							            /*  legend: {
							                layout: 'vertical',
							                align: 'left',
							                x:12,
							                verticalAlign: 'top',
							                y:1,
							                floating: true,
							                backgroundColor: '#FFFFFF'
							            },  */
							            series: [{
							                name: 'Lab Value',
							                color: '#4572A7',
							                type: 'line',
							                yAxis: 1,
							                data: processed_json,
							              
							                tooltip: {
							                    valueSuffix: ''
							                }
							    
							            }, {
							                name: 'Dose',
							                color: '#89A54E',
							                step:true,
							              //  type: 'spline',
							               
							                
							                data: processed_json1,
							               
							          
							                tooltip: {
							                    valueSuffix: ''
							                }

							           
							            
							                
							            }]
							        }); 
							   
}

}
//]]>
							   </script>
     				
     				 
							  </td>
							  </tr>
							  </table> 
							  </td>
							  
					  </tr>
					</table>
					</h:form>
					</td>
					</tr>
							 
							 </table>
							 
							 
							 </td>
							 </tr>
							 </table>
							 
							 <!-- Drug Dose Response Chart End  -->
							 
							 <!-- pop up start for show lab data for drug response chart -->
				
				<p:dialog widgetVar="psychoPharmMedActionPlanLabData" header="#{msg.lab_detail}" appendTo="@(body)" hideEffect="fold" resizable="true" 
					dynamic="true" position="450,70" styleClass="contentPan" closable="true" height="250" width="400" id="labDetailDialogId">
					<p:ajax event="close" update="labDetailDialogId"></p:ajax>
					
					 <p:dataTable value="#{labManageBean.psychPharmMedActionPlanLab}" var="labresult" styleClass="contentArea" scrollHeight="150" emptyMessage="#{msg.noMedFound}">
					 
					 
					  <p:column styleClass="contentPan">
					   <f:facet name="header">
                                <h:outputText value="#{msg.lab_date}"/>
                                                    </f:facet>
					   <h:outputText value="#{labresult.dateResult}">
					 <f:convertDateTime pattern="#{msg.dateFormat}"  timeZone="#{userManageBean.loggedUsertimeZone}"  dateStyle="full" type="date"/> 
					   </h:outputText>
					  </p:column>
					  
					  <p:column styleClass="contentPan">
					   <f:facet name="header">
                                <h:outputText value="#{msg.lab_result}"/>
                                                    </f:facet>
					   <h:outputText value="#{labresult.result}"> 
					   </h:outputText>
					  </p:column>
					 </p:dataTable>
				 
					</p:dialog>
				<!-- pop up end for show lab data for drug response chart -->
				
				<!-- pop up start for show drug dose for drug response chart -->
				
				<p:dialog widgetVar="psychoPharmMedActionPlanDoseDetailData" header="#{msg.dose_detail}"  appendTo="@(body)" hideEffect="fold" resizable="true" 
					dynamic="true" position="450,70" styleClass="contentPan" closable="true" height="250" width="400" id="doseDetailDialogId">
					
						<p:ajax event="close" update="doseDetailDialogId" />
					
					 <p:dataTable value="#{labManageBean.medicineDetailForGraphList}" var="doseresult" styleClass="contentArea" scrollHeight="150" emptyMessage="#{msg.noMedFound}">
					  
					  <p:column styleClass="contentPan">
					  <f:facet name="header">
                                <h:outputText value="#{msg.date}"/>
                                                    </f:facet>
					   <h:outputText value="#{doseresult.startDate}">
					 <f:convertDateTime pattern="#{msg.dateFormat}"  dateStyle="full" type="date"/> 
					   </h:outputText>
					  </p:column>
					  
					  <p:column styleClass="contentPan">
					  <f:facet name="header">
                                <h:outputText value="#{msg.directions}"/>
                                                    </f:facet>
					   <h:outputText value="#{doseresult.direction}">
					   </h:outputText>
					  </p:column>
					  
					  <p:column styleClass="contentPan">
					  <f:facet name="header">
                                <h:outputText value="#{msg.direction_value}"/>
                                                    </f:facet>
					   <h:outputText value="#{doseresult.directionvalue}">
					   </h:outputText>
					  </p:column>
					  
					  <p:column styleClass="contentPan">
					  <f:facet name="header">
                                <h:outputText value="#{msg.dose}"/>
                                                    </f:facet>
					   <h:outputText value="#{doseresult.dose}">
					   </h:outputText>
					  </p:column>
					  
					  <p:column styleClass="contentPan">
					   <f:facet name="header">
                                <h:outputText value="#{msg.result}"/>
                                                    </f:facet>
					   <h:outputText value="#{doseresult.directionvalue}*#{doseresult.dose}="> 
					   </h:outputText>
					   <h:outputText value="#{doseresult.strength}">
					   </h:outputText>
					  </p:column>
					 </p:dataTable>
				 
					</p:dialog>
				<!-- pop up end for show drug dose for drug response chart -->
				<!-- ******************************** pop up start for general med action plan............................ -->
				<!-- <p:dialog id="editMedActionPlanDialogId"
					widgetVar="editGenericMedicalActionPlan" 
					resizable="true" appendTo="@(body)" modal="true" dynamic="true"
					closable="false">
					<p:ajax event="close" update="editMedActionPlanDialogId" />
					<h:form id="editGenericMedPlanFormId" prependId="false">
						<h:outputText value="#{patientMedicineManageBean.genericMedActionPlan.drugName} 
					#{patientMedicineManageBean.genericMedActionPlan.strength} 
					#{patientMedicineManageBean.genericMedActionPlan.regimen}"/>
						<table width="100%" style="border:1px solid;" >
							<tr style="border:1px solid;">
								<td>
								<h:outputText value="#{msg.monitoring_parameter_label}" />
								</td>
								
								
								<td align="center">
								<h:outputText value="#{msg.goal}" />
								</td>
								
								<td >
								<h:outputText value="#{msg.frequency_no}" />
								</td>
								<td align="center">
								 <h:outputText value="#{msg.frequency_unit}"></h:outputText>
								</td>
								 <td>
							 <h:outputText value="#{msg.dosing_start_date}"/>
							</td> 
								<td  align="center">
								<h:outputText value="#{msg.alert_level_label}" />
							</td>
							
							</tr>
							<tr style="border:1px solid;">						
								<td>
								<h:outputText value="#{patientMedicineManageBean.genericMedActionPlan.parameterShortName}" />
								</td>
								  <td style="border:none;">
									<table>
									<tr>
									<td>
									<p:selectOneMenu value="#{patientMedicineManageBean.genericMedActionPlan.goalRangeSymbol}">
									<f:selectItems value="#{patientMedicineManageBean.alertSymbolsList}" var="goalRange" itemLabel="#{goalRange.key}"
									itemValue="#{goalRange.value}"/>
									</p:selectOneMenu>
									</td>
									<td>
									<p:inputText value="#{patientMedicineManageBean.genericMedActionPlan.goalRangeValue}" size="2"></p:inputText>
									</td>
									<td>
									<h:outputText value="#{msg.or_label}" />
									</td>
									<td>
									   <p:selectOneMenu value="#{patientMedicineManageBean.genericMedActionPlan.goalRangeEndSymbol}">
												<f:selectItems
													value="#{patientMedicineManageBean.alertSymbolsList}"
													var="goalRangeEndObj" itemLabel="#{goalRangeEndObj.key}"
													itemValue="#{goalRangeEndObj.value}" />
										</p:selectOneMenu>
									</td>
									<td>
									   <p:inputText value="#{patientMedicineManageBean.genericMedActionPlan.goalRangeEndValue}" size="2"></p:inputText>
									</td>
									</tr>
									</table>
								</td>
								<td>
								<p:selectOneMenu value="#{patientMedicineManageBean.genericMedActionPlan.frequencyNo}" style="width:50px;">
									<f:selectItems value="#{patientMedicineManageBean.frequencyNoList}" var="frequencyNo" itemLabel="#{frequencyNo.key}"
									itemValue="#{frequencyNo.value}"/>
									</p:selectOneMenu>
								</td>							 
								<td>
								  <p:selectOneMenu value="#{patientMedicineManageBean.genericMedActionPlan.frequencyUnit}"  >
									<f:selectItems value="#{patientMedicineManageBean.frequencyList}" var="frequencyRange" itemLabel="#{frequencyRange.key}"
									itemValue="#{frequencyRange.value}"/>
									</p:selectOneMenu> 
								</td>
								<td >
													<p:calendar value="#{patientMedicineManageBean.genericMedActionPlan.dosingStartDate}"></p:calendar>
													</td>
								
									<td style="border:none;">
<table>
										<tr>
											<td><h:graphicImage value="./../../Images/red1.jpg"
													height="15px" width="20px" /></td>
											<td><p:selectOneMenu
													value="#{patientMedicineManageBean.genericMedActionPlan.alertSevereLowRangeSymbol}">
													<f:selectItems
														value="#{patientMedicineManageBean.alertSymbolsList}"
														var="symSevereLowRange"
														itemLabel="#{symSevereLowRange.key}"
														itemValue="#{symSevereLowRange.value}" />
												</p:selectOneMenu></td>
											<td><p:inputText
													value="#{patientMedicineManageBean.genericMedActionPlan.alertSevereLowRangeValue}"
													size="2"></p:inputText></td>
											<td><h:outputText value="#{msg.or_label}" /></td>
											<td><p:selectOneMenu
													value="#{patientMedicineManageBean.genericMedActionPlan.alertSevereHighRangeSymbol}">
													<f:selectItems
														value="#{patientMedicineManageBean.alertSymbolsList}"
														var="symSevereHighRange"
														itemLabel="#{symSevereHighRange.key}"
														itemValue="#{symSevereHighRange.value}" />
												</p:selectOneMenu></td>
											<td><p:inputText
													value="#{patientMedicineManageBean.genericMedActionPlan.alertSevereHighRangeValue}"
													size="2"></p:inputText></td>
													
													
										
										</tr>
										<tr>
											<td><h:graphicImage value="./../../Images/orange1.jpg"
													height="15px" width="20px" /></td>
											<td><p:selectOneMenu
													value="#{patientMedicineManageBean.genericMedActionPlan.alertMediumLowRangeSymbol}">
													<f:selectItems
														value="#{patientMedicineManageBean.alertSymbolsList}"
														var="symMediumLowRange"
														itemLabel="#{symMediumLowRange.key}"
														itemValue="#{symMediumLowRange.value}" />
												</p:selectOneMenu></td>
											<td><p:inputText
													value="#{patientMedicineManageBean.genericMedActionPlan.alertMediumLowRangeValue}"
													size="2"></p:inputText></td>
											<td><h:outputText value="#{msg.or_label}" /></td>
											<td><p:selectOneMenu
													value="#{patientMedicineManageBean.genericMedActionPlan.alertMediumHighRangeSymbol}">
													<f:selectItems
														value="#{patientMedicineManageBean.alertSymbolsList}"
														var="symMediumHighRange"
														itemLabel="#{symMediumHighRange.key}"
														itemValue="#{symMediumHighRange.value}" />
												</p:selectOneMenu></td>
											<td><p:inputText
													value="#{patientMedicineManageBean.genericMedActionPlan.alertMediumHighRangeValue}"
													size="2"></p:inputText></td>
													
										</tr>
									
										
									</table>


								</td>
							
							</tr>

						</table>
						<table align="center">
						<tr>
						<td>
							 <p:commandButton value="#{msg.cancel}"
										onclick="editGenericMedicalActionPlan.hide()"
										update=":editMedActionPlanDialogId"></p:commandButton> 
						</td>
						<td>
					
										<p:commandButton value="#{msg.done}"
										action="#{patientMedicineManageBean.updateGenericMedActionPlan}"
										oncomplete="editGenericMedicalActionPlan.hide()" update=":psychopharmFormMedPlansId:psychoPharmDataTableId"
										></p:commandButton>
						</td>
						</tr>
						</table>
					</h:form>
				</p:dialog> -->
				<!-- ******************************** pop up End for general med action plan............................ -->
				<p:dialog widgetVar="deleteDlgGenericMedActionPlan" id="deleteDialogGenericMedAction"
					header="Are you Sure you want to delete?"
					message="Are you Sure you want to delete?" width="260"
					closable="false" modal="true" appendTo="@(body)"  dynamic="true">
					<p:ajax event="close" update="deleteDialogGenericMedAction" />
					<h:form id="deleteGenericMedActionPlanFormId" prependId="false">
					 <h:panelGroup layout="block" style="text-align: center"> 
						<p:commandButton value="Yes" 
							actionListener="#{patientMedicineManageBean.deleteGenericMedActionPlan}"
							oncomplete="deleteDlgGenericMedActionPlan.hide();"
							 update=":psychopharmFormMedPlansId:psychoPharmDataTableId"/>
						<p:commandButton value="No" oncomplete="deleteDlgGenericMedActionPlan.hide();" />
					 </h:panelGroup> 
					</h:form>
				</p:dialog>
				
				<p:dialog id="searchMedicinePsychopharmPopUpId" widgetVar="searchMedicinePopUp"  appendTo="@(body)"
					resizable="true" header="#{msg.medicinelist}"  modal="true"  height="320" width="460" 
	 				 dynamic="true" closable="true" >
	 		<h:form id="searchMedicinePopUpFormId">
	 			<p:messages  showDetail="false" style="color:#FF0000;margin:8px;"  closable="true"/>
	 			<table>
	 				<tr>
	 					<td>
	 						<p:inputText value="#{patientMedicineManageBean.patientMedicationData.drugs}"  id="medNameForSearch" 
	 							required="true"  requiredMessage="Please Enter Medicine Name">
	 						
	 						
	 							<p:ajax update="medNameForSearch"></p:ajax>
	 						</p:inputText>
	 						<p:watermark value="#{msg.medicineName}" for="medNameForSearch"></p:watermark>
	 					</td>
	 					<td>
	 						<div class="btnBoxDiv">
	 						 <p:commandButton value="Search" actionListener="#{patientMedicineManageBean.searchMedicine1}" update="searchMedicinePopUpFormId"></p:commandButton>
	 						</div>
	 					</td>
	 				</tr>
	 			</table>
	 			
	 			<p:dataTable value="#{patientMedicineManageBean.webservicesDrugList}" var="searchMeds" 
	 					 scrollable="true" scrollHeight="220" emptyMessage="#{msg.noMedFound}">
	 			
	 			<p:column>
					<f:facet name="header">
						<h:outputText value="Drug" />
					</f:facet>
					
					 <p:commandLink  action="#{patientMedicineManageBean.selectedSearchMedsForPsychopharm}"   style="text-decoration:underline;"  >
							<h:outputText value="#{searchMeds.drugName}" >
							
							</h:outputText>
							<f:setPropertyActionListener target="#{patientMedicineManageBean.selectedMedObj}" value="#{searchMeds}"></f:setPropertyActionListener>
					</p:commandLink> 
				</p:column>
	 			<p:column>
					<f:facet name="header">
						<h:outputText value="Generic Name" />
					</f:facet>
					
							<h:outputText value="#{searchMeds.genericName}" >
							
							</h:outputText>
					
				</p:column>
	 			 <p:column >
					<f:facet name="header">
						<h:outputText value="Dosage Form" />
					</f:facet>
					<h:outputText value="#{searchMeds.dosageForm}" />
				</p:column> 
	 			</p:dataTable>
	 		
	 		</h:form>
		
		
		</p:dialog>
		
	<!--************************** pop up start  for editing medcine  in med action plann##############  -->

<p:dialog widgetVar="editMedicalActionPlan" resizable="true"
	header="Medication Action Plan" appendTo="@(body)" modal="true" 
	dynamic="true" closable="false" position="400,420" >


<h:form id="medactionPlanFormId1">
	 <h:messages  id="messageUpdateForMedActionPlan1" showDetail="true" style="color:red;margin:8px;" /> 
		<table>
			<tr>
				<td><h:outputText value="#{msg.med}:" style="font-weight:bold;"/>
			<!-- 	<h:outputText value="*" styleClass="mandatoryField"/>	 -->
				</td>
				<td><h:outputText
						value="#{patientMedicineManageBean.medActionPlan.medicineName}"
						 style="width:120px;"/>
				</td>
				<td></td>
				<td><h:outputText value="#{msg.diagonsis}:" style="font-weight:bold;"/>
				<!-- <h:outputText value="*" styleClass="mandatoryField"/>		 -->		
				</td>
				<td >
				
				<h:outputText value="#{patientMedicineManageBean.medActionPlan.diagnosis}"  />
				</td>
		</tr>

			<tr>
				<td ><h:outputText value="#{msg.dose}:" style="font-weight:bold;"/>
				<!-- <h:outputText value="*" styleClass="mandatoryField"/>	 -->
			</td>
			<td>
			<!-- <p:selectOneMenu 
										value="#{patientMedicineManageBean.patientMedicationData.strengths}"
										style="width:122px;">
										<f:selectItem
											itemLabel="#{patientMedicineManageBean.patientMedicationData.directions}"
											itemValue="#{patientMedicineManageBean.patientMedicationData.directions}" />
										<f:selectItems value="#{patientMedicineManageBean.doseDetailList}"
											var="doseList" itemLabel="#{doseList.dose}" itemValue="#{doseList.dose}" />
									</p:selectOneMenu> -->
					<h:outputText value="#{patientMedicineManageBean.medActionPlan.dose}" /> 
					<!-- <p:commandLink actionListener="#{patientMedicineManageBean.findWarfarinDoseCalculator}" rendered="#{patientMedicineManageBean.patientMedicationData.drugs eq 'Warfarin' || patientMedicineManageBean.patientMedicationData.drugs eq 'warfarin'}"
						immediate="true" oncomplete="warfarinDoseCalculator.show()">
						<p:graphicImage value="../../Images/doseCal.jpg"  style="width:34px;height:34px;"/>
						<f:param value="#{dashBoardManageBean.userLoginDetail.age}" name="patientAge"></f:param>
						
      				</p:commandLink> -->
					
				</td>
				
				<td>
					 
      				
      				</td>
      				
      				<td><h:outputText value="#{msg.lab}:" style="font-weight:bold;"/>
      					<!-- <h:outputText value="*" styleClass="mandatoryField"/> -->	
      				</td>
				   <td>
				   <h:outputText value="#{patientMedicineManageBean.medActionPlan.lab}"  />
				  <!--  <p:selectOneMenu id="selectedLab" 
						value="#{patientMedicineManageBean.medActionPlan.lab}"
						style="width:122px;">
						<f:selectItem itemLabel="#{patientMedicineManageBean.medActionPlan.lab}" itemValue="#{patientMedicineManageBean.medActionPlan.lab}" />
						<f:selectItems
							value="#{patientMedicineManageBean.clinicDiagnosisLabList}"
							var="clinickab" itemLabel="#{clinickab.labName}"
							itemValue="#{clinickab.labName}" />
						<p:ajax listener="#{patientMedicineManageBean.changeLab}" 56873
							 update="selectedLabRange" process="@this" />
					</p:selectOneMenu> -->
				</td>
				
				<!--<td>
		 	 	 				<h:outputText value="Weight" style="font-weight:bold;"/>
		 	 	 				<h:outputText value="*" styleClass="mandatoryField"/>
								    
							</td>
							
							 <td>
						        <p:inputText id="simpleWeight" style="width:50px;" value="#{patientMedicineManageBean.calculateCreatimineClearance.simpleWeight}" >
						        <p:ajax update="simpleWeight ,patWeight" listener="#{patientMedicineManageBean.changeWeightUnit}" process="@this,weightUnitId"></p:ajax>
						         </p:inputText>
						       </td>
       
       
						       <td> 
						        <p:selectOneMenu style="width:50px;" id="weightUnitId"
						           value="#{patientMedicineManageBean.calculateCreatimineClearance.findWeightUnit}">
						           
						           <f:selectItem itemLabel="Lbs" itemValue="Lbs" />
						           <f:selectItem itemLabel="Kg"  itemValue="Kg"/>
						          
						          
						        <p:ajax update="patWeight" listener="#{patientMedicineManageBean.changeWeightUnit}" process="@this,simpleWeight">
						        </p:ajax>
						       </p:selectOneMenu> </td> 
						       <td>
						       <h:outputText style="width:50px; font-weight:bold; " id="patWeight" value="#{patientMedicineManageBean.calculateCreatimineClearance.weight}" /> 
						       </td> -->
			</tr>
			</table>
			
			<table>
			<tr>
				<td><h:outputText value="#{msg.acceptablerange}:" style="font-weight:bold;"/><h:outputText value="*" styleClass="mandatoryField"/>	</td>
				<td>
				<!-- <p:inputText value="#{patientMedicineManageBean.medActionPlan.acceptableRange}"/> -->
				<h:outputText value="Low" style="font-weight:bold;"/>&nbsp;
				<p:inputText value="#{patientMedicineManageBean.medActionPlan.lowAcceptableRange}" style="width:35px;"/>&nbsp;
				<h:outputText value="High" style="font-weight:bold;"/>&nbsp;
				<p:inputText value="#{patientMedicineManageBean.medActionPlan.highAcceptableRange}" style="width:35px;"/>
				
				
				<!-- <p:selectOneMenu id="selectedLabRange"  
						value="#{patientMedicineManageBean.medActionPlan.acceptableRange}"
						style="width:122px;">
						<f:selectItem itemLabel="#{patientMedicineManageBean.medActionPlan.acceptableRange}" itemValue="#{patientMedicineManageBean.medActionPlan.acceptableRange}" />
						<f:selectItems
							value="#{patientMedicineManageBean.clinicDiagnosisLabDetailList}"
							var="clinicDetail" itemLabel="#{clinicDetail}"
							itemValue="#{clinicDetail}" />
					</p:selectOneMenu> -->
				</td>
				<td></td>
				<td><h:outputText value="#{msg.labfrequency}:" style="font-weight:bold;"/><h:outputText value="*" styleClass="mandatoryField"/>	</td>
				<td><p:selectOneMenu required="true" requiredMessage="Please select lab frequency"
						value="#{patientMedicineManageBean.medActionPlan.labFrequency}"
						style="width:122px;">
						<!-- <f:selectItem itemLabel="#{patientMedicineManageBean.medActionPlan.labFrequency}" itemValue="#{patientMedicineManageBean.medActionPlan.labFrequency}" /> -->
						<!-- <f:selectItems
							value="#{patientMedicineManageBean.labFrequencyListForQuickPrescribe}"
							var="labFreq" itemLabel="#{labFreq}" itemValue="#{labFreq}" /> -->
							<f:selectItems
									value="#{patientMedicineManageBean.labFrequencyList}"
									var="labFreq" itemLabel="#{labFreq}" itemValue="#{labFreq}" />

					</p:selectOneMenu>
				</td>
			
			</tr>
			</table>
			
			<table>

			<tr>
				<td><h:outputText value="#{msg.regimen}:" style="font-weight:bold;"/>
				<!-- <h:outputText value="*" styleClass="mandatoryField"/>	 --></td>
				<td>
				<h:outputText value="#{patientMedicineManageBean.medActionPlan.regimen}"/>
				<!-- <p:selectOneMenu 
						value="#{patientMedicineManageBean.medActionPlan.regimen}"
						style="width:122px;">
						<f:selectItem
							itemLabel="#{patientMedicineManageBean.patientMedicationData.directions}"
							itemValue="#{patientMedicineManageBean.patientMedicationData.directions}" />
						<f:selectItems value="#{patientMedicineManageBean.regimenList}"
							var="regimen" itemLabel="#{regimen}" itemValue="#{regimen}" />
					</p:selectOneMenu> -->
				</td>
				<td>
					<h:outputText value="#{msg.dosing_start_date}: " style="font-weight:bold;"></h:outputText>
				</td>
				<td>
					<p:calendar value="#{patientMedicineManageBean.medActionPlan.dosingStartDate}" 
					valueChangeListener="#{patientMedicineManageBean.changeDateToUtc}" id="cal_date"></p:calendar>
				</td>
				<td>
											<h:outputText value="Phase: " styleClass="outputtext"/>
										</td>
	 	 	  			<td>
	 	 	  								<p:selectOneMenu id="labdetailId"
															value="#{patientMedicineManageBean.medActionPlan.medicineStage}" style="width:180px;">
														<f:selectItem
															itemLabel="Initiation" itemValue="Initiation" />
														<f:selectItem
															itemLabel="Maintenance" itemValue="Maintenance" />
											<p:ajax listener="#{patientMedicineManageBean.changeStageOfAnticoagMeds}" update="@form"/>
												</p:selectOneMenu>
	 	 	  			</td>
				
			</tr>
			
			</table>
			<br/>
			<table align="right" width="98%">
			<tr>
			<td></td>
			
				<td align="right">
				<p:commandButton value="#{msg.cancel}" action="#{patientMedicineManageBean.submitCancelButtonForAnticoag}" immediate="true"
						></p:commandButton>
				
				<p:commandButton value="#{msg.done}"
						action="#{patientMedicineManageBean.updateMedActionPlan}" oncomplete="editMedicalActionPlan.hide()" ajax="false"
						
						update="messageUpdateForMedActionPlan1,:beforeMEdActionPlanDataTableFormId:planListId,:curntMed,:messageSection"
	  									></p:commandButton>
				</td>
			</tr>

		</table>



	</h:form>
</p:dialog>

<!-- End edit med action plan pop up in anticoag clinic.****************************************************************8 -->

<!-- ******************88for Add new medicine For pop up end anticoag meds by gopal.......................>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> -->


<!-- ******************88for Edit Anticoag medicine  pop up started  by gopal.......................>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> -->

<!-- <p:dialog id="editNewMedicinePopupID" widgetVar="editAnticoagMedicinePopup"
	resizable="false" header="#{msg.editmedicine}" appendTo="@(body)" modal="true"  height="100" width="400" 
	  dynamic="true" closable="false" position="400,380">

<p:growl id="growl" showDetail="true" life="4000" />  
	<h:form id="editmedactionPlan1">
	 <h:messages  id="editmessageUpdate" showDetail="false" style="color:red;margin:8px;" /> 
		<table>
			<tr>
				<td><h:outputText value="#{msg.med}" /></td>
				<td><p:inputText
						value="#{patientMedicineManageBean.patientMedicationData.drugs}" readonly="true">
					</p:inputText> 
					
					
					
					
				</td>
				
				<td><h:outputText value="Regimen" /></td>
				<td>
				
				 <p:inputText
						value="#{patientMedicineManageBean.patientMedicationData.directions}">
					</p:inputText>  
					
				<p:selectOneMenu required="true" requiredMessage="Please Select Regimen"
										value="#{patientMedicineManageBean.patientMedicationData.directions}"
										style="width:122px;">
										<f:selectItem itemValue="" itemLabel=""></f:selectItem>
										<f:selectItem
											itemLabel="#{patientMedicineManageBean.patientMedicationData.directions}"
											itemValue="#{patientMedicineManageBean.patientMedicationData.directions}" />
										<f:selectItems value="#{patientMedicineManageBean.regimenList}"
											var="regimen" itemLabel="#{regimen}" itemValue="#{regimen}" />
											
											<p:ajax listener="#{patientMedicineManageBean.calculateTotalDispence}" update="dispenceNumber"></p:ajax>	
									</p:selectOneMenu>
				</td>
			</tr>
				
			
			<tr>
				<td><h:outputText value="Dose" /></td>
				<td><p:selectOneMenu 
										value="#{patientMedicineManageBean.patientMedicationData.strengths}"
										style="width:122px;">
										<f:selectItem
											itemLabel="#{patientMedicineManageBean.patientMedicationData.directions}"
											itemValue="#{patientMedicineManageBean.patientMedicationData.directions}" />
										<f:selectItems value="#{patientMedicineManageBean.doseDetailList}"
											var="doseList" itemLabel="#{doseList.dose}" itemValue="#{doseList.dose}" />
											<p:ajax listener="#{patientMedicineManageBean.findParticularDrugId}" ></p:ajax>	
									</p:selectOneMenu>
				
				<h:inputText
						value="#{patientMedicineManageBean.patientMedicationData.strengths}">
					</h:inputText> 
				</td>
				<td><h:outputText value="Quantity" /></td>
				<td>
				
				<p:inputText
						value="#{patientMedicineManageBean.patientMedicationData.quantity}">
					</p:inputText> 
					
					
					<p:inputText id="dispenceNumber" style="width:50px;" converter="#{Integer}" maxlength="3"  
															value="#{patientMedicineManageBean.patientMedicationData.quantity}" >
													<f:convertNumber  pattern="#,###" integerOnly="true"  minFractionDigits="3" maxIntegerDigits="3" type="number"/>
												</p:inputText>
				</td>
			</tr>
			
			
			
				
			
			<tr>
				<td></td>
				<td>
					<p:commandButton value="Submit" action="#{patientMedicineManageBean.editMedicineForAnticoag}" update="editmessageUpdate"/>
				</td>
				
				<td align="left">
					<p:commandButton value="#{msg.cancel}" action="#{patientMedicineManageBean.submitCancelButtonForAnticoag}" immediate="true"></p:commandButton>
				</td>
				<td></td>
			</tr>

		</table>

	</h:form>
</p:dialog> -->
<!-- ******************88for Add new medicine For pop up end anticoag meds by gopal.......................>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> -->





<!-- ******************88for Add new medicine For only anticoag Tabs by gopal.......................>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> -->


<p:dialog id="addNewMedicinePopupID"  widgetVar="addNewMedicinePopup"
	resizable="false" header="#{msg.addNewMedicine}" appendTo="@(body)" modal="true"  height="150" width="567" 
	  dynamic="true" closable="false" position="500,400">

<!-- <p:growl id="growl" showDetail="true" life="4000" />   -->
	<h:form id="newmedactionPlan2">
	 <p:messages  id="messageUpdate2" showDetail="false" style="color:red;margin:8px;"  closable="true" /> 
	 <h:outputText value="#{msg.thismedicine_patientactivemedicine}" styleClass="mandatoryField" rendered="#{patientMedicineManageBean.showMessageForNewAddMeds}"/>
		<table width="100%">
			<tr>
				<td><h:outputText value="#{msg.med}" />
					 <h:outputText value="*" styleClass="mandatoryField"/>
				</td>
				<td><p:inputText readonly="true"
						value="#{patientMedicineManageBean.patientMedicationData.drugs}" id="medicinename" required="true" requiredMessage="Please insert medicine">
						 <p:ajax update="medicinename"></p:ajax>
					  <!-- <p:ajax
							listener="#{patientMedicineManageBean.checkStartDateMedicine}"
							update="newmedactionPlan2">
					 </p:ajax>  -->
					 </p:inputText> 
					 <p:commandButton value="Search" actionListener="#{patientMedicineManageBean.searchMedicine}" update=":searchMedicinePopUpId" 
					immediate="true"></p:commandButton>
					
				</td>
				<td>
				 <h:outputText value="Start Date" />
				  <h:outputText value="*" styleClass="mandatoryField"/>
				</td>
				<td>
					<p:calendar pattern="MM/dd/yyyy"  showOn="button" navigator="true" yearRange="c-100:c+1"
							value="#{patientMedicineManageBean.patientMedicationData.startDate}" 
							onfocus="$('#queryForm\\:msgs > div').hide();$('#queryForm\\:msgs > div').eq(1).show();$(this).mask('99/99/9999');return false;" 
							required="true" requiredMessage="Please insert start date">
						</p:calendar>
				</td>
				
			</tr></table>
			<br/><br/>
			<table width="93%">
				<tr>
					<td >
						<p:commandButton value="#{msg.cancel}" action="#{patientMedicineManageBean.submitCancelButtonForAnticoag}" immediate="true"
						></p:commandButton>
						
								</td>		
						<td>				
						<p:commandButton value="Quick Prescribe" actionListener="#{patientMedicineManageBean.afterAddNewMedicineGoToMedActionPlan}"
						    oncomplete="medicationActionPlan.show();" rendered="#{patientMedicineManageBean.showTabForAnticoagMeds}"/>

						<!-- <p:ajax update=":accordingPanelID:planListId" process="@form"  ></p:ajax> -->
				
					
					</td>
				<td>
				
				<p:commandButton value="Dosing Guideline Wizard" action="#{patientMedicineManageBean.afterAddNewMedicine1}" 
					update=":warfarinheaderIdValue,:DabigatranHeader,:ApixabanHeader,:RivaroxabanHeader,:FondaparinuxHeader,:DesirudinHeader,:dalteparinHeader,:EnoxaparinHeader"
					rendered="#{patientMedicineManageBean.showTabForAnticoagMeds}"/>
				</td>
				
				<td align="right">
					<p:commandButton value="Next" action="#{patientMedicineManageBean.afterAddNewMedicine1}" update="messageUpdate2,:generalMedicineHeader" disabled="#{patientMedicineManageBean.patientMedicationData.drugs.isEmpty()}"
										rendered="#{!patientMedicineManageBean.showTabForAnticoagMeds}"/>
				</td>
			</tr>

		</table>

	</h:form>
</p:dialog>
<!-- ******************88for Add new medicine For pop up end anticoag meds by gopal.......................>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> -->

<!-- ******************88for Add new medicine For pop up end anticoag meds by gopal.......................>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> -->

<!-- - pop up for warfarin medicine for anticoage clinic..... -->
	<p:dialog id="WarfarinPopUpID" widgetVar="WarfarinPopUp"
	    resizable="true"  appendTo="@(body)" modal="true" height="460" width="70%"
	    dynamic="true" closable="false" position="260,160">
	     <f:facet name="header">
      		<h:outputText id="warfarinheaderIdValue" value="#{patientMedicineManageBean.patientMedicationData.drugs}" />
   		</f:facet>
	 <h:form id="WarfarinPopUpFormId">
	 
	 <table  width="100%" border="0"><tr><td width="92%" valign="top">
	 	 <p:wizard flowListener="#{patientMedicineManageBean.onFlowProcessForwarfarin}">  
	 	 	
	 	 	 <p:tab id="step1" title="Step 1" titleStyleClass="popupStepFont">  
	 	 	 
	 	 	 <p:outputPanel>
				 	   <h:panelGrid columns="3">
							<h:outputText value="#{msg.diagnoses}" /><h:outputText value="*" styleClass="mandatoryField"/>	
							<p:selectOneMenu required="true" requiredMessage="Please select diagnosis" style="width:350px;"
							          value="#{patientMedicineManageBean.medActionPlan.diagnosis}">
							<f:selectItem itemLabel="Select One" itemValue="" />
							<!-- <f:selectItems value="#{patientMedicineManageBean.clinicDiagnosisList}" var="clinick" itemLabel="{clinick}" itemValue="{clinick}"/> -->
							<f:selectItems id="diagnosisListId"
								value="#{patientMedicineManageBean.clinicDiagnosisList}"
								var="clinick" itemLabel="#{clinick.diagnosisName}"
								itemValue="#{clinick.diagnosisName}" />
								
						<p:ajax
							listener="#{patientMedicineManageBean.changediagnosisForSubdiagnosis}"
							></p:ajax>
						</p:selectOneMenu>
				
				 	</h:panelGrid>
				 </p:outputPanel>
	 	 	 </p:tab>
	 	 	 
	 	 	 <p:tab id="Step2" title="Step 2" titleStyleClass="popupStepFont">  
	 	 	 		
	 	 	 		
	 	 	 		<!--    <h:panelGrid columns="2" border="3"> -->
	 	 	 		<h:outputText value="#{msg.diagnosis}:" style="font-weight:bold;"/><h:outputText value="#{patientMedicineManageBean.medActionPlan.diagnosis}" /><br/>
	 	 	 		
	 	 	 		<p:outputPanel id="chadsOutputPanelId" rendered="#{patientMedicineManageBean.medActionPlan.diagnosis eq 'Atrial fibrillation (non-valvular/non-rheumatic)'}" >
	 	 	 		<h:outputText value="Calculate CHAD Score:" style="font-weight:bold;"/><br/>
	 	 	 		<table>
	 	 	 			<tr>
	 	 	 			<td>
	 	 	 			
	 	 	 			
							     <h:panelGrid columns="6" >
							     	  <h:selectBooleanCheckbox value="#{patientMedicineManageBean.chadsScore.heartFailure}"  class="checkall">
							     	  		<p:ajax listener="#{patientMedicineManageBean.submitChadsScore}"  update="chadScoreValue"/>
							     	  </h:selectBooleanCheckbox>
								  	  <h:outputText value="Congestive Heart Failure " />  
								     
								     <h:selectBooleanCheckbox  value="#{patientMedicineManageBean.chadsScore.hyperTension}" class="checkall">
								     	<p:ajax listener="#{patientMedicineManageBean.submitChadsScore}" update="chadScoreValue" />
								     </h:selectBooleanCheckbox>
								     <h:outputText value="Hypertension" />   
								  	 
								  	  <h:selectBooleanCheckbox value="#{patientMedicineManageBean.chadsScore.age}" class="checkall">
								  	  		<p:ajax listener="#{patientMedicineManageBean.submitChadsScore}"  update="chadScoreValue"/>
								  	  </h:selectBooleanCheckbox>
								  	 <h:outputText value="Age &gt; or = 75 " />  
								  	 
								  	 <h:selectBooleanCheckbox value="#{patientMedicineManageBean.chadsScore.diabetes}" class="checkall">
								  	 		<p:ajax listener="#{patientMedicineManageBean.submitChadsScore}"  update="chadScoreValue"/>
								  	 </h:selectBooleanCheckbox>
								  	 <h:outputText value="Diabetes " />  
								  	 
								  	 <h:selectBooleanCheckbox value="#{patientMedicineManageBean.chadsScore.stroke}" class="checkall">
								  	 		<p:ajax listener="#{patientMedicineManageBean.submitChadsScore}"  update="chadScoreValue"/>
								  	 </h:selectBooleanCheckbox>		
								  	 <h:outputText value="Secondary prevention in  &lt;br /&gt; patients with prior ischemic stroke, &lt;br /&gt; TIA, or systemic thromboembolic event" escape="false" />  
								  	 
								  	 <!--  <h:selectBooleanCheckbox value="#{patientMedicineManageBean.chadsScore.stroke}" disabled="#{!patientMedicineManageBean.showChadTab}"/>
								  	 <h:outputText value="Congestive Heart Failure " />   -->
								  	</h:panelGrid>
								  	</td>
								  	
	 	 	 			</tr>
	 	 	 			
	 	 	 			<tr>
	 	 	 				<td>
								   <!--  <p:commandButton value="Submit CHAD score" actionListener="#{patientMedicineManageBean.submitChadsScore}" 
								  		update="chadScoreValue"></p:commandButton> -->
								  	&nbsp;&nbsp;
								  	<h:outputText value="Chad Score=#{patientMedicineManageBean.chadsScore.score}" style="font-size: 12px;font-weight: bold;" id="chadScoreValue"/>
								  		
								  
							  </td>
	 	 	 			</tr>
	 	 	 			
	 	 	 		</table>
	 	 	 		</p:outputPanel>
	 	 	 		<h:outputText value="Subdiagnosis:" style="font-weight:bold;"/>
	 	 	 		<p:selectOneRadio  value="#{patientMedicineManageBean.subDiagnosisDetail}"
													            layout="pageDirection">  
						<f:selectItems id="subdiagnosisListId"
								value="#{patientMedicineManageBean.clinicSubDiagnosisList}"
								var="clinicSubDiagnosis" itemLabel="#{clinicSubDiagnosis.subDiagnosisName}"
								itemValue="#{clinicSubDiagnosis.subDiagnosisName}" />
								
					</p:selectOneRadio>  
						  
	 	 	   </p:tab>
	 	 	 
	 	 	 <p:tab id="Step3" title="Step 3" titleStyleClass="popupStepFont"> 
	 	 	 
	 	 	 
	 	 	 <p:outputPanel deferred="true" deferredMode="visible" rendered="#{patientMedicineManageBean.pharmacogenomicInteractionDetailList.size() ge 1}">
						
							
							<table>	
							<tr>
							
							<td><h:outputText value="Pharmacogenomics:"  style="font-weight:bold;color:red;"/></td>
								<td>
									
										<p:commandLink id="grow3"   style="text-decoration:underline;" onmouseover="showDetails3.show();">
											<h:outputText value="#{patientMedicineManageBean.pharmacogenomicInteractionDetailList.size()}" escape="false" style="color:red;"/>		
								             &nbsp;<h:outputText value="Interactions detected" style="color:red;"/>
								          </p:commandLink>  
								          
								          <!-- <p:tooltip for="grow3"  showEffect="clip" style="width:44%; position:relative; margin-left:-8%;" > -->
								          
								          <p:dialog widgetVar="showDetails3" showEffect="clip" hideEffect="clip" width="600" 
								              			closable="true" modal="true" appendTo="@(body)">
								             		
								             	<f:facet name="header">
								             					<h:outputText value="Pharmacogenomics"></h:outputText>
								             				</f:facet>
								             
								             					<p:dataTable value="#{patientMedicineManageBean.pharmacogenomicInteractionDetailList}" var="pharmacogenomicInteractionDetail" emptyMessage="#{msg.noMedFound}">
																	
																	<p:column styleClass="wrap">
																		<f:facet name="header">
																			<h:outputText value="Gene" />
																		</f:facet>
																		<h:outputText value="#{pharmacogenomicInteractionDetail.gene1}"  />  
																	</p:column> 
																	
																	<p:column styleClass="wrap">
																		<f:facet name="header">
																			<h:outputText value="Phenotype" />
																		</f:facet>
																		<h:outputText value="#{pharmacogenomicInteractionDetail.phenotype}"  />  
																	</p:column> 
																	
																	<p:column styleClass="wrap">
																		<f:facet name="header">
																			<h:outputText value="Impact" />
																		</f:facet>
																		<h:outputText value="#{pharmacogenomicInteractionDetail.impact}"  />  
																	</p:column>
																	
																	<p:column styleClass="wrap">
																		<f:facet name="header">
																			<h:outputText value="Implications" />
																		</f:facet>
																		<h:outputText value="#{pharmacogenomicInteractionDetail.implications}"  />  
																	</p:column>
																	
																	<p:column styleClass="wrap">
																		<f:facet name="header">
																			<h:outputText value="Recommendation" />
																		</f:facet>
																		<h:outputText value="#{pharmacogenomicInteractionDetail.recommendation}"  />  
																	</p:column>
																	
																	
																</p:dataTable>
								             			
								             	 <!-- </p:tooltip> -->
								             	 
								             	 </p:dialog>
								             	 
								        
								      
								</td>
								<td>
										<h:outputText value="Hightest Severity:"  style="font-weight:bold;color:red;"/>&nbsp;
										<!-- <h:outputText value="#{patientMedicineManageBean.highestServityForpharmacogenomic}"  /> -->
										
										<h:outputText value="#{patientMedicineManageBean.highestServityForpharmacogenomic}" rendered="#{patientMedicineManageBean.highestServityForpharmacogenomic eq 'High'}"
										style="text-decoration:none;color:red;"/>
										<h:outputText value="#{patientMedicineManageBean.highestServityForpharmacogenomic}" rendered="#{patientMedicineManageBean.highestServityForpharmacogenomic eq 'Medium'}"
										style="text-decoration:none;color:orange;"/>
										<h:outputText value="#{patientMedicineManageBean.highestServityForpharmacogenomic}" rendered="#{patientMedicineManageBean.highestServityForpharmacogenomic eq 'Low'}"
										style="text-decoration:none;color:green;"/>				
												
												<!-- <ui:repeat var="drugServityDetail" 
														value="#{patientMedicineManageBean.drugPharmaInterectionListDetail}"
														varStatus="loop">
											         #{drugServityDetail.severityLevel}
											              #{!loop.last ? ', ' : ''} 
								            
										</ui:repeat> -->
								</td>
							</tr>
					</table>
							
				</p:outputPanel>
	 	 	 
	 	 	 <table >
	 	 	 	<tr>
	 	 	 		<td>
	 	 	 			<h:outputText value="#{msg.diagnosis}:" style="font-weight:bold;" /></td>
	 	 	 		
	 	 	 		<td><h:outputText value="#{patientMedicineManageBean.medActionPlan.diagnosis}" /></td>
	 	 	 		
	 	 	 		<td>
	 	 	 			<h:outputText value="Subdiagnosis:" style="font-weight:bold;"/>
	 	 	 		</td>
	 	 	 		
	 	 	 		<td><h:outputText value="#{patientMedicineManageBean.subDiagnosisDetail}" /></td>
	 	 	 	</tr>
	 	 	 	
	 	 	 	<tr><td></td></tr>
	 	 	 	
	 	 	 	<tr>
	 	 	 		<td>
	 	 	 			<h:outputText value="Recommendation:" style="font-weight:bold;"/>
	 	 	 		</td>
	 	 	 		<td><h:outputText value="#{patientMedicineManageBean.patientMedicationData.recommendedDose}" /></td>
	 	 	 		
	 	 	 		<td>
	 	 	 			<h:outputText value="Comment:"  style="font-weight:bold;"/>
	 	 	 		</td>
	 	 	 		
	 	 	 		<td>
	 	 	 			<h:outputText value="#{patientMedicineManageBean.patientMedicationData.comments}" />
	 	 	 		</td>
	 	 	 		
	 	 	 	</tr>
	 	 	 	
	 	 	 	<tr><td></td></tr>
	 	 	 	
	 	 	 	<tr>
	 	 	 		<td>
	 	 	 			<h:outputText value="Recommended target INR range: " style="font-weight:bold;"/>
	 	 	 		</td>
	 	 	 		
	 	 	 		<td><h:outputText value="#{patientMedicineManageBean.medActionPlan.recommendedTarget}" /></td>
	 	 	 		
	 	 	 		<td><h:outputText value="Recommended duration of therapy:  " style="font-weight:bold;"/></td>
	 	 	 		
	 	 	 		<td><h:outputText value="#{patientMedicineManageBean.medActionPlan.recommendedDurationOfTherapy}" /></td>
	 	 	 		
	 	 	 	</tr>
	 	 	 	
	 	 	 	<tr><td></td></tr>
	 	 	 	
	 	 	 	<tr>
	 	 	 		<td>
	 	 	 			 <p:outputPanel  rendered="#{patientMedicineManageBean.medActionPlan.diagnosis eq 'Atrial fibrillation (non-valvular/non-rheumatic)'}" >
					 	 		<h:outputText value="Chad Score:" style="font-weight:bold;" />&nbsp;&nbsp;
					 	 		<h:outputText value="#{patientMedicineManageBean.chadsScore.score}"/><br/>
	 	 				 </p:outputPanel>
	 	 	 		</td>
	 	 	 	</tr>
	 	 	 	
	 	 	 </table>
	 	 		
	 	 		<br />
	 	 		 
	 	 		
	 	 		 
	 	 		
	 	 		
	 	 		
	 	 		<!-- <p:outputPanel rendered="#{!(patientMedicineManageBean.patientMedicationData.additionalRecommendation.length() eq '0')}">
	 	 			<h:outputText value="Additional recommendation:   " style="font-weight:bold;"/>&nbsp;&nbsp;
	 	 				<h:outputText value="#{patientMedicineManageBean.patientMedicationData.additionalRecommendation}" /><br/>
	 	 		</p:outputPanel> -->
	 	 		
	 	 		
	 	 		
	 	 		
	 	 		
	 	 		
	 	 		<table width="80%">
	 	 			<tr>
	 	 				<td>
	 	 					<h:outputText value="Goal target INR range " />
	 	 					<h:outputText value="*" styleClass="mandatoryField"/>	
	 	 					</td><td>
	 	 					
							<p:selectOneMenu required="true" 
							          value="#{patientMedicineManageBean.medActionPlan.acceptableRange}">
							 <!-- <f:selectItem itemLabel="#{patientMedicineManageBean.medActionPlan.recommendedTarget}" itemValue="#{patientMedicineManageBean.medActionPlan.recommendedTarget}" />  -->
							<!-- <f:selectItems value="#{patientMedicineManageBean.clinicDiagnosisList}" var="clinick" itemLabel="{clinick}" itemValue="{clinick}"/> -->
							<f:selectItems id="targetInrId"
								value="#{patientMedicineManageBean.inrGoalTargetList}"
								var="inrTarget" itemLabel="#{inrTarget}"
								itemValue="#{inrTarget}" />
						
						</p:selectOneMenu>
	 	 				</td>
	 	 				
	 	 				<td >
	 	 					<h:outputText value="Duration of therapy " />
	 	 					<h:outputText value="*" styleClass="mandatoryField"/>	
	 	 					</td><td>
							<p:selectOneMenu required="true" 
							          value="#{patientMedicineManageBean.medActionPlan.durationOfTherapy}">
							<!-- <f:selectItem itemLabel="#{patientMedicineManageBean.medActionPlan.recommendedDurationOfTherapy}" itemValue="#{patientMedicineManageBean.medActionPlan.recommendedDurationOfTherapy}" /> -->
							<!-- <f:selectItems value="#{patientMedicineManageBean.clinicDiagnosisList}" var="clinick" itemLabel="{clinick}" itemValue="{clinick}"/> -->
							<f:selectItems id="therapyID"
								value="#{patientMedicineManageBean.durationOfTherapy}"
								var="durationTherapy" itemLabel="#{durationTherapy}"
								itemValue="#{durationTherapy}" />
						
						</p:selectOneMenu>
	 	 				
	 	 				</td>
	 	 			</tr>
	 	 		</table>
	 	 		
	 	 		<table>
	 	 			<tr>
	 	 				<td>
	 	 					<h:outputText value="Comments :" />
	 	 				</td>
	 	 				<td>
	 	 					<p:inputTextarea id="commentEditor" value="#{patientMedicineManageBean.patientMedicationData.doctorComments}"  cols="75" rows="3">
											<!-- <p:ajax update="notesEditor"></p:ajax> -->
								</p:inputTextarea>
	 	 				</td>
	 	 			</tr>
	 	 		</table>
	 	 		
	 	 		
	 	 	   <p:outputPanel>
		 	 	 	
				</p:outputPanel>	
									 	 
	 	  </p:tab> 
	 	 	 
	 	 	 <p:tab id="Step4" title="Step 4" titleStyleClass="popupStepFont"> 
	 	 	 
	 	 	 	 <p:outputPanel id="doseCalId" >
	 	 	 	 
	 	 	 	 <table>
	 	 	 	 	<tr>
	 	 	 	 		<td>
	 	 	 	 			<h:outputText value="#{msg.diagnosis}:" style="font-weight:bold;"/>&nbsp;&nbsp;<h:outputText value="#{patientMedicineManageBean.medActionPlan.diagnosis}" />
	 	 	 	 		</td>
	 	 	 	 		<td>
	 	 	 	 			<h:outputText value="#{msg.subdiagnoses}:" style="font-weight:bold;"/>&nbsp;&nbsp;<h:outputText value="#{patientMedicineManageBean.subDiagnosisDetail}" />
	 	 	 	 		</td>
	 	 	 	 		
	 	 	 	 		
	 	 	 	 	</tr>
	 	 	 	 	
	 	 	 	 	<tr><td></td></tr>
	 	 	 	 		
	 	 	 	 	
	 	 	 	 	 <tr>
	 	 	 	 		<td>
	 	 	 	 			<h:outputText value="Recommendation:" style="font-weight:bold;"/>&nbsp;&nbsp;
	 	 	 	 			<h:outputText value="#{patientMedicineManageBean.patientMedicationData.recommendedDose}" />
	 	 	 	 		</td>
	 	 	 	 		<td>
	 	 	 	 			<h:outputText value="Recommended Dose:" style="font-weight:bold;"/>&nbsp;&nbsp;
	 	 	 	 			<h:outputText value="#{patientMedicineManageBean.patientMedicationData.strengths}"  
	 	 	 	 				rendered="#{patientMedicineManageBean.patientMedicationData.recommendedDose ne 'Warfarin not recommended.'}"/>
	 	 	 	 			<h:outputText value="NA"  
	 	 	 	 				rendered="#{patientMedicineManageBean.patientMedicationData.recommendedDose eq 'Warfarin not recommended.'}"/>
	 	 	 	 			
	 	 	 	 		</td>
	 	 	 	 	</tr>
	 	 	 	 	
	 	 	 	 	<tr><td></td></tr>
	 	 	 	 	
	 	 	 	 	<tr>
	 	 	 	 		<td>
	 	 	 	 			<h:outputText value="Duration of therapy:" style="font-weight:bold;"/>&nbsp;&nbsp;<h:outputText value="#{patientMedicineManageBean.medActionPlan.durationOfTherapy}" />
	 	 	 	 		</td>
	 	 	 	 		<td>
	 	 	 	 			<h:outputText value="Goal target INR range: " style="font-weight:bold;"/><h:outputText value="#{patientMedicineManageBean.medActionPlan.acceptableRange}" />
	 	 	 	 		</td>
	 	 	 	 	</tr>
	 	 	 	 	
	 	 	 	 	<tr><td></td></tr>
	 	 	 	 	
	 	 	 	 	<tr>
	 	 	 	 		<td>
	 	 	 	 			<p:outputPanel  rendered="#{patientMedicineManageBean.medActionPlan.diagnosis eq 'Atrial fibrillation (non-valvular/non-rheumatic)'}" >
					 	 		<h:outputText value="Chad Score:" style="font-weight:bold;" />&nbsp;&nbsp;
					 	 		<h:outputText value="#{patientMedicineManageBean.chadsScore.score}"/><br/>
	 	 		 		</p:outputPanel>
	 	 	 	 		
	 	 	 	 		</td>
	 	 	 	 	</tr>
	 	 	 	
	 	 	 	
	 	 	 	 </table>
	 	 	 	 <table align="center">
	 	 	 	 	<tr>
	 	 	 	 		<td>
	 	 	 	 		<h:outputText value="#{msg.notes}"  style="font:10;font-weight:bold;"/><br/>
								<p:commandLink id="grow"  value="#{msg.highSensitivitytoWarfarin}" action="#" style="text-decoration:underline;" />
										 
										 <p:tooltip for="grow"  showEffect="clip"  >
											 <h:outputText value=" Baseline INR &gt; or = 1.5 " /><br />
											 <h:outputText value=" Age &gt; 65 	" /><br />
											 <h:outputText value=" Actual body weight &lt; 45 kg or actual  ideal " /><br />
											 <h:outputText value=" Malnourished/ NPO &gt;3 days" /><br />
											 <h:outputText value=" Hypoalbuminemia &lt; 2 g/dl" /><br />
											 <h:outputText value=" Chronic diarrhea" /><br />
											 <h:outputText value=" Significant drug interactions " /><br />
											 <h:outputText value=" Decompensated heart failure" /><br />
											 <h:outputText value=" Cancer" /><br />
											 <h:outputText value=" Current antiplatelet therapy" /><br />
											 <h:outputText value=" Thrombocytopenia: platelet &lt; 75 K/uL" /><br />
											 <h:outputText value=" Alcohol abuse history" /><br />
											 <h:outputText value=" Significant hepatic disease:" /><br />
											 <h:outputText value=" cirrhosis or total bilirubin.&gt;2.4 mg/dl" /><br />
											 <h:outputText value=" End stage renal disease" /><br />
											 <h:outputText value=" GI bleed within past 30 days" /><br />
											 <h:outputText value=" Surgery within past 2 weeks" /><br />
											 <h:outputText value=" Intracranial bleed within past 30 days" /><br />
										 </p:tooltip>  
	 	 	 	 		
	 	 	 	 		</td>	 	 	 	 	
	 	 	 	 	</tr>
	 	 	 	 	<tr>
	 	 	 	 		<td>
	 	 	 	 			<p:commandLink id="grow1" value="#{msg.LowSensitivitytoWarfarin}" action="#"  style="text-decoration:underline;"/>
									 <p:tooltip for="grow1"  showEffect="clip"  escape="false">
									 
										 <h:outputText value=" Baseline INR  &lt; 1.5" /><br />
										 <h:outputText value=" Age &gt; or = 65" /><br />
										 <h:outputText value=" No other risk factors" /><br />
									
									 </p:tooltip>
	 	 	 	 		</td>
	 	 	 	 	</tr>
	 	 	 	 </table>
	 	 	 	 
	 	 	 	<table>
	 	 	 	 	<tr>
	 	 	 	 		<td>
	 	 	 	 				<h:outputText value="Strength" /><h:outputText value="*" styleClass="mandatoryField"/>
	 	 	 	 		</td>
	 	 	 	 		<td>
	 	 	 	 			<p:selectOneMenu required="true" requiredMessage="Please Select Strength"
										value="#{patientMedicineManageBean.patientMedicationData.strengths}"
										style="width:122px;">
										<!-- <f:selectItem
											itemLabel="#{patientMedicineManageBean.patientMedicationData.strengths}"
											itemValue="#{patientMedicineManageBean.patientMedicationData.strengths}" /> -->
										<f:selectItems value="#{patientMedicineManageBean.doseDetailList}"
											var="doseList" itemLabel="#{doseList.dose}" itemValue="#{doseList.dose}" />
									</p:selectOneMenu>
	 	 	 	 	</td>
	 	 	 	 	
	 	 	 	 	
	 	 	 	 	
	 	 	 	 	<td>
	 	 	 	 				<h:outputText value="Unit" /><h:outputText value="*" styleClass="mandatoryField"/>
	 	 	 	 		</td>
	 	 	 	 		<td>
	 	 	 	 			<p:selectOneMenu required="true" 
										value="#{patientMedicineManageBean.patientMedicationData.unit}"
										style="width:145px;">
										
										<f:selectItems value="#{patientMedicineManageBean.unitSummaryList}"
											var="unitList" itemLabel="#{unitList.unit}" itemValue="#{unitList.unit}" />
										<p:ajax listener="#{patientMedicineManageBean.calculateTotalDispence}" update="dispenceNumber,input"></p:ajax>		
										<!-- 	<p:ajax   update="input"/> -->
									</p:selectOneMenu>
	 	 	 	 	</td>
	 	 	 	 	
	 	 	 	 	
	 	 	 	 		<td>
	 	 	 	 				<h:outputText value="Dosage form" /><h:outputText value="*" styleClass="mandatoryField"/>
	 	 	 	 		</td>
	 	 	 	 		<td>
	 	 	 	 		
	 	 	 	 			<!-- <p:selectOneMenu required="true" 
										value="#{patientMedicineManageBean.patientMedicationData.dosageForm}"
										style="width:122px;">
										<f:selectItem itemLabel="#{patientMedicineManageBean.patientMedicationData.dosageForm}" itemValue="#{patientMedicineManageBean.patientMedicationData.dosageForm}" />
	 	 	 	 			
										<f:selectItem
											itemLabel="#{patientMedicineManageBean.patientMedicationData.directions}"
											itemValue="#{patientMedicineManageBean.patientMedicationData.directions}" />
											
										<f:selectItems value="#{patientMedicineManageBean.unitDetailsList}"
											var="unitList" itemLabel="#{unitList.unitName}" itemValue="#{unitList.unitName}" />
										<p:ajax   update="input"/>
									</p:selectOneMenu> -->
									
									<p:inputText  value="#{patientMedicineManageBean.patientMedicationData.dosageForm}" readonly="true"></p:inputText>	
								
	 	 	 	 	</td>
	 	 	 	 	
	 	 	 	 	
	 	 	 	 	
	 	 	 	 	
	 	 	 	 		
	 	 	 	 		
	 	 	 	 	</tr>
	 	 	 	 	
	 	 	 	 	<tr>
	 	 	 	 	
	 	 	 	 	
	 	 	 	 	<td>
	 	 	 	 				<h:outputText value="Route" /><h:outputText value="*" styleClass="mandatoryField"/>
	 	 	 	 		</td>
	 	 	 	 		<td>
	 	 	 	 			<!-- <p:selectOneMenu required="true" 
										value="#{patientMedicineManageBean.patientMedicationData.byRoute}"
										style="width:122px;">
										
										<f:selectItem itemLabel="#{patientMedicineManageBean.patientMedicationData.byRoute}" itemValue="#{patientMedicineManageBean.patientMedicationData.byRoute}" />
										<f:selectItems value="#{patientMedicineManageBean.routeDetailsList}"
											var="routeDetailList" itemLabel="#{routeDetailList.routeName}" itemValue="#{routeDetailList.routeName}" />
											<p:ajax   update="input"/>
									</p:selectOneMenu> -->
									<p:inputText  value="#{patientMedicineManageBean.patientMedicationData.byRoute}" readonly="true"></p:inputText>
	 	 	 	 		</td>
	 	 	 	 	
	 	 	 	 	
	 	 	 	 	<td>
	 	 	 	 				<h:outputText value="Regimen" /><h:outputText value="*" styleClass="mandatoryField"/>
	 	 	 	 		</td>
	 	 	 	 		<td>
	 	 	 	 			<p:selectOneMenu required="true" requiredMessage="Please Select Regimen"
										value="#{patientMedicineManageBean.patientMedicationData.directions}"
										style="width:145px;">
										<f:selectItem itemValue="" itemLabel=""></f:selectItem>
										<!-- <f:selectItem
											itemLabel="#{patientMedicineManageBean.patientMedicationData.directions}"
											itemValue="#{patientMedicineManageBean.patientMedicationData.directions}" /> -->
										<f:selectItems value="#{patientMedicineManageBean.regimenList}"
											var="regimen" itemLabel="#{regimen}" itemValue="#{regimen}" />
											
											<p:ajax listener="#{patientMedicineManageBean.calculateTotalDispence}" update="dispenceNumber,input"></p:ajax>	
									</p:selectOneMenu>
	 	 	 	 	</td>
	 	 	 	 	
	 	 	 	 	
	 	 	 	 	
	 	 	 	 	
	 	 	 	 		<td>
	 	 	 	 				<h:outputText value="PRN" />
	 	 	 	 		</td>
	 	 	 	 		
	 	 	 	 		 <td>
	 	 	 	 			<p:selectBooleanCheckbox value="#{patientMedicineManageBean.patientMedicationData.prn}" />  
	 	 	 	 		</td> 
	 	 	 	 		
	 	 	 	 		<td>
	 	 	 	 				<h:outputText value="Allow substitution" />
	 	 	 	 		</td>
	 	 	 	 		
	 	 	 	 		 <td>
	 	 	 	 			<p:selectBooleanCheckbox value="#{patientMedicineManageBean.patientMedicationData.allowSubstitution}" />  
	 	 	 	 		</td> 
	 	 	 	 		
	 	 	 	 		
	 	 	 	 </tr>
	 	 	 	  <tr>
	 	 	 	 <table width="100%">
				<tr align="center">
					
					<td>
						<h:outputText value="DAW / DNS"/>
					</td>
					&nbsp;
					<td>
						<h:outputText value="One Time"/>
					</td>
					<!-- &nbsp;
					<td>
						<h:outputText value="2nd rx 90 Day"/>
					</td>
					&nbsp;
					<td>
						<h:outputText value="Save this sig and add to Doctor's List"/>
					</td> -->
				</tr>
				
				
				<tr>
					<td align="center">
						<p:selectBooleanCheckbox value="#{patientMedicineManageBean.patientMedicationData.daw_dns}" />  
					</td>
					<td align="center">
						<p:selectBooleanCheckbox value="#{patientMedicineManageBean.patientMedicationData.one_Time}" />  
					</td>
					<!-- <td align="center">
						<p:selectBooleanCheckbox value="#{patientMedicineManageBean.patientMedicationData.secondrx_90days}" />  
					</td>
					<td align="center">
						<p:selectBooleanCheckbox value="#{patientMedicineManageBean.patientMedicationData.savetodoctorlist}" />  
					</td> -->
				</tr>
			</table>
	 	 	 	 
	 	 	 	 </tr>
	 	 	 
	 	 	  	<tr>
	 	 	  		<td>
	 	 	  			<h:outputText value="Dispense" /><h:outputText value="*" styleClass="mandatoryField"/>
	 	 	  		</td>
						<td>
							<p:inputText id="dispenceNumber" style="width:50px;"  converter="#{Integer}" maxlength="3"
										value="#{patientMedicineManageBean.patientMedicationData.quantity}" >
								<f:convertNumber  pattern="#0" integerOnly="true"  minFractionDigits="3" maxIntegerDigits="3" type="number"/>
							</p:inputText>
						</td>
						
					<td>
	 	 	  			<h:outputText value="Days Supply" />
	 	 	  		</td>
						<td>
							<!-- <p:inputText style="width:50px;" required="true" 
										value="#{patientMedicineManageBean.patientMedicationData.daySupply}" /> -->
										
							<p:selectOneMenu required="true" 
										value="#{patientMedicineManageBean.patientMedicationData.daySupply}"
										style="width:80px;">
											<!-- <f:selectItem itemValue="#{patientMedicineManageBean.patientMedicationData.daySupply}" 
													itemLabel="#{patientMedicineManageBean.patientMedicationData.daySupply}"></f:selectItem> -->
										<f:selectItems value="#{patientMedicineManageBean.daySupplyList}"
											var="daySupplyDetailList" itemLabel="#{daySupplyDetailList}" itemValue="#{daySupplyDetailList}" />
										<p:ajax listener="#{patientMedicineManageBean.calculateTotalDispence}" update="dispenceNumber"></p:ajax>	
									</p:selectOneMenu>
						</td>
	 	 	  		
	 	 	  		<td>
	 	 	  			<h:outputText value="Refill"/>
	 	 	  		</td>
						<td>
							
										<!-- <p:inputText required="true" requiredMessage="Please insert reffils" maxlength="2" 
							 value="#{patientMedicineManageBean.patientMedicationData.reffils}" style="width:50px;">
							 
							 <pe:keyFilter mask="num"></pe:keyFilter>
						</p:inputText> -->
						
						<p:selectOneMenu required="true" 
										value="#{patientMedicineManageBean.patientMedicationData.reffils}"
										style="width:60px;">
										
										<f:selectItems value="#{patientMedicineManageBean.refillDetailsList}"
											var="refillList" itemLabel="#{refillList}" itemValue="#{refillList}" />
										
									</p:selectOneMenu>
						
						</td>
	 	 	  		 <td>
	 	 					<h:outputText value="Instructions" />
	 	 				</td>
	 	 				<td>
	 	 					<p:inputTextarea readonly="true" id="input" 
	 	 							value="Take #{patientMedicineManageBean.patientMedicationData.unit} &nbsp;&nbsp;
	 	 									 #{patientMedicineManageBean.patientMedicationData.dosageForm} &nbsp;&nbsp;
	 	 									#{patientMedicineManageBean.patientMedicationData.byRoute}&nbsp;&nbsp;
	 										 #{patientMedicineManageBean.patientMedicationData.directions}"  cols="15" rows="4">
											
								</p:inputTextarea>
	 	 				</td> 
	 	 	  	</tr>
	 	 	  </table>
	 	 	 	 
	 	 	 	  
			</p:outputPanel>
	 	 	 
	 	 	 </p:tab>
	 	 	  <p:tab id="Step5" title="Step 5" titleStyleClass="popupStepFont"> 
	 	 	  
	 	 	    <table>
	 	 	  		<tr>
	 	 	  			
	 	 	  			<td  >
	 	 	  				<h:outputText value="#{msg.diagnosis}:" style="font-weight:bold;"/>
	 	 	  			</td>
	 	 	  			
	 	 	  			<td><h:outputText value="#{patientMedicineManageBean.medActionPlan.diagnosis}" /></td>
	 	 	  			
	 	 	  			<td >
	 	 	  				<h:outputText value="#{msg.subdiagnoses}:" style="font-weight:bold;" />
	 	 	  			</td>
	 	 	  			
	 	 	  			<td><h:outputText value="#{patientMedicineManageBean.subDiagnosisDetail}" /></td>
	 	 	  			
	 	 	  		</tr>
	 	 	  		
	 	 	  		<tr><td></td></tr>
	 	 	  		
	 	 	  		<tr>
	 	 	  			
	 	 	  			<td>
	 	 	  				<h:outputText value="Duration of therapy:" style="font-weight:bold;"/>
	 	 	  			</td>
	 	 	  			
	 	 	  			<td><h:outputText value="#{patientMedicineManageBean.medActionPlan.durationOfTherapy}" /></td>
	 	 	  			<td >
	 	 	  				<h:outputText value="Dose:" style="font-weight:bold;"/>
	 	 	  			</td>
	 	 	  			
	 	 	  			<td><h:outputText value="#{patientMedicineManageBean.patientMedicationData.strengths}" /></td>
	 	 	  		</tr>
	 	 	  		
	 	 	  		<tr><td></td></tr>
	 	 	  		
	 	 	  		<tr>
	 	 	  			
	 	 	  			
	 	 	  			
	 	 	  			<td >
	 	 	  				<h:outputText value="Sig:" style="font-weight:bold;"/>
	 	 	  			</td>
	 	 	  			
	 	 	  			<td><h:outputText value="#{patientMedicineManageBean.patientMedicationData.directions}" /></td>
	 	 	  			
	 	 	  			<td >
	 	 	  				<h:outputText value="Goal target INR range:" style="font-weight:bold;"/>
	 	 	  			</td>
	 	 	  			
	 	 	  			<td><h:outputText value="#{patientMedicineManageBean.medActionPlan.acceptableRange}" /></td>
	 	 	  		</tr>
	 	 	  		
	 	 	  		<tr><td></td></tr>
	 	 	  		
	 	 	  		<tr>
		 	 	  		<td >
		 	 	  			<p:outputPanel  rendered="#{patientMedicineManageBean.medActionPlan.diagnosis eq 'Atrial fibrillation (non-valvular/non-rheumatic)'}" >
							 	 		<h:outputText value="Chad Score:" style="font-weight:bold;" />&nbsp;&nbsp;
							 	 		<h:outputText value="#{patientMedicineManageBean.chadsScore.score}"/><br/>
	 	 					 </p:outputPanel>
		 	 	  		</td>
	 	 	  		</tr>
	 	 	  </table>
	 	 	  
	 	 	  <table width="100%">
	 	 	  	<tr>
	 	 	  		<td colspan="3">
	 	 	  		
	 	 	  		<h:outputText value="Recommended INR check every 2-3 days until INR within therapeutic range on 2 consecutive INR checks" style="font-weight:bold;"/>
	 	 	  		
	 	 	  		</td>
	 	 	  	</tr>
	 	 	  	
	 	 	  
	 	 	  	<tr>
	 	 	  		<td>
	 	 	  			<h:outputText value="Frequency of INR monitoring after initiation of warfarin" style="font-weight:bold;"/>
	 	 	  		</td>
	 	 	  	</tr>
	 	 	  	
	 	 	  	<tr>
	 	 	  		<td>
	 	 	  			<h:outputText value="INR Check" style="font-weight:bold;"/>
	 	 	  		</td>
	 	 	  	</tr>
	 	 	  	
	 	 	  	 </table>
	 	 	  	 <br/>
	 	 	  	 
	 	 	  	<table border="1">
	 	 	  	<tr >
	 	 	  		<td>
	 	 	  			<h:outputText value="Every 2-3 days" />
	 	 	  		</td >
	 	 	  		<td><h:outputText value="Until INR within therapeutic range on 2 consecutive INR checks" /></td>
	 	 	  	</tr>
	 	 	  	
	 	 	  	<tr >
	 	 	  		<td>
	 	 	  			<h:outputText value="Then every week" />
	 	 	  		</td >
	 	 	  		<td><h:outputText value="Until INR within therapeutic range on 2 consecutive INR checks" /></td>
	 	 	  	</tr>
	 	 	  	
	 	 	  	
	 	 	  	<tr >
	 	 	  		<td>
	 	 	  			<h:outputText value="Then every 2 weeks" />
	 	 	  		</td >
	 	 	  		<td><h:outputText value="Until INR within therapeutic range on 2 consecutive INR checks" /></td>
	 	 	  	</tr>
	 	 	  	
	 	 	  	<tr >
	 	 	  		<td>
	 	 	  			<h:outputText value="Then every 4 weeks" />
	 	 	  		</td >
	 	 	  		<td><h:outputText value="When dose is stable check monthly" /></td>
	 	 	  	</tr>
	 	 	  </table>
	 	 	    <br/>
	 	 	  	<!-- <tr>
	 	 	  		<td colspan="3">
	 	 	  			<h:outputText value="[Refer table from Anticoag_algorithms Warfarin AC cells B135-D135]" style="font-weight:bold;"/>
	 	 	  		</td>
	 	 	  	</tr> -->
	 	 	  		  	 	<table>
	 	 	  		<tr>
	 	 	  		<td align="center">
											<h:outputText value="Phase: " styleClass="outputtext"/>
										</td>
	 	 	  			<td>
	 	 	  								<p:selectOneMenu 
															value="#{patientMedicineManageBean.medActionPlan.medicineStage}" style="width:180px;">
														<f:selectItem
															itemLabel="Initiation" itemValue="Initiation" />
														<f:selectItem
															itemLabel="Maintenance" itemValue="Maintenance" />
												<p:ajax update="labdetailId" />
												</p:selectOneMenu>
	 	 	  			</td>
	 	 	  		</tr>
	 	 	  	</table>
	 	 	  	 <br/>
	 	 	  		  	 <table width="70%">
	 	 	  	<tr>
	 	 	  	
	 	 	  	<td valign="top">
	 	 	  	
	 	 	  	<p:dataTable value="#{patientMedicineManageBean.labDetailList}" var="labDetail" id="labdetailId" emptyMessage="#{msg.noMedFound}">
																
																<!-- <p:column>
																	<f:facet name="header">
																		<h:outputText value="Select" />
																	</f:facet>
																	<p:selectBooleanCheckbox value="#{labDetail.selected}"  />  
																</p:column>
																 -->
																<p:column>
																	<f:facet name="header">
																		<h:outputText value="Lab Name" />
																	</f:facet>
																	<h:outputText value="#{labDetail.labName}" />
																</p:column>
																
																<p:column>
																	<f:facet name="header">
																		<h:outputText value="Monitoring frequency" />
																	</f:facet>
																	<p:selectOneMenu value="#{labDetail.labfrequencyDetail}" 
																		rendered="#{patientMedicineManageBean.medActionPlan.medicineStage eq 'Initiation' or  patientMedicineManageBean.medActionPlan.medicineStage eq null}" style="width:90px;">
																					<f:selectItem
																						itemLabel=""
																						itemValue="" /> 
																					<f:selectItems 
																							value="#{patientMedicineManageBean.labFrequencyList}"
																							var="labFreq" itemLabel="#{labFreq}" itemValue="#{labFreq}" />
																				<p:ajax 
																					listener="#{patientMedicineManageBean.findNextlabDate}" update="@form"
																					></p:ajax>
																		</p:selectOneMenu>
																		
																		
																		<p:selectOneMenu value="#{labDetail.labfrequencyDetail}" 
																		rendered="#{patientMedicineManageBean.medActionPlan.medicineStage eq 'Maintenance'}" style="width:90px;">
																					<f:selectItem
																						itemLabel=""
																						itemValue="" /> 
																					<f:selectItems 
																							value="#{patientMedicineManageBean.labFrequencyListForQuickPrescribe}"
																							var="labFreq" itemLabel="#{labFreq}" itemValue="#{labFreq}" />
																				<p:ajax 
																					listener="#{patientMedicineManageBean.findNextlabDate}" update="@form"
																					></p:ajax>
																					
																					
																		</p:selectOneMenu>
																</p:column> 
																							
															
															</p:dataTable>
	 	 	  	
								</td>
	 	 	  	
	 	 	  		<td> &nbsp;&nbsp;&nbsp;&nbsp;</td>
	 	 	  			
	 	 	  			<td >
	 	 	  				<h:outputText value="Date of the next Lab: " style="font-weight:bold;"/>&nbsp;&nbsp;
	 	 	  				<h:outputText id="nextLab" value="#{patientMedicineManageBean.medActionPlan.nextLabDate}" >
	 	 	  					<f:convertDateTime pattern="#{msg.dateFormat}" timeZone="#{userManageBean.loggedUsertimeZone}" dateStyle="full" type="date" />
	 	 	  				</h:outputText>
	 	 	  			</td>
	 	 	  	</tr>
	 	 	  	
	 	 	  </table>
	 	 	  <table width="95%">
		 	 	  <tr align="right">
		 	 	  	<td>
		 	 	  		<p:commandButton value="Done" action="#{patientMedicineManageBean.addMedicine}"></p:commandButton>
      
		 	 	  	</td>
		 	 	  </tr>
	 	 	  
	 	 	  </table>
	 	 	
	 	 	   
	 	 	
	 	 	   
	 	 	  </p:tab>
	 	 	 
	 	 </p:wizard>	 	 
	 	 </td>
	 	 <td valign="top" align="right" width="8%">
	 	  <p:commandButton value="#{msg.cancel}" action="#{patientMedicineManageBean.submitCancelButtonForAnticoag}" immediate="true"
						></p:commandButton>	
	 	 </td>
	 	</tr>
	 </table>
	 	 
	 	<table>
			
	 	<tr>
	 		<td>
	 			<h:outputText value="Source:" style="font-weight:bold;"/>&nbsp;&nbsp;
	 		</td>
	 		
	 		<td>
	 			<h:outputText value="Dosing Guideline based on University of Washington Anticoag Clinic
	 			 (http://depts.washington.edu/anticoag) in accordance with 9th ed ACCP Guidelines on Antithrombotic 
	 			 Therapy (You, J. J., D. E. Singer, et al. (2012). Chest 141(2 Suppl): e531S-575S)" />
	 		</td>
	 	</tr>
		</table>
		
	 </h:form>
	</p:dialog>





<!-- ************pop up start  Rivaroxaban *********************************************************** -->

		
		
		<p:dialog id="Rivaroxabanid" widgetVar="Rivaroxaban"
							resizable="false"  appendTo="@(body)" modal="true"
			 				height="400" width="45%" dynamic="true" closable="false" position="400,323">
		<f:facet name="header">
      		<h:outputText id="RivaroxabanHeader" value="#{patientMedicineManageBean.patientMedicationData.drugs}" />
   		</f:facet>
			 		<h:form id="RivaroxabanidPopupFormId">	
			 		<p:messages  id="rivaroxabanMsgId" showDetail="false" style="color:#FF0000;margin:8px;"  closable="true" showSummary="true"/> 	
					 <table  width="100%" border="0"><tr><td width="92%" valign="top">
					 	 <p:wizard titleStyleClass="popupStepFont" flowListener="#{patientMedicineManageBean.onFlowProcessOfRivaroxaban}">  
					 	 	
					 	 	 <p:tab id="step1" title="Step 1" titleStyleClass="popupStepFont">  
					 	 		<p:outputPanel>
				 	   <h:panelGrid columns="3">
							<h:outputText value="Diagnoses" /><h:outputText value="*" styleClass="mandatoryField"/>	
							<p:selectOneMenu required="true" requiredMessage="Please select diagnosis"
							          value="#{patientMedicineManageBean.medActionPlan.diagnosis}" style="width:350px;">
							<f:selectItem itemLabel="Select One" itemValue="" />
							<!-- <f:selectItems value="#{patientMedicineManageBean.clinicDiagnosisList}" var="clinick" itemLabel="{clinick}" itemValue="{clinick}"/> -->
							<f:selectItems id="diagnosisListId"
								value="#{patientMedicineManageBean.clinicDiagnosisList}"
								var="clinick" itemLabel="#{clinick.diagnosisName}"
								itemValue="#{clinick.diagnosisName}" />
								
						<!-- <p:ajax
							listener="#{patientMedicineManageBean.changediagnosisForRivaroxaban}"
							></p:ajax> -->
						</p:selectOneMenu>
				
				 	</h:panelGrid>
				 </p:outputPanel>
	 	 	 		
	 	 				 </p:tab>
					 	 	
					 	 	 <p:tab id="step2" title="Step 2" titleStyleClass="popupStepFont">  
					 	  <p:outputPanel>	
					 	  <h:outputText value="#{msg.Cr_lab_message}" 
					 	  rendered="#{(patientMedicineManageBean.calculateCreatimineClearance.serumCreatinieValueInString eq '')}" style="color:#FF0000;margin:8px;" ></h:outputText>
	 	 			<table > 
	 	 			<tr>
	 	 				 			<td >
	 	 				 				<h:outputText value="Diagnosis: " style="font-weight: bold"/>&nbsp;
	 	 				 				<h:outputText value="#{patientMedicineManageBean.medActionPlan.diagnosis}" />
	 	 				 			</td>
	 	 				 		</tr>
	 	 	 				</table>
	 	 	 				
	 	 	 			<table>
	 	 	 			<tr>
		 	 	 			<td>
		 	 	 				<h:outputText value="Age" />
		 	 	 				<h:outputText value="*" styleClass="mandatoryField"/>
								    
							</td>
							
							<td colspan="2">
								<p:inputText value="#{patientMedicineManageBean.calculateCreatimineClearance.age}" />
							</td>
							
							<td>
		 	 	 				<h:outputText value=" Sex (M/F)" />
		 	 	 				<h:outputText value="*" styleClass="mandatoryField"/>
								    
							</td>
							
							<td>
								<!-- <p:selectOneMenu value="#{patientMedicineManageBean.calculateCreatimineClearance.gender}">
									   	<f:selectItem itemValue="M" itemLabel="Male" />
									   	<f:selectItem itemValue="F" itemLabel="Female" />
									   	
									</p:selectOneMenu> -->
									<p:inputText value="#{patientMedicineManageBean.calculateCreatimineClearance.gender}" />
							</td>
							
							
								  	
	 	 	 			</tr>
	 	 	 			
	 	 	 			<tr>
	 	 	 			
	 	 	 				<td >
		 	 	 				<h:outputText value="Serum Creatinine (mg/dl)" />
		 	 	 				<h:outputText value="*" styleClass="mandatoryField"/>
								    
							</td>
							
							<td colspan="2">
								<p:inputText value="#{patientMedicineManageBean.calculateCreatimineClearance.serumCreatinieValueInString}" />
							</td>
							
		 	 	 			<td>
		 	 	 				<h:outputText value=" Height(Inch)" />
		 	 	 				<h:outputText value="*" styleClass="mandatoryField"/>
								    
							</td>
							
							<td>
								<p:inputText value="#{patientMedicineManageBean.calculateCreatimineClearance.height}" />
							</td>
							
							
						</tr>
						<tr>
							<td>
		 	 	 				<h:outputText value="Weight" />
		 	 	 				<h:outputText value="*" styleClass="mandatoryField"/>
								    
							</td>
							
							
							<td>
						        <p:inputText id="simpleWeight" style="width:50px;" value="#{patientMedicineManageBean.calculateCreatimineClearance.simpleWeight}" >
						        <p:ajax update="simpleWeight ,patWeight,patWeightUnit" listener="#{patientMedicineManageBean.changeWeightUnit}" process="@this,weightUnitId"></p:ajax>
						         </p:inputText>
						       </td>
       
       
						       <td> 
						        <p:selectOneMenu style="width:50px;" id="weightUnitId"
						           value="#{patientMedicineManageBean.calculateCreatimineClearance.findWeightUnit}">
						           
						           <f:selectItem itemLabel="Lbs" itemValue="Lbs" />
						           <f:selectItem itemLabel="Kg"  itemValue="Kg"/>
						          
						          
						        <p:ajax update="patWeight,patWeightUnit" listener="#{patientMedicineManageBean.changeWeightUnit}" process="@this,simpleWeight">
						        </p:ajax>
						       </p:selectOneMenu> </td> 
						       <td>
						       <h:outputText style="width:50px; font-weight:bold; " id="patWeight" value="#{patientMedicineManageBean.calculateCreatimineClearance.weight}" />&nbsp;<h:outputText style="width:50px; font-weight:bold; " id="patWeightUnit" value="#{patientMedicineManageBean.calculateCreatimineClearance.weightUnit}" /> 
						       </td>
						</tr>
						</table>
						
						
	 	 	 		</p:outputPanel>
	 	 	 </p:tab>
	 	 	 
	 	 	 <p:tab id="Step3" title="Step 3" titleStyleClass="popupStepFont">  
	 	 	 		
	 	 	 		  <p:outputPanel>
	 	 	 		<!--    <h:panelGrid columns="2" border="3"> -->
	 	 	 		
	 	 	 		
	 	 	 		
	 	 	 		<table > 
	 	 				<tr>
	 	 				 			<td >
	 	 				 				<h:outputText value="Diagnosis: " style="font-weight: bold"/>&nbsp;
	 	 				 				<h:outputText value="#{patientMedicineManageBean.medActionPlan.diagnosis}" />
	 	 				 			</td>
	 	 				 		</tr>
	 	 	 				</table>
	 	 	 		
	 	 	 		<table>
	 	 	 					<tr>
	 	 	 						<td >
		 	 	 							<h:outputText value="Estimated CrCl :" style="font-weight:bold;" />
		 	 	 				
									</td>
							
										<td>
							<p:outputPanel rendered="#{patientMedicineManageBean.calculateCreatimineClearance.calculateCreatimineClearanceValue gt 80}">
								<h:outputText value="#{patientMedicineManageBean.calculateCreatimineClearance.calculateCreatimineClearanceValue}" />
								<h:outputText value="(ml/min)" />
							</p:outputPanel>
							
							<p:outputPanel rendered="#{patientMedicineManageBean.calculateCreatimineClearance.calculateCreatimineClearanceValue ge 50 and 
							patientMedicineManageBean.calculateCreatimineClearance.calculateCreatimineClearanceValue le 80}" style="color:rgb(255,242,0);font-weight: bolder">
								<h:outputText value="#{patientMedicineManageBean.calculateCreatimineClearance.calculateCreatimineClearanceValue}" />
								<h:outputText value="(ml/min)" />
							</p:outputPanel>
							
							<p:outputPanel rendered="#{patientMedicineManageBean.calculateCreatimineClearance.calculateCreatimineClearanceValue ge 30 and 
							patientMedicineManageBean.calculateCreatimineClearance.calculateCreatimineClearanceValue le 50}" style="color:orange;">
								<h:outputText value="#{patientMedicineManageBean.calculateCreatimineClearance.calculateCreatimineClearanceValue}" />
								<h:outputText value="(ml/min)" />
							</p:outputPanel>
							
							<p:outputPanel rendered="#{patientMedicineManageBean.calculateCreatimineClearance.calculateCreatimineClearanceValue le 30}" style="color:red;">
								<h:outputText value="#{patientMedicineManageBean.calculateCreatimineClearance.calculateCreatimineClearanceValue}" />
								<h:outputText value="(ml/min)" />
							</p:outputPanel>
						</td>
	 	 	 				
	 	 	 					
	 	 	 					<td>
		 	 	 				<h:outputText value="Recommended Dose :" style="font-weight: bold"/>
								    
							</td>
							
							<td>
								<h:outputText value="#{patientMedicineManageBean.patientMedicationData.recommendedDose}" 
									rendered="#{!(patientMedicineManageBean.patientMedicationData.recommendedDose eq 'Not recommended')}"/>
								<h:outputText value="#{patientMedicineManageBean.patientMedicationData.recommendedDose}"  style="color:red;"
									rendered="#{(patientMedicineManageBean.patientMedicationData.recommendedDose eq 'Not recommended')}"/>
		
							</td>
	 	 	 					
	 	 	 				</tr>
	 	 	 		
	 	 	 		</table>
	 	 	 		
	 	 	 				<table>
	 	 	 			
	 	 	 			
	 	 	 			<tr>
	 	 	 			
		 	 	 			
							
							<td>
		 	 	 				<h:outputText value="Strength" /><h:outputText value="*" styleClass="mandatoryField"/>
		 	 	 				
								    
							</td>
							
							<td><p:selectOneMenu required="true" requiredMessage="Please Select Strength"
										value="#{patientMedicineManageBean.patientMedicationData.strengths}"
										style="width:140px;">
										 <f:selectItem
											itemLabel=""
											itemValue="" />
										<f:selectItems value="#{patientMedicineManageBean.doseDetailList}"
											var="doseList" itemLabel="#{doseList.dose}" itemValue="#{doseList.dose}" />
									</p:selectOneMenu>
							
								<!-- <p:inputText value="#{patientMedicineManageBean.medActionPlan.dose}" /> -->
							</td>
							<td>
	 	 	 	 						<h:outputText value="Unit" /><h:outputText value="*" styleClass="mandatoryField"/>
	 	 	 	 				</td>
	 	 	 	 					<td>
				 	 	 	 			<p:selectOneMenu 
													value="#{patientMedicineManageBean.patientMedicationData.unit}" 
													style="width:122px;">
													
													<f:selectItems value="#{patientMedicineManageBean.unitSummaryList}"
														var="unitList" itemLabel="#{unitList.unit}" itemValue="#{unitList.unit}" />
													<p:ajax listener="#{patientMedicineManageBean.calculateTotalDispence}" update="dispenceNumber"></p:ajax>	
														
												</p:selectOneMenu>
	 	 	 	 					</td>
							
								  	
	 	 	 			</tr>
	 	 	 			
	 	 	 			
	 	 	 			<tr>
	 	 	 				
	 	 	 	 					
	 	 	 	 					<td>
	 	 	 	 							<h:outputText value="Dosage form" /><h:outputText value="*" styleClass="mandatoryField"/>
	 	 	 	 						</td>
	 	 	 	 						
	 	 	 	 						<td>
	 	 	 	 						
	 	 	 	 						<!-- <p:selectOneMenu required="true" 
										value="#{patientMedicineManageBean.patientMedicationData.dosageForm}"
										style="width:122px;">
										<f:selectItem itemLabel="#{patientMedicineManageBean.patientMedicationData.dosageForm}" itemValue="#{patientMedicineManageBean.patientMedicationData.dosageForm}" />
	 	 	 	 								
													
														<f:selectItems value="#{patientMedicineManageBean.unitDetailsList}"
															var="unitList" itemLabel="#{unitList.unitName}" itemValue="#{unitList.unitName}" />
											</p:selectOneMenu> -->
											
											<p:inputText  value="#{patientMedicineManageBean.patientMedicationData.dosageForm}" readonly="true" style="width:140px;"></p:inputText>	
								
	 	 	 	 						</td>
	 	 	 	 						
	 	 	 	 						<td>
	 	 	 	 					<h:outputText value="Route" /><h:outputText value="*" styleClass="mandatoryField"/>
	 	 	 	 				</td>
	 	 	 	 			<td>
	 	 	 	 					<!-- <p:selectOneMenu required="true" 
										value="#{patientMedicineManageBean.patientMedicationData.byRoute}"
										style="width:122px;">
									<f:selectItem itemLabel="#{patientMedicineManageBean.patientMedicationData.byRoute}" itemValue="#{patientMedicineManageBean.patientMedicationData.byRoute}" />
										<f:selectItems value="#{patientMedicineManageBean.routeDetailsList}"
											var="routeDetailList" itemLabel="#{routeDetailList.routeName}" itemValue="#{routeDetailList.routeName}" />
										
									</p:selectOneMenu> -->
									
									<p:inputText  value="#{patientMedicineManageBean.patientMedicationData.byRoute}" readonly="true"></p:inputText>
	 	 	 	 			</td>
	 	 	 					</tr>
	 	 	 					
	 	 	 					
	 	 	 						
	 	 	 	 						<!-- <td>
	 	 	 	 							<h:outputText value="Package" /><h:outputText value="*" styleClass="mandatoryField"/>
	 	 	 	 					</td>
	 	 	 	 				<td>
	 	 	 	 						<p:selectOneMenu required="true" 
														value="#{patientMedicineManageBean.patientMedicationData.unitDetail}"
														style="width:122px;">
	 	 	 	 					
										<f:selectItems value="#{patientMedicineManageBean.dosageDetailsList}"
											var="dosageDetailList" itemLabel="#{dosageDetailList.dosageFrom}" itemValue="#{dosageDetailList.dosageFrom}" />
										
									
										</p:selectOneMenu>
	 	 	 	 					</td> -->
	 	 	 	 					
	 	 	 	 					
	 	 	 					
	 	 	 					
	 	 	 					<tr>
	 	 	 						<td>
	 	 	 	 					<h:outputText value="Regimen" /><h:outputText value="*" styleClass="mandatoryField"/>
	 	 	 	 			</td>
	 	 	 	 		
	 	 	 	 		<td>
	 	 	 	 				<p:selectOneMenu required="true" requiredMessage="Please Select Regimen"
										value="#{patientMedicineManageBean.patientMedicationData.directions}"
										style="width:140px;">
										<f:selectItem
											itemLabel=""
											itemValue="" />
										<f:selectItems value="#{patientMedicineManageBean.regimenList}"
											var="regimen" itemLabel="#{regimen}" itemValue="#{regimen}" />
										
										<p:ajax listener="#{patientMedicineManageBean.calculateTotalDispence}" update="dispenceNumber"></p:ajax>	
									</p:selectOneMenu>
	 	 	 	 		</td>
	 	 	 	 		
	 	 	 	 		<td>
	 	 	  							<h:outputText value="Dispense" /><h:outputText value="*" styleClass="mandatoryField"/>
	 	 	  						</td>
	 	 	  						
									<td>
										<p:inputText id="dispenceNumber" style="width:50px;"   converter="#{Integer}" maxlength="3" 
													value="#{patientMedicineManageBean.patientMedicationData.quantity}" >
											<f:convertNumber  pattern="#0" integerOnly="true"  minFractionDigits="3" maxIntegerDigits="3" type="number"/>
										</p:inputText>
									</td>
	 	 	 					</tr>
	 	 	 					
	 	 	 					<tr>
	 	 	 						<td>
					 	 	  			<h:outputText value="Days Supply" />
					 	 	  		</td>
									<td>
											<!-- <p:inputText style="width:50px;" required="true" 
														value="#{patientMedicineManageBean.patientMedicationData.daySupply}" /> -->
														
										<p:selectOneMenu 
													value="#{patientMedicineManageBean.patientMedicationData.daySupply}"
													style="width:80px;">
														<!-- <f:selectItem itemValue="#{patientMedicineManageBean.patientMedicationData.daySupply}" 
													itemLabel="#{patientMedicineManageBean.patientMedicationData.daySupply}"></f:selectItem> -->
													<f:selectItems value="#{patientMedicineManageBean.daySupplyList}"
														var="daySupplyDetailList" itemLabel="#{daySupplyDetailList}" itemValue="#{daySupplyDetailList}" />
												<p:ajax listener="#{patientMedicineManageBean.calculateTotalDispence}" update="dispenceNumber"></p:ajax>	
										</p:selectOneMenu>
								</td>
								
								<td>
	 	 	  						<h:outputText value="Refill"/>
	 	 	  					</td>
	 	 	  					
								<td>
									
												<!-- 	<p:inputText required="true" requiredMessage="Please insert reffils" maxlength="2" 
										 value="#{patientMedicineManageBean.patientMedicationData.reffils}" style="width:50px;">
										 
										 <pe:keyFilter mask="num"></pe:keyFilter>
									</p:inputText> -->
							
									<p:selectOneMenu required="true" 
											value="#{patientMedicineManageBean.patientMedicationData.reffils}"
											style="width:60px;">
											
											<f:selectItems value="#{patientMedicineManageBean.refillDetailsList}"
												var="refillList" itemLabel="#{refillList}" itemValue="#{refillList}" />
											
										</p:selectOneMenu>
								</td>
						
								
	 	 	 					</tr>
	 	 	 			
						</table>
						
						<table>
						<tr>
	 	 	 			
	 	 	 				
							
		 	 	 			<td>
		 	 	 				<h:outputText value="Comments" />
								    
							</td>
							
							<td>
								<!-- <p:inputText value="#{patientMedicineManageBean.patientMedicationData.notes}" /> -->
								<p:inputTextarea  value="#{patientMedicineManageBean.patientMedicationData.notes}"  cols="50" rows="5">
											<!-- <p:ajax update="notesEditor"></p:ajax> -->
								</p:inputTextarea>
							</td>
							
							
						</tr>
					</table >
						</p:outputPanel>
						<table align="right" >
						<tr>
							<td>
							</td>
						</tr>
						<tr>
						
							<td >
								<p:commandButton value="#{msg.done}"
						action="#{patientMedicineManageBean.addMedicine}" update="rivaroxabanMsgId"></p:commandButton>
							</td>
						</tr>
	 	 	 		</table>
	 	 	 		
						 
	 	 	   </p:tab>
			</p:wizard>	
			</td>
	 	 <td valign="top" align="right" width="8%">
	 	 <p:commandButton value="#{msg.cancel}" action="#{patientMedicineManageBean.submitCancelButtonForAnticoag}" immediate="true"
						></p:commandButton>
	 	 </td>
	 	</tr>
	 </table>
		</h:form>	
	 				

		</p:dialog>

<!-- ************pop up end  Rivaroxaban *********************************************************** -->

<!-- ************pop up start  Desirudin *********************************************************** -->


<p:dialog id="desirudinid" widgetVar="Desirudin"
								resizable="false"  appendTo="@(body)" modal="true"
				 				height="400" width="50%" dynamic="true" closable="false" position="bottom">
		<f:facet name="header">
      		<h:outputText id="DesirudinHeader" value="#{patientMedicineManageBean.patientMedicationData.drugs}" />
   		</f:facet>
		
		<h:form id="desirudinDetails">	
			 			<p:messages  id="desirudinMsgId" showDetail="false" style="color:#FF0000;margin:8px;"  closable="true" showSummary="true"/>	
					 <table  width="100%" border="0"><tr><td width="92%" valign="top">
					 	 <p:wizard titleStyleClass="popupStepFont" flowListener="#{patientMedicineManageBean.onFlowProcessOfDesirudin}">  
					 	 	
					 	 	
					 	 	
					 	 	 <p:tab id="step1" title="Step 1" titleStyleClass="popupStepFont">  
					 	  <p:outputPanel>	 
	 	 				  <h:outputText value="#{msg.Cr_lab_message}" 
					 	  rendered="#{(patientMedicineManageBean.calculateCreatimineClearance.serumCreatinieValueInString eq '')}" style="color:#FF0000;margin:8px;" ></h:outputText>
	 	 			<table>
	 	 	 			<tr>
		 	 	 			<td>
		 	 	 				<h:outputText value="Age" />
		 	 	 				<h:outputText value="*" styleClass="mandatoryField"/>
								    
							</td>
							
							<td colspan="2">
								<p:inputText value="#{patientMedicineManageBean.calculateCreatimineClearance.age}" />
							</td>
							
							<td>
		 	 	 				<h:outputText value=" Sex (M/F)" />
		 	 	 				<h:outputText value="*" styleClass="mandatoryField"/>
								    
							</td>
							
							<td >
								<!-- <p:selectOneMenu value="#{patientMedicineManageBean.calculateCreatimineClearance.gender}">
									   	<f:selectItem itemValue="M" itemLabel="Male" />
									   	<f:selectItem itemValue="F" itemLabel="Female" />
									   	
									</p:selectOneMenu> -->
									<p:inputText value="#{patientMedicineManageBean.calculateCreatimineClearance.gender}" />
							</td>
							
							
								  	
	 	 	 			</tr>
	 	 	 			
	 	 	 			<tr>
	 	 	 			
	 	 	 				<td >
		 	 	 				<h:outputText value="Serum Creatinine (mg/dl)" />
		 	 	 				<h:outputText value="*" styleClass="mandatoryField"/>
								    
							</td>
							
							<td colspan="2">
								<p:inputText value="#{patientMedicineManageBean.calculateCreatimineClearance.serumCreatinieValueInString}" />
							</td>
							
		 	 	 			<td>
		 	 	 				<h:outputText value=" Height(Inch)" />
		 	 	 				<h:outputText value="*" styleClass="mandatoryField"/>
								    
							</td>
							
							<td>
								<p:inputText value="#{patientMedicineManageBean.calculateCreatimineClearance.height}" />
							</td>
							
							
						</tr>
						
						<tr>
							<td>
		 	 	 				<h:outputText value="Weight" />
		 	 	 				<h:outputText value="*" styleClass="mandatoryField"/>
								    
							</td>
							
							<td>
						        <p:inputText id="simpleWeight" style="width:50px;" value="#{patientMedicineManageBean.calculateCreatimineClearance.simpleWeight}" >
						        <p:ajax update="simpleWeight ,patWeight,patWeightUnit" listener="#{patientMedicineManageBean.changeWeightUnit}" process="@this,weightUnitId"></p:ajax>
						         </p:inputText>
						       </td>
       
       
						       <td> 
						        <p:selectOneMenu style="width:50px;" id="weightUnitId"
						           value="#{patientMedicineManageBean.calculateCreatimineClearance.findWeightUnit}">
						           
						           <f:selectItem itemLabel="Lbs" itemValue="Lbs" />
						           <f:selectItem itemLabel="Kg"  itemValue="Kg"/>
						          
						          
						        <p:ajax update="patWeight,patWeightUnit" listener="#{patientMedicineManageBean.changeWeightUnit}" process="@this,simpleWeight">
						        </p:ajax>
						       </p:selectOneMenu> </td> 
						       <td>
						       <h:outputText style="width:50px; font-weight:bold; " id="patWeight" value="#{patientMedicineManageBean.calculateCreatimineClearance.weight}" />&nbsp;<h:outputText style="width:50px; font-weight:bold; " id="patWeightUnit" value="#{patientMedicineManageBean.calculateCreatimineClearance.weightUnit}" /> 
						       </td>
						</tr>
						
						
	 	 	 		</table>
	 	 	 		</p:outputPanel>
	 	 	 </p:tab>
	 	 	 
	 	 	 <p:tab id="Step2" title="Step 2" titleStyleClass="popupStepFont">  
	 	 	 		
	 	 	 			 <p:outputPanel>
	 	 	 		<!--    <h:panelGrid columns="2" border="3"> -->
	 	 	 		
	 	 	 		<table>
	 	 	 			<tr>
							<td>
							<h:outputText value="Note:" styleClass="outputtext"/> &nbsp;&nbsp;&nbsp;
								<h:outputText value="Recommended dose 1.7- 5mg q12h if creatinine clearance is 30 - 80 ml/min" />
							</td>
							
						</tr>
						</table>
						<table>
	 	 	 			<tr>
	 	 	 			
	 	 	 			<td >
		 	 	 				<h:outputText value="Estimated CrCl :" style="font-weight:bold;"/>
								    
							</td>
							
						<td>
							<p:outputPanel rendered="#{patientMedicineManageBean.calculateCreatimineClearance.calculateCreatimineClearanceValue gt 80}">
								<h:outputText value="#{patientMedicineManageBean.calculateCreatimineClearance.calculateCreatimineClearanceValue}" />
								<h:outputText value="(ml/min)" />
							</p:outputPanel>
							
							<p:outputPanel rendered="#{patientMedicineManageBean.calculateCreatimineClearance.calculateCreatimineClearanceValue ge 50 and 
							patientMedicineManageBean.calculateCreatimineClearance.calculateCreatimineClearanceValue le 80}" style="color:rgb(255,242,0);font-weight: bolder">
								<h:outputText value="#{patientMedicineManageBean.calculateCreatimineClearance.calculateCreatimineClearanceValue}" />
								<h:outputText value="(ml/min)" />
							</p:outputPanel>
							
							<p:outputPanel rendered="#{patientMedicineManageBean.calculateCreatimineClearance.calculateCreatimineClearanceValue ge 30 and 
							patientMedicineManageBean.calculateCreatimineClearance.calculateCreatimineClearanceValue le 50}" style="color:orange;">
								<h:outputText value="#{patientMedicineManageBean.calculateCreatimineClearance.calculateCreatimineClearanceValue}" />
								<h:outputText value="(ml/min)" />
							</p:outputPanel>
							
							<p:outputPanel rendered="#{patientMedicineManageBean.calculateCreatimineClearance.calculateCreatimineClearanceValue le 30}" style="color:red;">
								<h:outputText value="#{patientMedicineManageBean.calculateCreatimineClearance.calculateCreatimineClearanceValue}" />
								<h:outputText value="(ml/min)" />
							</p:outputPanel>
						</td>
	 	 	 				<td>
		 	 	 				<h:outputText value="Recommended Dose:" style="font-weight:bold;" />
								    
							</td>
							
							<td>
								<h:outputText value="#{patientMedicineManageBean.patientMedicationData.recommendedDose}" 
									rendered="#{!(patientMedicineManageBean.patientMedicationData.recommendedDose eq 'Not recommended')}"/>
								<h:outputText value="#{patientMedicineManageBean.patientMedicationData.recommendedDose}" style="color:red;"  
									rendered="#{patientMedicineManageBean.patientMedicationData.recommendedDose eq 'Not recommended'}"/>
							</td>
	 	 	 			</tr>
	 	 	 		</table>
	 	 	 		
	 	 	 			<table>
	 	 	 			
	 	 	 			
	 	 	 			<tr>
	 	 	 			
							<td>
		 	 	 				<h:outputText value="Strength" /><h:outputText value="*" styleClass="mandatoryField"/>
		 	 	 				
								    
							</td>
							
							<td><p:selectOneMenu required="true" requiredMessage="Please Select Strength"
										value="#{patientMedicineManageBean.patientMedicationData.strengths}"
										style="width:122px;">
									<f:selectItem
											itemLabel="" itemValue="" /> 
										<f:selectItems value="#{patientMedicineManageBean.doseDetailList}"
											var="doseList" itemLabel="#{doseList.dose}" itemValue="#{doseList.dose}" />
									</p:selectOneMenu>
							
								<!-- <p:inputText value="#{patientMedicineManageBean.medActionPlan.dose}" /> -->
							</td>
							
							<td>
	 	 	 	 						<h:outputText value="Unit" /><h:outputText value="*" styleClass="mandatoryField"/>
	 	 	 	 				</td>
	 	 	 	 					<td>
				 	 	 	 			<p:selectOneMenu 
													value="#{patientMedicineManageBean.patientMedicationData.unit}" 
													style="width:122px;">
													
													<f:selectItems value="#{patientMedicineManageBean.unitSummaryList}"
														var="unitList" itemLabel="#{unitList.unit}" itemValue="#{unitList.unit}" />
														
												<p:ajax listener="#{patientMedicineManageBean.calculateTotalDispence}" update="dispenceNumber"></p:ajax>	
														
												</p:selectOneMenu>
	 	 	 	 					</td>
	 	 	 	 					
								  	
	 	 	 			</tr>
	 	 	 			
	 	 	 			
	 	 	 			<tr>
	 	 	 				
	 	 	 	 					<td>
	 	 	 	 							<h:outputText value="Dosage form" /><h:outputText value="*" styleClass="mandatoryField"/>
	 	 	 	 						</td>
	 	 	 	 						
	 	 	 	 						<td>
	 	 	 	 						
	 	 	 	 							<!-- <p:selectOneMenu required="true" 
													value="#{patientMedicineManageBean.patientMedicationData.dosageForm}"
													style="width:122px;">
										<f:selectItem itemLabel="#{patientMedicineManageBean.patientMedicationData.dosageForm}" itemValue="#{patientMedicineManageBean.patientMedicationData.dosageForm}" />
	 	 	 	 								
														<f:selectItems value="#{patientMedicineManageBean.unitDetailsList}"
															var="unitList" itemLabel="#{unitList.unitName}" itemValue="#{unitList.unitName}" />
											</p:selectOneMenu> -->
									<p:inputText  value="#{patientMedicineManageBean.patientMedicationData.dosageForm}" readonly="true"></p:inputText>	
								
	 	 	 	 						</td>
	 	 	 	 						
	 	 	 	 						
	 	 	 	 					<td>
	 	 	 	 					<h:outputText value="Route" /><h:outputText value="*" styleClass="mandatoryField"/>
	 	 	 	 				</td>
	 	 	 	 			<td>
	 	 	 	 					<!-- <p:selectOneMenu required="true" 
										value="#{patientMedicineManageBean.patientMedicationData.byRoute}"
										style="width:122px;">
									<f:selectItem itemLabel="#{patientMedicineManageBean.patientMedicationData.byRoute}" itemValue="#{patientMedicineManageBean.patientMedicationData.byRoute}" />
										<f:selectItems value="#{patientMedicineManageBean.routeDetailsList}"
											var="routeDetailList" itemLabel="#{routeDetailList.routeName}" itemValue="#{routeDetailList.routeName}" />
										
									</p:selectOneMenu> -->
									
									<p:inputText  value="#{patientMedicineManageBean.patientMedicationData.byRoute}" readonly="true"></p:inputText>
	 	 	 	 			</td>
	 	 	 					</tr>
	 	 	 					
	 	 	 				
	 	 	 						
	 	 	 	 						<!-- <td>
	 	 	 	 							<h:outputText value="Package" /><h:outputText value="*" styleClass="mandatoryField"/>
	 	 	 	 					</td>
	 	 	 	 				<td>
	 	 	 	 						<p:selectOneMenu required="true" 
														value="#{patientMedicineManageBean.patientMedicationData.unitDetail}"
														style="width:122px;">
													
										<f:selectItems value="#{patientMedicineManageBean.dosageDetailsList}"
											var="dosageDetailList" itemLabel="#{dosageDetailList.dosageFrom}" itemValue="#{dosageDetailList.dosageFrom}" />
										
									
										</p:selectOneMenu>
	 	 	 	 					</td> -->
	 	 	 	 					
	 	 	 					
	 	 	 					
	 	 	 					<tr>
	 	 	 						<td>
	 	 	 	 					<h:outputText value="Regimen" /><h:outputText value="*" styleClass="mandatoryField"/>
	 	 	 	 			</td>
	 	 	 	 		
	 	 	 	 		<td>
	 	 	 	 				<p:selectOneMenu required="true" requiredMessage="Please Select Regimen"
										value="#{patientMedicineManageBean.patientMedicationData.directions}"
										style="width:122px;">
										
										<f:selectItem
											itemLabel=""
											itemValue="" />
										<f:selectItems value="#{patientMedicineManageBean.regimenList}"
											var="regimen" itemLabel="#{regimen}" itemValue="#{regimen}" />
											
											<p:ajax listener="#{patientMedicineManageBean.calculateTotalDispence}" update="dispenceNumber"></p:ajax>		
									</p:selectOneMenu>
	 	 	 	 		</td>
	 	 	 	 		
	 	 	 	 		<td><h:outputText value="Dispense" /><h:outputText value="*" styleClass="mandatoryField"/>
	 	 	  						</td>
	 	 	  						
									<td>
										<p:inputText id="dispenceNumber" style="width:50px;"   converter="#{Integer}" maxlength="3" 
													value="#{patientMedicineManageBean.patientMedicationData.quantity}" >
											<f:convertNumber  pattern="#0" integerOnly="true"  minFractionDigits="3" maxIntegerDigits="3" type="number"/>
										</p:inputText>
									</td>
	 	 	 					</tr>
	 	 	 					
	 	 	 					<tr>
	 	 	 						<td>
					 	 	  			<h:outputText value="Days Supply" />
					 	 	  		</td>
									<td>
											<!-- <p:inputText style="width:50px;" required="true" 
														value="#{patientMedicineManageBean.patientMedicationData.daySupply}" /> -->
														
										<p:selectOneMenu 
													value="#{patientMedicineManageBean.patientMedicationData.daySupply}"
													style="width:80px;">
														<!-- <f:selectItem itemValue="#{patientMedicineManageBean.patientMedicationData.daySupply}" 
													itemLabel="#{patientMedicineManageBean.patientMedicationData.daySupply}"></f:selectItem> -->
													<f:selectItems value="#{patientMedicineManageBean.daySupplyList}"
														var="daySupplyDetailList" itemLabel="#{daySupplyDetailList}" itemValue="#{daySupplyDetailList}" />
													<p:ajax listener="#{patientMedicineManageBean.calculateTotalDispence}" update="dispenceNumber"></p:ajax>		 -->
										</p:selectOneMenu>
								</td>
								
								<td>
	 	 	  						<h:outputText value="Refill"/>
	 	 	  					</td>
	 	 	  					
								<td>
									
												<!-- 	<p:inputText required="true" requiredMessage="Please insert reffils" maxlength="2" 
										 value="#{patientMedicineManageBean.patientMedicationData.reffils}" style="width:50px;">
										 
										 <pe:keyFilter mask="num"></pe:keyFilter>
									</p:inputText> -->
							
									<p:selectOneMenu required="true" 
											value="#{patientMedicineManageBean.patientMedicationData.reffils}"
											style="width:60px;">
											
											<f:selectItems value="#{patientMedicineManageBean.refillDetailsList}"
												var="refillList" itemLabel="#{refillList}" itemValue="#{refillList}" />
											
										</p:selectOneMenu>
								</td>
						
								
	 	 	 					</tr>
	 	 	 			
						</table>
						
						<table>
						<tr>
	 	 	 			
	 	 	 				
							
		 	 	 			<td>
		 	 	 				<h:outputText value="Comments" />
								    
							</td>
							
							<td>
								<!-- <p:inputText value="#{patientMedicineManageBean.patientMedicationData.notes}" /> -->
								<p:inputTextarea  value="#{patientMedicineManageBean.patientMedicationData.notes}"  cols="50" rows="5">
											<!-- <p:ajax update="notesEditor"></p:ajax> -->
								</p:inputTextarea>
							</td>
							
							
						</tr>
					</table >
	 	 	 		</p:outputPanel>
						 
	 	 	   </p:tab>
	 	 	   
	 	 	   <p:tab id="step3" title="Step 3" titleStyleClass="popupStepFont">  
					 <p:outputPanel >
					
			
					<table >
								
							<!-- <tr>
								<td>
									<h:outputText value="Monitoring (Suggested / Optional)" />
								</td>
								
							</tr>	 -->
							
							<tr>
								<td valign="top">
									<h:outputText value="aPTT monitoring for" styleClass="popupStepFont"/>
								</td>
								<td>
									<table>
										<tr>
											<td>
												<p:selectManyCheckbox  value="#{patientMedicineManageBean.medicineListForApixaBanDoseTest}"
											            layout="pageDirection">  
											            <f:selectItem itemLabel="Patients at increased risk for hemorrhage" itemValue="1" />  
											            <f:selectItem itemLabel="Patients with renal impairment" itemValue="2" />  
											         
											          <p:ajax 
																listener="#{patientMedicineManageBean.checkSelectaPTTMonitoring}"
																execute="@this" update=":desirudinDetails,showDesirudinLabFrequency"></p:ajax>
											             
											        </p:selectManyCheckbox>  
											</td>
										</tr>
									
									</table>
								</td>
							</tr>	
								
				 	   
						</table>
						
				 </p:outputPanel>
				 
				 <p:outputPanel id="showDesirudinLabFrequency">
				  <p:fieldset rendered="#{patientMedicineManageBean.showDesirudinLabFrequency}">
					<table>
							<tr>
								<td valign="top">
									<p:dataTable value="#{patientMedicineManageBean.labDetailList}" var="labDetail" emptyMessage="#{msg.noMedFound}">
										
										<p:column>
											<f:facet name="header">
												<h:outputText value="Select" />
											</f:facet>
											<p:selectBooleanCheckbox value="#{labDetail.selected}" />  
										</p:column>
										
										<p:column>
											<f:facet name="header">
												<h:outputText value="Lab Name" />
											</f:facet>
											<h:outputText value="#{labDetail.labName}" />
										</p:column>
										
										<p:column>
											<f:facet name="header">
												<h:outputText value="Lab Frequency" />
											</f:facet>
											<p:selectOneMenu value="#{labDetail.labfrequencyDetail}">
															<!-- <f:selectItem
																itemLabel="#{patientMedicineManageBean.medActionPlan.labFrequency}"
																itemValue="#{patientMedicineManageBean.medActionPlan.labFrequency}" /> -->
															<f:selectItems
																value="#{patientMedicineManageBean.lMWHFrequencyList}"
																var="labFreq" itemLabel="#{labFreq}" itemValue="#{labFreq}" />
												</p:selectOneMenu>
										</p:column>
																	
									
									</p:dataTable>
												
								</td>
							
						</tr>
						<!-- <tr>
						
							<td align="right" colspan="6">
								<p:commandButton value="#{msg.done}"
						action="#{patientMedicineManageBean.modifyMedicationActionPlan}"></p:commandButton>
							</td>
						</tr> -->
						</table>
						</p:fieldset>
						<table width="90%">
							<tr>
						
							<td align="right">
								<p:commandButton value="#{msg.done}" update="desirudinMsgId"
						action="#{patientMedicineManageBean.addMedicine}"></p:commandButton>
							</td>
						</tr>
						</table>
				</p:outputPanel>
	 	 	 		
	 	 				 </p:tab>
			</p:wizard>	
			</td>
	 	 <td valign="top" align="right" width="8%">
	 	   <p:commandButton value="#{msg.cancel}" action="#{patientMedicineManageBean.submitCancelButtonForAnticoag}" immediate="true"
						></p:commandButton>
	 	 </td>
	 	</tr>
	 </table>
		</h:form>	
	
	</p:dialog> 			
	<!-- ************pop up end  Desirudin *********************************************************** -->
	
	<!-- ************************ pop up started for Apixaban medicine************************************* -->
<p:dialog id="Apixabanid" widgetVar="Apixaban"
					resizable="false"  appendTo="@(body)" modal="true"
	 				height="400" width="45%" dynamic="true" closable="false" position="bottom">
	 <f:facet name="header">
      		<h:outputText id="ApixabanHeader" value="#{patientMedicineManageBean.patientMedicationData.drugs}" />
   		</f:facet>
	 						
				<h:form >
	 				<p:messages  id="apixabanMsgId" showDetail="false" style="color:#FF0000;margin:8px;"  closable="true" showSummary="true"/> 
					 <table  width="100%" border="0"><tr><td width="92%" valign="top">
					 	 <p:wizard titleStyleClass="popupStepFont" flowListener="#{patientMedicineManageBean.onFlowProcessOfApixaban}">  
					 	 	
					 	 	 <p:tab id="step1" title="Step 1" titleStyleClass="popupStepFont">  
					 	  <p:outputPanel>	
					 	   <h:outputText value="#{msg.Cr_lab_message}" 
					 	  		rendered="#{(patientMedicineManageBean.calculateCreatimineClearance.serumCreatinieValueInString eq '')}" style="color:#FF0000;margin:8px;" ></h:outputText>
	 	 			<table>
	 	 				<tr>
	 	 					<td>
	 	 						<h:outputText  id="setAgeId" value="Dosing wizard is valid for adults (>=18 years of age only)" rendered="#{patientMedicineManageBean.calculateCreatimineClearance.age le 18}"  
	 	 								 style="color:red;" >
	 	 								
	 	 							</h:outputText>
	 	 							
	 	 					
	 	 					</td>
	 	 				</tr>
	 	 				</table> 
	 	 			<table>
	 	 	 			<tr>
		 	 	 			<td>
		 	 	 				<h:outputText value="Age" />
		 	 	 				<h:outputText value="*" styleClass="mandatoryField"/>
							  
							</td>
							
							<td colspan="2">
								<p:inputText value="#{patientMedicineManageBean.calculateCreatimineClearance.age}" >
									<p:ajax update="@form"  ></p:ajax>
								</p:inputText>
							</td>
							
							<td>
		 	 	 				<h:outputText value=" Sex (M/F)" />
		 	 	 				<h:outputText value="*" styleClass="mandatoryField"/>
								    
							</td>
							
							<td>
								<!-- <p:selectOneMenu value="#{patientMedicineManageBean.calculateCreatimineClearance.gender}">
									   	<f:selectItem itemValue="M" itemLabel="Male" />
									   	<f:selectItem itemValue="F" itemLabel="Female" />
									   	
									</p:selectOneMenu> -->
									<p:inputText value="#{patientMedicineManageBean.calculateCreatimineClearance.gender}" />
							</td>
							
							
								  	
	 	 	 			</tr>
	 	 	 			
	 	 	 			
	 	 	 			<tr>
	 	 	 			
	 	 	 				<td>
		 				<h:outputText value="Serum Creatinine (mg/dl)" />
		 	 	 				<h:outputText value="*" styleClass="mandatoryField"/>
								    
							</td>
							
							<td colspan="2">
								<p:inputText value="#{patientMedicineManageBean.calculateCreatimineClearance.serumCreatinieValueInString}" />
							</td>
							
		 	 	 			<td>
		 	 	 				<h:outputText value=" Height(Inch)" />
		 	 	 				<h:outputText value="*" styleClass="mandatoryField"/>
								    
							</td>
							
							<td>
								<p:inputText value="#{patientMedicineManageBean.calculateCreatimineClearance.height}" />
							</td>
							
							
						</tr>
						
						
						
						
						<tr>
							<td>
		 	 	 				<h:outputText value="Weight" />
		 	 	 				<h:outputText value="*" styleClass="mandatoryField"/>
								    
							</td>
							
							<td>
						        <p:inputText id="simpleWeight" style="width:50px;" value="#{patientMedicineManageBean.calculateCreatimineClearance.simpleWeight}" >
						        <p:ajax update="simpleWeight ,patWeight,patWeightUnit" listener="#{patientMedicineManageBean.changeWeightUnit}" process="@this,weightUnitId"></p:ajax>
						         </p:inputText>
						       </td>
       
       
						       <td> 
						        <p:selectOneMenu style="width:50px;" id="weightUnitId"
						           value="#{patientMedicineManageBean.calculateCreatimineClearance.findWeightUnit}">
						           
						           <f:selectItem itemLabel="Lbs" itemValue="Lbs" />
						           <f:selectItem itemLabel="Kg"  itemValue="Kg"/>
						          
						          
						        <p:ajax update="patWeight,patWeightUnit" listener="#{patientMedicineManageBean.changeWeightUnit}" process="@this,simpleWeight">
						        </p:ajax>
						       </p:selectOneMenu> </td> 
						       <td>
						       <h:outputText style="width:50px; font-weight:bold; " id="patWeight" value="#{patientMedicineManageBean.calculateCreatimineClearance.weight}" />&nbsp;<h:outputText style="width:50px; font-weight:bold; " id="patWeightUnit" value="#{patientMedicineManageBean.calculateCreatimineClearance.weightUnit}" /> 
						       </td>
						</tr>
	 	 	 		</table>
	 	 	 		</p:outputPanel>
	 	 	 </p:tab>
	 	 	 
	 	 	 <p:tab id="step2" title="Step 2" titleStyleClass="popupStepFont">  
					 	  <p:outputPanel>	 
	 	 			
	 	 				<table>
	 	 					<tr>
	 	 						<td>
	 	 							<h:outputText value="Is the patient currently taking any dual CYP3A4 and P-gp inhibitors?" styleClass="popupStepFont"/>
	 	 						</td>
	 	 					</tr>
	 	 				</table>
	 	 				
	 	 				<table>
	 	 					<tr>
	 	 						<td valign="top">
												<p:selectManyCheckbox value="#{patientMedicineManageBean.medicineListForApixaBanDoseTest}" 
											            layout="pageDirection">  
											            <f:selectItem itemLabel="Itraconazole" itemValue="Itraconazole" />  
											            <f:selectItem itemLabel="Lopinavir" itemValue="Lopinavir" />  
											            <f:selectItem itemLabel="Ritonavir" itemValue="Ritonavir" />  
											            <f:selectItem itemLabel="Clarithromycin" itemValue="Clarithromycin" />  
											            <f:selectItem itemLabel="Ketoconazole" itemValue="Ketoconazole" />  
											        </p:selectManyCheckbox>  
											</td>
	 	 						
	 	 					<td>
	 	 					<table>
	 	 						<tr>
	 	 							<td>
	 	 								<p:selectManyCheckbox  value="#{patientMedicineManageBean.medicineListForApixaBanDoseTest2}" 
											            layout="pageDirection">  
											            <f:selectItem itemLabel="Indinavir" itemValue="Indinavir" />  
											            <f:selectItem itemLabel="Conivaptan" itemValue="Conivaptan" />  
											            <f:selectItem itemLabel="Verapamil" itemValue="Verapamil" />  
											            <f:selectItem itemLabel="Erythromycin" itemValue="Erythromycin" />  
											            <f:selectItem itemLabel="Diltiazem" itemValue="Diltiazem" />  
											        </p:selectManyCheckbox>  
	 	 							</td>
	 	 							
	 	 							
	 	 					</tr>
	 	 				</table>
	 	 			</td>
	 	 			
	 	 			
	 	 					<td>
	 	 					<table>
	 	 						<tr>
	 	 							<td>
	 	 								<p:selectManyCheckbox  value="#{patientMedicineManageBean.medicineListForApixaBanDoseTest3}" 
											            layout="pageDirection">  
											            <f:selectItem itemLabel="Dronedarone" itemValue="Dronedarone" />  
											            <f:selectItem itemLabel="Quinidine" itemValue="Quinidine" />  
											            <f:selectItem itemLabel="Ranolazine" itemValue="Ranolazine" />  
											            <f:selectItem itemLabel="Felodipine" itemValue="Felodipine" />  
											            <f:selectItem itemLabel="Azithromycin" itemValue="Azithromycin" />  
											        </p:selectManyCheckbox>  
	 	 							</td>
	 	 							
	 	 							
	 	 					</tr>
	 	 				</table>
	 	 			</td>
	 	 						
	 	 					</tr>
	 	 				</table>
	 	 	 		</p:outputPanel>
	 	 	 </p:tab>
	 	 	 
	 	 	 <p:tab id="Step3" title="Step 3" titleStyleClass="popupStepFont">  
	 	 	 		
	 	 	 		  <p:outputPanel>
	 	 	 		<!--    <h:panelGrid columns="2" border="3"> -->
	 	 	 		
	 	 	 		<table>
	 	 	 			<tr>
	 	 	 			<td >
		 	 	 				<h:outputText value="Estimated CrCl :" style="font-weight:bold;"/>
								    
							</td>
							
						<td>
							<p:outputPanel rendered="#{patientMedicineManageBean.calculateCreatimineClearance.calculateCreatimineClearanceValue gt 80}">
								<h:outputText value="#{patientMedicineManageBean.calculateCreatimineClearance.calculateCreatimineClearanceValue}" />
								<h:outputText value="(ml/min)" />
							</p:outputPanel>
							
							<p:outputPanel rendered="#{patientMedicineManageBean.calculateCreatimineClearance.calculateCreatimineClearanceValue ge 50 and 
							patientMedicineManageBean.calculateCreatimineClearance.calculateCreatimineClearanceValue le 80}" style="color:rgb(255,242,0);font-weight: bolder">
								<h:outputText value="#{patientMedicineManageBean.calculateCreatimineClearance.calculateCreatimineClearanceValue}" />
								<h:outputText value="(ml/min)" />
							</p:outputPanel>
							
							<p:outputPanel rendered="#{patientMedicineManageBean.calculateCreatimineClearance.calculateCreatimineClearanceValue ge 30 and 
							patientMedicineManageBean.calculateCreatimineClearance.calculateCreatimineClearanceValue le 50}" style="color:orange;">
								<h:outputText value="#{patientMedicineManageBean.calculateCreatimineClearance.calculateCreatimineClearanceValue}" />
								<h:outputText value="(ml/min)" />
							</p:outputPanel>
							
							<p:outputPanel rendered="#{patientMedicineManageBean.calculateCreatimineClearance.calculateCreatimineClearanceValue le 30}" style="color:red;">
								<h:outputText value="#{patientMedicineManageBean.calculateCreatimineClearance.calculateCreatimineClearanceValue}" />
								<h:outputText value="(ml/min)" />
							</p:outputPanel>
						</td>
	 	 	 			
	 	 	 			<td>
		 	 	 				<h:outputText value="Recommended Dose:" style="font-weight:bold;"/>
								    
							</td>
							
							<td>
								<h:outputText value="#{patientMedicineManageBean.patientMedicationData.recommendedDose}" />
							</td>
	 	 	 			
	 	 	 			</tr>
	 	 	 		</table>
	 	 	 		
	 	 	 			<table>
	 	 	 			
	 	 	 			
	 	 	 			<tr>
							
							<td>
		 	 	 				<h:outputText value="Strength" /><h:outputText value="*" styleClass="mandatoryField"/>
							</td>
							
							<td><p:selectOneMenu required="true" requiredMessage="Please Select Strength"
										value="#{patientMedicineManageBean.patientMedicationData.strengths}"
										style="width:122px;">
										<!-- <f:selectItem
											itemLabel="#{patientMedicineManageBean.medActionPlan.dose}"
											itemValue="#{patientMedicineManageBean.medActionPlan.dose}" /> -->
										<f:selectItems value="#{patientMedicineManageBean.doseDetailList}"
											var="doseList" itemLabel="#{doseList.dose}" itemValue="#{doseList.dose}" />
									</p:selectOneMenu>
							
								<!-- <p:inputText value="#{patientMedicineManageBean.medActionPlan.dose}" /> -->
							</td>
							<td>
	 	 	 	 						<h:outputText value="Unit" /><h:outputText value="*" styleClass="mandatoryField"/>
	 	 	 	 				</td>
	 	 	 	 					<td>
				 	 	 	 			<p:selectOneMenu 
													value="#{patientMedicineManageBean.patientMedicationData.unit}" 
													style="width:122px;">
													
													<f:selectItems value="#{patientMedicineManageBean.unitSummaryList}"
														var="unitList" itemLabel="#{unitList.unit}" itemValue="#{unitList.unit}" />
														
													<p:ajax listener="#{patientMedicineManageBean.calculateTotalDispence}" update="dispenceNumber"></p:ajax>	
														
												</p:selectOneMenu>
	 	 	 	 					</td>
							
								  	
	 	 	 			</tr>
	 	 	 			
	 	 	 			
	 	 	 			<tr>
	 	 	 	 					<td>
	 	 	 	 							<h:outputText value="Dosage form" /><h:outputText value="*" styleClass="mandatoryField"/>
	 	 	 	 						</td>
	 	 	 	 						
	 	 	 	 						<td>
	 	 	 	 						
	 	 	 	 						<!-- <p:selectOneMenu required="true" 
										value="#{patientMedicineManageBean.patientMedicationData.dosageForm}"
										style="width:122px;">
										<f:selectItem itemLabel="#{patientMedicineManageBean.patientMedicationData.dosageForm}" itemValue="#{patientMedicineManageBean.patientMedicationData.dosageForm}" />
	 	 	 	 								
													
														<f:selectItems value="#{patientMedicineManageBean.unitDetailsList}"
															var="unitList" itemLabel="#{unitList.unitName}" itemValue="#{unitList.unitName}" />
											</p:selectOneMenu> -->
											
											<p:inputText  value="#{patientMedicineManageBean.patientMedicationData.dosageForm}" readonly="true"></p:inputText>	
								
	 	 	 	 						</td>
	 	 	 	 						
	 	 	 	 						<td>
	 	 	 	 					<h:outputText value="Route" /><h:outputText value="*" styleClass="mandatoryField"/>
	 	 	 	 				</td>
	 	 	 	 			<td>
	 	 	 	 					<!-- <p:selectOneMenu required="true" 
										value="#{patientMedicineManageBean.patientMedicationData.byRoute}"
										style="width:122px;">
									<f:selectItem itemLabel="#{patientMedicineManageBean.patientMedicationData.byRoute}" itemValue="#{patientMedicineManageBean.patientMedicationData.byRoute}" />
										<f:selectItems value="#{patientMedicineManageBean.routeDetailsList}"
											var="routeDetailList" itemLabel="#{routeDetailList.routeName}" itemValue="#{routeDetailList.routeName}" />
										
									</p:selectOneMenu> -->
									<p:inputText  value="#{patientMedicineManageBean.patientMedicationData.byRoute}" readonly="true"></p:inputText>
	 	 	 	 			</td>
	 	 	 					</tr>
	 	 	 					
	 	 	 					
	 	 	 						
	 	 	 	 						<!-- <td>
	 	 	 	 							<h:outputText value="Package" /><h:outputText value="*" styleClass="mandatoryField"/>
	 	 	 	 					</td>
	 	 	 	 				<td>
	 	 	 	 						
	 	 	 	 						<p:selectOneMenu required="true" 
														value="#{patientMedicineManageBean.patientMedicationData.unitDetail}"
														style="width:122px;">
										<f:selectItems value="#{patientMedicineManageBean.dosageDetailsList}"
											var="dosageDetailList" itemLabel="#{dosageDetailList.dosageFrom}" itemValue="#{dosageDetailList.dosageFrom}" />
										
									
										</p:selectOneMenu>
	 	 	 	 					</td> -->
	 	 	 	 					
	 	 	 	 					
	 	 	 					
	 	 	 					
	 	 	 					<tr>
	 	 	 						<td>
	 	 	 	 					<h:outputText value="Regimen" /><h:outputText value="*" styleClass="mandatoryField"/>
	 	 	 	 			</td>
	 	 	 	 		
	 	 	 	 		<td>
	 	 	 	 				<p:selectOneMenu required="true" requiredMessage="Please Select Regimen"
										value="#{patientMedicineManageBean.patientMedicationData.directions}"
										style="width:122px;">
										
										<f:selectItems value="#{patientMedicineManageBean.regimenList}"
											var="regimen" itemLabel="#{regimen}" itemValue="#{regimen}" />
											<p:ajax listener="#{patientMedicineManageBean.calculateTotalDispence}" update="dispenceNumber"></p:ajax>	
											
									</p:selectOneMenu>
	 	 	 	 		</td>
	 	 	 	 		
	 	 	 	 		<td>
	 	 	  							<h:outputText value="Dispense" /><h:outputText value="*" styleClass="mandatoryField"/>
	 	 	  						</td>
	 	 	  						
									<td>
										<p:inputText id="dispenceNumber" style="width:50px;" converter="#{Integer}" maxlength="3" 
													value="#{patientMedicineManageBean.patientMedicationData.quantity}">
										 <f:convertNumber  pattern="#0" integerOnly="true"  minFractionDigits="3" maxIntegerDigits="3" type="number"/>  
											 
										</p:inputText>
									</td>
	 	 	 					</tr>
	 	 	 					
	 	 	 					<tr>
	 	 	 						<td>
					 	 	  			<h:outputText value="Days Supply" />
					 	 	  		</td>
									<td>
											<!-- <p:inputText style="width:50px;" required="true" 
														value="#{patientMedicineManageBean.patientMedicationData.daySupply}" /> -->
														
										<p:selectOneMenu 
													value="#{patientMedicineManageBean.patientMedicationData.daySupply}"
													style="width:80px;">
													<!-- <f:selectItem itemValue="#{patientMedicineManageBean.patientMedicationData.daySupply}" 
													itemLabel="#{patientMedicineManageBean.patientMedicationData.daySupply}"></f:selectItem> -->
													<f:selectItems value="#{patientMedicineManageBean.daySupplyList}"
														var="daySupplyDetailList" itemLabel="#{daySupplyDetailList}" itemValue="#{daySupplyDetailList}" />
												<p:ajax listener="#{patientMedicineManageBean.calculateTotalDispence}" update="dispenceNumber"></p:ajax>	
													
										</p:selectOneMenu>
								</td>
								
								<td>
	 	 	  						<h:outputText value="Refill"/>
	 	 	  					</td>
	 	 	  					
								<td>
									
												<!-- 	<p:inputText required="true" requiredMessage="Please insert reffils" maxlength="2" 
										 value="#{patientMedicineManageBean.patientMedicationData.reffils}" style="width:50px;">
										 
										 <pe:keyFilter mask="num"></pe:keyFilter>
									</p:inputText> -->
							
									<p:selectOneMenu required="true" 
											value="#{patientMedicineManageBean.patientMedicationData.reffils}"
											style="width:60px;">
											
											<f:selectItems value="#{patientMedicineManageBean.refillDetailsList}"
												var="refillList" itemLabel="#{refillList}" itemValue="#{refillList}" />
											
										</p:selectOneMenu>
								</td>
						
								
	 	 	 					</tr>
	 	 	 			
						</table>
						
						<table>
						<tr>
	 	 	 			
	 	 	 				
							
		 	 	 			<td>
		 	 	 				<h:outputText value="Comments" />
								    
							</td>
							
							<td>
								<!-- <p:inputText value="#{patientMedicineManageBean.patientMedicationData.notes}" /> -->
								<p:inputTextarea  value="#{patientMedicineManageBean.patientMedicationData.notes}"  cols="50" rows="5">
											<!-- <p:ajax update="notesEditor"></p:ajax> -->
								</p:inputTextarea>
							</td>
							
							
						</tr>
					</table >
					<br/>
					<table align="right">	
						<tr>
						
							<td align="right" colspan="4">
								<p:commandButton value="#{msg.done}" update="apixabanMsgId"
						action="#{patientMedicineManageBean.addMedicine}"></p:commandButton>
							</td>
						</tr>
	 	 	 		</table>
	 	 	 		</p:outputPanel>
						 
	 	 	   </p:tab>
			</p:wizard>	
			</td>
	 	 <td valign="top" align="right" width="8%">
	 	 <p:commandButton value="#{msg.cancel}" action="#{patientMedicineManageBean.submitCancelButtonForAnticoag}" immediate="true"
						></p:commandButton>	
	 	 </td>
	 	</tr>
	 </table>
		</h:form>	
	 </p:dialog>
	

<!-- ************pop up start  Fondaparinux *********************************************************** -->

	 <p:dialog id="Fondaparinuxid" widgetVar="Fondaparinux"
								resizable="false"  appendTo="@(body)" modal="true"
				 				height="400" width="50%" dynamic="true" closable="false" position="bottom">
		 <f:facet name="header">
      		<h:outputText id="FondaparinuxHeader" value="#{patientMedicineManageBean.patientMedicationData.drugs}" />
   		</f:facet>
		
		<h:form id="Fondaparinux">	
			 			
					 <table  width="100%" border="0"><tr><td width="92%" valign="top">
					 	 <p:wizard titleStyleClass="popupStepFont" flowListener="#{patientMedicineManageBean.onFlowProcessOfFondaparinux}">  
					 	 	
					 	 	 <p:tab id="step1" title="Step 1" titleStyleClass="popupStepFont">  
					 	 		<p:outputPanel>
				 	   <h:panelGrid columns="3">
							<h:outputText value="Diagnoses" /><h:outputText value="*" styleClass="mandatoryField"/>	
							<p:selectOneMenu required="true" requiredMessage="Please select diagnosis"
							          value="#{patientMedicineManageBean.medActionPlan.diagnosis}" style="width:350px;">
							<f:selectItem itemLabel="Select One" itemValue="" />
							<!-- <f:selectItems value="#{patientMedicineManageBean.clinicDiagnosisList}" var="clinick" itemLabel="{clinick}" itemValue="{clinick}"/> -->
							<f:selectItems id="diagnosisListId"
								value="#{patientMedicineManageBean.clinicDiagnosisList}"
								var="clinick" itemLabel="#{clinick.diagnosisName}"
								itemValue="#{clinick.diagnosisName}" />
								
						<!-- <p:ajax
							listener="#{patientMedicineManageBean.changediagnosisForRivaroxaban}"
							></p:ajax> -->
						</p:selectOneMenu>
				
				 	</h:panelGrid>
				 </p:outputPanel>
	 	 	 		
	 	 				 </p:tab>
					 	 	
					 	 	 <p:tab id="step2" title="Step 2" titleStyleClass="popupStepFont">  
					 	  <p:outputPanel>	
					 	 <h:outputText value="#{msg.Cr_lab_message}" 
					 	  rendered="#{(patientMedicineManageBean.calculateCreatimineClearance.serumCreatinieValueInString eq '')}" style="color:#FF0000;margin:8px;" ></h:outputText>
	 	 			<table>
	 	 			<tr>
	 	 				 			<td >
	 	 				 				<h:outputText value="Diagnosis: " style="font-weight: bold"/>&nbsp;
	 	 				 				<h:outputText value="#{patientMedicineManageBean.medActionPlan.diagnosis}" />
	 	 				 			</td>
	 	 				 		</tr>
	 	 	 				</table>
	 	 	 				
	 	 			<table>
	 	 	 			<tr>
		 	 	 			<td>
		 	 	 				<h:outputText value="Age" />
		 	 	 				<h:outputText value="*" styleClass="mandatoryField"/>
								    
							</td>
							
							<td colspan="2">
								<p:inputText value="#{patientMedicineManageBean.calculateCreatimineClearance.age}" />
							</td>
							
							<td>
		 	 	 				<h:outputText value=" Sex (M/F)" />
		 	 	 				<h:outputText value="*" styleClass="mandatoryField"/>
								    
							</td>
							
							<td>
								<!-- <p:selectOneMenu value="#{patientMedicineManageBean.calculateCreatimineClearance.gender}">
									   	<f:selectItem itemValue="M" itemLabel="Male" />
									   	<f:selectItem itemValue="F" itemLabel="Female" />
									   	
									</p:selectOneMenu> -->
									<p:inputText value="#{patientMedicineManageBean.calculateCreatimineClearance.gender}" />
							</td>
							
							
								  	
	 	 	 			</tr>
	 	 	 			
	 	 	 			<tr>
	 	 	 			
	 	 	 				<td>
		 	 	 				<h:outputText value="Serum Creatinine (mg/dl)" />
		 	 	 				<h:outputText value="*" styleClass="mandatoryField"/>
								    
							</td>
							
							<td colspan="2">
								<p:inputText value="#{patientMedicineManageBean.calculateCreatimineClearance.serumCreatinieValueInString}" />
							</td>
							
		 	 	 			<td>
		 	 	 				<h:outputText value=" Height(Inch)" />
		 	 	 				<h:outputText value="*" styleClass="mandatoryField"/>
								    
							</td>
							
							<td>
								<p:inputText value="#{patientMedicineManageBean.calculateCreatimineClearance.height}" />
							</td>
							
							
						</tr>
						
						<tr>
							<td>
		 	 	 				<h:outputText value="Weight" />
		 	 	 				<h:outputText value="*" styleClass="mandatoryField"/>
								    
							</td>
							
							<td>
						        <p:inputText id="simpleWeight" style="width:50px;" value="#{patientMedicineManageBean.calculateCreatimineClearance.simpleWeight}" >
						        <p:ajax update="simpleWeight ,patWeight,patWeightUnit" listener="#{patientMedicineManageBean.changeWeightUnit}" process="@this,weightUnitId"></p:ajax>
						         </p:inputText>
						       </td>
       
       
						       <td> 
						        <p:selectOneMenu style="width:50px;" id="weightUnitId"
						           value="#{patientMedicineManageBean.calculateCreatimineClearance.findWeightUnit}">
						           
						           <f:selectItem itemLabel="Lbs" itemValue="Lbs" />
						           <f:selectItem itemLabel="Kg"  itemValue="Kg"/>
						          
						          
						        <p:ajax update="patWeight,patWeightUnit" listener="#{patientMedicineManageBean.changeWeightUnit}" process="@this,simpleWeight">
						        </p:ajax>
						       </p:selectOneMenu> </td> 
						       <td>
						       <h:outputText style="width:50px; font-weight:bold; " id="patWeight" value="#{patientMedicineManageBean.calculateCreatimineClearance.weight}"/>&nbsp;<h:outputText style="width:50px; font-weight:bold; " id="patWeightUnit" value="#{patientMedicineManageBean.calculateCreatimineClearance.weightUnit}"/> 
						       </td>
						</tr>
	 	 	 		</table>
	 	 	 		</p:outputPanel>
	 	 	 </p:tab>
	 	 	 
	 	 	 <p:tab id="Step3" title="Step 3" titleStyleClass="popupStepFont">  
	 	 	 		
	 	 	 		 <p:outputPanel>
	 	 	 		<!--    <h:panelGrid columns="2" border="3"> -->
	 	 	 		
	 	 	 		<table > 
	 	 			<tr>
	 	 				 			<td >
	 	 				 				<h:outputText value="Diagnosis: " style="font-weight: bold"/>&nbsp;
	 	 				 				
	 	 				 			</td>
	 	 				 			<td>
	 	 				 				<h:outputText value="#{patientMedicineManageBean.medActionPlan.diagnosis}" />
	 	 				 			</td>
	 	 				 		</tr>
	 	 				 		
	 	 				 		<tr>
									<td >
										<h:outputText value="Notes :" styleClass="popupStepFont"/>
									</td>
									<td >
										<h:outputText value="1. Contraindicated if CrCl &lt; 30 ml/min" />
									</td>
								</tr>
								<tr>
								<td >
								</td>
									<td>
										<h:outputText value="2. Not Recommended if CrCl 30-60 ml/min" />
									</td>
						</tr>
	 	 	 				</table>
	 	 	 		
	 	 	 			<table>
	 	 	 				<tr>
	 	 	 					<td >
		 	 	 				<h:outputText value="Estimated CrCl :" style="font-weight:bold;"/>
								    
							</td>
							
						<td>
							<p:outputPanel rendered="#{patientMedicineManageBean.calculateCreatimineClearance.calculateCreatimineClearanceValue gt 80}">
								<h:outputText value="#{patientMedicineManageBean.calculateCreatimineClearance.calculateCreatimineClearanceValue}" />
								<h:outputText value="(ml/min)" />
							</p:outputPanel>
							
							<p:outputPanel rendered="#{patientMedicineManageBean.calculateCreatimineClearance.calculateCreatimineClearanceValue ge 50 and 
							patientMedicineManageBean.calculateCreatimineClearance.calculateCreatimineClearanceValue le 80}" style="color:rgb(255,242,0);font-weight: bolder">
								<h:outputText value="#{patientMedicineManageBean.calculateCreatimineClearance.calculateCreatimineClearanceValue}" />
								<h:outputText value="(ml/min)" />
							</p:outputPanel>
							
							<p:outputPanel rendered="#{patientMedicineManageBean.calculateCreatimineClearance.calculateCreatimineClearanceValue ge 30 and 
							patientMedicineManageBean.calculateCreatimineClearance.calculateCreatimineClearanceValue le 50}" style="color:orange;">
								<h:outputText value="#{patientMedicineManageBean.calculateCreatimineClearance.calculateCreatimineClearanceValue}" />
								<h:outputText value="(ml/min)" />
							</p:outputPanel>
							
							<p:outputPanel rendered="#{patientMedicineManageBean.calculateCreatimineClearance.calculateCreatimineClearanceValue le 30}" style="color:red;">
								<h:outputText value="#{patientMedicineManageBean.calculateCreatimineClearance.calculateCreatimineClearanceValue}" />
								<h:outputText value="(ml/min)" />
							</p:outputPanel>
						</td>
	 	 	 					<td>
		 	 	 				<h:outputText value="Recommended Dose:" style="font-weight: bold" />
								    
							</td>
							
							<td>
								<h:outputText value="#{patientMedicineManageBean.patientMedicationData.recommendedDose}" 
								rendered="#{!(patientMedicineManageBean.patientMedicationData.recommendedDose eq 'Not recommended')}"/>
								<h:outputText value="#{patientMedicineManageBean.patientMedicationData.recommendedDose}"  style="color:red;"
								rendered="#{(patientMedicineManageBean.patientMedicationData.recommendedDose eq 'Not recommended')}"/>
		
							</td>
							
							</tr>
						</table>
							
							<table>
	 	 	 					<tr>
							
							<td>
		 	 	 				<h:outputText value="Strength" /><h:outputText value="*" styleClass="mandatoryField"/>
							</td>
							
							<td><p:selectOneMenu required="true" requiredMessage="Please Select Strength"
										value="#{patientMedicineManageBean.patientMedicationData.strengths}"
										style="width:122px;">
										<!-- <f:selectItem
											itemLabel="#{patientMedicineManageBean.patientMedicationData.directions}"
											itemValue="#{patientMedicineManageBean.patientMedicationData.directions}" /> -->
										<f:selectItems value="#{patientMedicineManageBean.doseDetailList}"
											var="doseList" itemLabel="#{doseList.dose}" itemValue="#{doseList.dose}" />
									</p:selectOneMenu>
							
								<!-- <p:inputText value="#{patientMedicineManageBean.medActionPlan.dose}" /> -->
							</td>
							
							<td>
	 	 	 	 						<h:outputText value="Unit" /><h:outputText value="*" styleClass="mandatoryField"/>
	 	 	 	 				</td>
	 	 	 	 					<td>
				 	 	 	 			<p:selectOneMenu 
													value="#{patientMedicineManageBean.patientMedicationData.unit}" 
													style="width:122px;">
													
													<f:selectItems value="#{patientMedicineManageBean.unitSummaryList}"
														var="unitList" itemLabel="#{unitList.unit}" itemValue="#{unitList.unit}" />
														
													<p:ajax listener="#{patientMedicineManageBean.calculateTotalDispence}" update="dispenceNumber"></p:ajax>	

												</p:selectOneMenu>
	 	 	 	 					</td>
								  	
	 	 	 			</tr>
	 	 	 			
	 	 	 			
	 	 	 			<tr>
	 	 	 				
	 	 	 	 					
	 	 	 	 					<td>
	 	 	 	 							<h:outputText value="Dosage form" /><h:outputText value="*" styleClass="mandatoryField"/>
	 	 	 	 						</td>
	 	 	 	 						
	 	 	 	 						<td>
	 	 	 	 						
	 	 	 	 							<!-- <p:selectOneMenu required="true" 
										value="#{patientMedicineManageBean.patientMedicationData.dosageForm}"
										style="width:122px;">
										<f:selectItem itemLabel="#{patientMedicineManageBean.patientMedicationData.dosageForm}" itemValue="#{patientMedicineManageBean.patientMedicationData.dosageForm}" />
	 	 	 	 						
	 	 	 	 								
													
														<f:selectItems value="#{patientMedicineManageBean.unitDetailsList}"
															var="unitList" itemLabel="#{unitList.unitName}" itemValue="#{unitList.unitName}" />
											</p:selectOneMenu> -->
									
									<p:inputText  value="#{patientMedicineManageBean.patientMedicationData.dosageForm}" readonly="true"></p:inputText>	
								
	 	 	 	 						</td>
	 	 	 	 						
	 	 	 	 						<td>
	 	 	 	 					<h:outputText value="Route" /><h:outputText value="*" styleClass="mandatoryField"/>
	 	 	 	 				</td>
	 	 	 	 			<td>
	 	 	 	 					<!-- <p:selectOneMenu required="true" 
										value="#{patientMedicineManageBean.patientMedicationData.byRoute}"
										style="width:122px;">
									<f:selectItem itemLabel="#{patientMedicineManageBean.patientMedicationData.byRoute}" itemValue="#{patientMedicineManageBean.patientMedicationData.byRoute}" />
										<f:selectItems value="#{patientMedicineManageBean.routeDetailsList}"
											var="routeDetailList" itemLabel="#{routeDetailList.routeName}" itemValue="#{routeDetailList.routeName}" />
										
									</p:selectOneMenu> -->
									
									<p:inputText  value="#{patientMedicineManageBean.patientMedicationData.byRoute}" readonly="true"></p:inputText>
	 	 	 	 			</td>
	 	 	 					</tr>
	 	 	 					
	 	 	 					
	 	 	 						
	 	 	 	 					<!-- 	<td>
	 	 	 	 							<h:outputText value="Package" /><h:outputText value="*" styleClass="mandatoryField"/>
	 	 	 	 					</td>
	 	 	 	 				<td>
	 	 	 	 					
	 	 	 	 					<p:selectOneMenu required="true" 
														value="#{patientMedicineManageBean.patientMedicationData.unitDetail}"
														style="width:122px;">
														
										<f:selectItems value="#{patientMedicineManageBean.dosageDetailsList}"
											var="dosageDetailList" itemLabel="#{dosageDetailList.dosageFrom}" itemValue="#{dosageDetailList.dosageFrom}" />
										
									
										</p:selectOneMenu>
	 	 	 	 					</td> -->
	 	 	 	 					
	 	 	 	 					
	 	 	 					
	 	 	 					
	 	 	 					<tr>
	 	 	 						<td>
	 	 	 	 					<h:outputText value="Regimen" /><h:outputText value="*" styleClass="mandatoryField"/>
	 	 	 	 			</td>
	 	 	 	 		
	 	 	 	 		<td>
	 	 	 	 				<p:selectOneMenu required="true" requiredMessage="Please Select Regimen"
										value="#{patientMedicineManageBean.patientMedicationData.directions}"
										style="width:140px;">
										<f:selectItem
											itemLabel=""
											itemValue="" />
										<f:selectItems value="#{patientMedicineManageBean.regimenList}"
											var="regimen" itemLabel="#{regimen}" itemValue="#{regimen}" />
											
											<p:ajax listener="#{patientMedicineManageBean.calculateTotalDispence}" update="dispenceNumber"></p:ajax>	
									</p:selectOneMenu>
	 	 	 	 		</td>
	 	 	 	 		
	 	 	 	 		<td>
	 	 	  							<h:outputText value="Dispense" /><h:outputText value="*" styleClass="mandatoryField"/>
	 	 	  						</td>
	 	 	  						
									<td>
										<p:inputText id="dispenceNumber" style="width:50px;"  converter="#{Integer}" maxlength="3" 
													value="#{patientMedicineManageBean.patientMedicationData.quantity}" >
											<f:convertNumber  pattern="#0" integerOnly="true"  minFractionDigits="3" maxIntegerDigits="3" type="number"/>
										</p:inputText>
									</td>
	 	 	 					</tr>
	 	 	 					<tr>
	 	 	 					 <tr>
	 	 	 	 <table width="100%">
				<tr align="center">
					
					<td>
						<h:outputText value="DAW / DNS"/>
					</td>
					&nbsp;
					<td>
						<h:outputText value="One Time"/>
					</td>
				<!-- 	&nbsp;
					<td>
						<h:outputText value="2nd rx 90 Day"/>
					</td>
					&nbsp;
					<td>
						<h:outputText value="Save this sig and add to Doctor's List"/>
					</td> -->
				</tr>
				
				
				<tr>
					<td align="center">
						<p:selectBooleanCheckbox value="#{patientMedicineManageBean.patientMedicationData.daw_dns}" />  
					</td>
					<td align="center">
						<p:selectBooleanCheckbox value="#{patientMedicineManageBean.patientMedicationData.one_Time}" />  
					</td>
				<!-- 	<td align="center">
						<p:selectBooleanCheckbox value="#{patientMedicineManageBean.patientMedicationData.secondrx_90days}" />  
					</td>
					<td align="center">
						<p:selectBooleanCheckbox value="#{patientMedicineManageBean.patientMedicationData.savetodoctorlist}" />  
					</td> -->
				</tr>
			</table>
	 	 	 	 
	 	 	 	 </tr>
	 	 	 					
	 	 	 					</tr>
	 	 	 					
	 	 	 					<tr>
	 	 	 						<td>
					 	 	  			<h:outputText value="Days Supply" />
					 	 	  		</td>
									<td>
											<!-- <p:inputText style="width:50px;" required="true" 
														value="#{patientMedicineManageBean.patientMedicationData.daySupply}" /> -->
														
										<p:selectOneMenu 
													value="#{patientMedicineManageBean.patientMedicationData.daySupply}"
													style="width:80px;">
														<!-- <f:selectItem itemValue="#{patientMedicineManageBean.patientMedicationData.daySupply}" 
													itemLabel="#{patientMedicineManageBean.patientMedicationData.daySupply}"></f:selectItem> -->
													<f:selectItems value="#{patientMedicineManageBean.daySupplyList}"
														var="daySupplyDetailList" itemLabel="#{daySupplyDetailList}" itemValue="#{daySupplyDetailList}" />
												
												<p:ajax listener="#{patientMedicineManageBean.calculateTotalDispence}" update="dispenceNumber"></p:ajax>		
										</p:selectOneMenu>
								</td>
								
								<td>
	 	 	  						<h:outputText value="Refill"/>
	 	 	  					</td>
	 	 	  					
								<td>
									
												<!-- 	<p:inputText required="true" requiredMessage="Please insert reffils" maxlength="2" 
										 value="#{patientMedicineManageBean.patientMedicationData.reffils}" style="width:50px;">
										 
										 <pe:keyFilter mask="num"></pe:keyFilter>
									</p:inputText> -->
							
									<p:selectOneMenu required="true" 
											value="#{patientMedicineManageBean.patientMedicationData.reffils}"
											style="width:60px;">
											
											<f:selectItems value="#{patientMedicineManageBean.refillDetailsList}"
												var="refillList" itemLabel="#{refillList}" itemValue="#{refillList}" />
											
										</p:selectOneMenu>
								</td>
						
								
	 	 	 					</tr>
	 	 	 			
						</table>
						
						<table>
						<tr>
	 	 	 			
	 	 	 				
							
		 	 	 			<td>
		 	 	 				<h:outputText value="Comments" />
								    
							</td>
							
							<td>
								<!-- <p:inputText value="#{patientMedicineManageBean.patientMedicationData.notes}" /> -->
								<p:inputTextarea  value="#{patientMedicineManageBean.patientMedicationData.notes}"  cols="50" rows="5">
											<!-- <p:ajax update="notesEditor"></p:ajax> -->
								</p:inputTextarea>
							</td>
							
							
						</tr>
					</table >
	 	 	 		</p:outputPanel>
						 
	 	 	   </p:tab>
	 	 	   
	 	 	   <p:tab id="step4" title="Step 4" titleStyleClass="popupStepFont">  
					 <p:outputPanel>
					  <table > 
	 	 			<tr>
	 	 				 			<td >
	 	 				 				<h:outputText value="Diagnoses: " style="font-weight: bold"/>&nbsp;
	 	 				 				<h:outputText value="#{patientMedicineManageBean.medActionPlan.diagnosis}" />&nbsp;&nbsp;
	 	 				 				<h:outputText value="Dose Prescribed: " style="font-weight: bold"/>&nbsp;
	 	 				 				<!-- <h:outputText value="#{patientMedicineManageBean.medActionPlan.dose}" /> -->
	 	 				 				<h:outputText value="#{patientMedicineManageBean.patientMedicationData.strengths}" />
	 	 				 				
	 	 				 			</td>
	 	 				 		</tr>
	 	 	 				</table>
					 
					<table border="1" >
								<tr bgcolor="#EBB981" style="font-family: verdana; font-weight: bold;">
								
								<td colspan="2"><h:outputText value="Long Term Monitoring Guidelines FOR FONDAPARINUX" /></td>
								
								</tr>
								
								<tr>
									<td>
											<h:outputText value="Patient weight" />
										</td><td>
											<h:outputText value="q1-3 months and adjust fondaparinux dose if needed" /></td>
											
								</tr>
								
								<tr>
									
									<td>
											<h:outputText  value="Platelet count" />
											</td><td>
											<h:outputText value="q1-3 months and PRN if bleeding is suspected or confirmed, or if thrombocytopenia is suspected or confirmed, and hold dosing as needed)" /></td>
											
								</tr>
								
								<tr>
									
									<td>
											<h:outputText  value="Hematocrit" />
											</td><td>
											<h:outputText value="q1-3 months and PRN if bleeding is suspected or confirmed, or if thrombocytopenia is suspected or confirmed, and hold dosing as needed)" /></td>
											
								</tr>
								
								<tr>
									
									<td>
											<h:outputText  value="Serum creatinine" />
											</td><td>
											<h:outputText value="q1-3 months (and PRN if change in renal function is suspected or if bleeding is suspected or confirmed, and hold dosing as needed)" /></td>
											
								</tr>
								
								
				 	  
						</table>
						
						<table>
							<tr>
								<td valign="top">
									<h:outputText  value="Lab :" styleClass="popupStepFont" />
								</td>
								<td>
									<p:dataTable value="#{patientMedicineManageBean.labDetailList}" var="labDetail" emptyMessage="#{msg.noMedFound}">
										
										<p:column>
											<f:facet name="header">
												<h:outputText value="Select" />
											</f:facet>
											<p:selectBooleanCheckbox value="#{labDetail.selected}" />  
										</p:column>
										
										<p:column>
											<f:facet name="header">
												<h:outputText value="Lab Name" />
											</f:facet>
											<h:outputText value="#{labDetail.labName}" />
										</p:column>
										
										<p:column>
											<f:facet name="header">
												<h:outputText value="Lab Frequency" />
											</f:facet>
											<p:selectOneMenu value="#{labDetail.labfrequencyDetail}" style="width:90px;">
															<!-- <f:selectItem
																itemLabel="#{patientMedicineManageBean.medActionPlan.labFrequency}"
																itemValue="#{patientMedicineManageBean.medActionPlan.labFrequency}" /> -->
															<f:selectItems
																value="#{patientMedicineManageBean.lMWHFrequencyList}"
																var="labFreq" itemLabel="#{labFreq}" itemValue="#{labFreq}" />
												</p:selectOneMenu>
										</p:column>
																	
									
									</p:dataTable>
						</td>
						</tr>
						</table>
						<table width="100%">
						 <tr align="right">
						
							<td align="right">
								<p:commandButton value="#{msg.done}"
						action="#{patientMedicineManageBean.addMedicine}"></p:commandButton>
							</td>
						</tr>
						</table>
				 </p:outputPanel>
	 	 	 		
	 	 				 </p:tab>
			</p:wizard>	
			</td>
	 	 <td valign="top" align="right" width="8%">
	 	  <p:commandButton value="#{msg.cancel}" action="#{patientMedicineManageBean.submitCancelButtonForAnticoag}" immediate="true"
						></p:commandButton>	
	 	 </td>
	 	</tr>
	 </table>
		</h:form>	
	
	</p:dialog> 			
<!-- ************pop up End  Fondaparinux *********************************************************** -->


<!-- ************pop up start  LMWH *********************************************************** -->

<!-- ######################## pop up start for Dalteparin medicine................................. -->
	<p:dialog id="dalteparinid" widgetVar="dalteparin"
								resizable="false"  appendTo="@(body)" modal="true"
				 				height="510" width="58%" dynamic="true" closable="false" position="300,113">
		 <f:facet name="header">
      		<h:outputText id="dalteparinHeader" value="#{patientMedicineManageBean.patientMedicationData.drugs}" />
   		</f:facet>
		
		<h:form>
		<p:messages  id="dalteparinMsgId" showDetail="false" style="color:#FF0000;margin:8px;"  closable="true" showSummary="true"/>		
			<table  width="100%" border="0">
				<tr>
					<td width="92%" valign="top">
					<p:wizard titleStyleClass="popupStepFont" flowListener="#{patientMedicineManageBean.onFlowProcessOfDalteparin}">  
					 	 <p:tab id="step1" title="Step 1" titleStyleClass="popupStepFont">  
					 	 	<p:outputPanel>
				 	   			<h:panelGrid columns="3">
									<h:outputText value="Diagnoses" /><h:outputText value="*" styleClass="mandatoryField"/>	
									<p:selectOneMenu required="true" requiredMessage="Please select diagnosis"
							         			 value="#{patientMedicineManageBean.medActionPlan.diagnosis}" style="width:350px;">
											<f:selectItem itemLabel="Select One" itemValue="" />
											<!-- <f:selectItems value="#{patientMedicineManageBean.clinicDiagnosisList}" var="clinick" itemLabel="{clinick}" itemValue="{clinick}"/> -->
											<f:selectItems id="diagnosisListId"
													value="#{patientMedicineManageBean.clinicDiagnosisList}"
													var="clinick" itemLabel="#{clinick.diagnosisName}"
													itemValue="#{clinick.diagnosisName}" />
								
											<!-- <p:ajax
												listener="#{patientMedicineManageBean.changediagnosisForRivaroxaban}"
												></p:ajax> -->
											</p:selectOneMenu>
				
				 				</h:panelGrid>
				 			</p:outputPanel>
	 	 				 </p:tab>
	 	 				 <p:tab id="step2" title="Step 2" titleStyleClass="popupStepFont">  
	 	 				 	<table>
	 	 				 		<tr>
	 	 				 			<td >
	 	 				 				<h:outputText value="Diagnosis: " style="font-weight: bold"/>&nbsp;
	 	 				 				<h:outputText value="#{patientMedicineManageBean.medActionPlan.diagnosis}" />
	 	 				 			</td>
	 	 				 		</tr>
	 	 				 		<tr>
	 	 				 			<td>
			 	 				 		<p:outputPanel
												rendered="#{patientMedicineManageBean.medActionPlan.diagnosis eq 'VTE Prophylaxis'}">
											<p:selectOneRadio  value="#{patientMedicineManageBean.subDiagnosisDetail}" 
													            layout="pageDirection">  
												<f:selectItem itemLabel="Orthopedic surgery (hip/knee replacement, hip fracture)" itemValue="Orthopedic surgery (hip/knee replacement, hip fracture)" />  
												<f:selectItem itemLabel="Trauma" itemValue="Trauma" noSelectionOption="true"/>  
												<f:selectItem itemLabel="Acute spinal cord injury" itemValue="Acute spinal cord injury" />  
												<f:selectItem itemLabel="Acute medical illness" itemValue="Acute medical illness" />  
												<f:selectItem itemLabel="General surgery" itemValue="General surgery" />  
												<f:selectItem itemLabel="Bariatric surgery" itemValue="Bariatric surgery" />
												<f:selectItem itemLabel="Morbid obesity (BMI &gt; 40)" itemValue="Morbid obesity (BMI &gt; 40)" />
												<f:selectItem itemLabel="Severe renal impairment (CrCl &lt; 30)" itemValue="Severe renal impairment (CrCl &lt; 30)" />
											</p:selectOneRadio>  
										</p:outputPanel>
										
										<p:outputPanel
												rendered="#{patientMedicineManageBean.medActionPlan.diagnosis eq 'VTE Treatment'}">
											<p:selectOneRadio  value="#{patientMedicineManageBean.subDiagnosisDetail}"
													            layout="pageDirection">  
												<f:selectItem itemLabel="Venous thrombosis (LMWH for a minimum of 5 days)" itemValue="Venous thrombosis (LMWH for a minimum of 5 days)" />  
												<f:selectItem itemLabel="Cancer associated venous thrombosis (LMWH for a minimum of 3-6 months)" itemValue="Cancer associated venous thrombosis (LMWH for a minimum of 3-6 months)" />  
												<f:selectItem itemLabel="Pregnancy" itemValue="Pregnancy" />  
												<f:selectItem itemLabel="Low body weight (wt &lt; or = 45 kg)" itemValue="Low body weight (wt &lt; or = 45 kg)" />  
												<f:selectItem itemLabel="Obesity (wt &gt; or = 99 kg)" itemValue="Obesity (wt &gt; or = 99 kg)" />  
												<f:selectItem itemLabel="Moderate renal impairment (CrCl 30-60)" itemValue="Moderate renal impairment (CrCl 30-60)" />
												<f:selectItem itemLabel="Severe renal impairment (CrCl &lt; 30)" itemValue="Severe renal impairment (CrCl &lt; 30)" />
											</p:selectOneRadio>  
										</p:outputPanel>
										
										<p:outputPanel
												rendered="#{patientMedicineManageBean.medActionPlan.diagnosis eq 'Acute Coronary Syndrome'}">
											<p:selectOneRadio  value="#{patientMedicineManageBean.subDiagnosisDetail}"
													            layout="pageDirection">  
												<f:selectItem itemLabel="Unstable angina/NQWMI" itemValue="Unstable angina/NQWMI" />  
												<f:selectItem itemLabel="Renal impairment (CrCl &lt; 60)" itemValue="Renal impairment (CrCl &lt; 60)" />  
											</p:selectOneRadio>  
										</p:outputPanel>
										
										<p:outputPanel
												rendered="#{patientMedicineManageBean.medActionPlan.diagnosis eq 'Bridge Therapy'}">
											<p:selectOneRadio  value="#{patientMedicineManageBean.subDiagnosisDetail}"
													            layout="pageDirection">  
												<f:selectItem itemLabel="Atrial fibrillation" itemValue="Atrial fibrillation" />  
												<f:selectItem itemLabel="Heart valve replacement" itemValue="Heart valve replacement" />  
												<f:selectItem itemLabel="History of VTE" itemValue="History of VTE" />  
												<f:selectItem itemLabel="Pregnancy" itemValue="Pregnancy" />  
												<f:selectItem itemLabel="Low body weight (wt &lt; or = 45 kg)" itemValue="Low body weight (wt &lt; or = 45 kg)" />  
												<f:selectItem itemLabel="Obesity (wt &gt; or = 99 kg)" itemValue="Obesity (wt &gt; or = 99 kg)" />
												<f:selectItem itemLabel="Moderate renal impairment (CrCl 30-60)" itemValue="Moderate renal impairment (CrCl 30-60)" />
												<f:selectItem itemLabel="Severe renal impairment (CrCl &lt; 30)" itemValue="Severe renal impairment (CrCl &lt; 30)" />
											</p:selectOneRadio>  
										</p:outputPanel>
								  </td>
								  <td>
								  	<table>
								  		<tr>
								  			<td>
		 	 	 				<h:outputText value="Body Weight" />
		 	 	 				<h:outputText value="*" styleClass="mandatoryField"/>
								    
							</td>
							<td>
						        <p:inputText id="simpleWeight" style="width:50px;" value="#{patientMedicineManageBean.calculateCreatimineClearance.simpleWeight}" >
						        <p:ajax update="simpleWeight ,patWeight,patWeightUnit" listener="#{patientMedicineManageBean.changeWeightUnit}" process="@this,weightUnitId"></p:ajax>
						         </p:inputText>
						       </td>
       
       
						       <td> 
						        <p:selectOneMenu style="width:50px;" id="weightUnitId"
						           value="#{patientMedicineManageBean.calculateCreatimineClearance.findWeightUnit}">
						           
						           <f:selectItem itemLabel="Lbs" itemValue="Lbs" />
						           <f:selectItem itemLabel="Kg"  itemValue="Kg"/>
						          
						          
						        <p:ajax update="patWeight,patWeightUnit" listener="#{patientMedicineManageBean.changeWeightUnit}" process="@this,simpleWeight">
						        </p:ajax>
						       </p:selectOneMenu> </td> 
						       <td>
						       <h:outputText style="width:50px; font-weight:bold; " id="patWeight" value="#{patientMedicineManageBean.calculateCreatimineClearance.weight}" />&nbsp;<h:outputText style="width:50px; font-weight:bold; " id="patWeightUnit" value="#{patientMedicineManageBean.calculateCreatimineClearance.weightUnit}" /> 
						       </td>
								  		</tr>
								  	</table>
								  </td>
	 	 				 		</tr>
	 	 				 	</table>
	 	 				 	
	 	 				 </p:tab> 
	 	 				 
	 	 				 <p:tab id="Step3" title="Step 3" titleStyleClass="popupStepFont">  
        					 <p:outputPanel>
        					  <table > 
	 	 						<tr>
	 	 				 			<td colspan="2">
	 	 				 				<h:outputText value="Diagnosis: " style="font-weight: bold"/>&nbsp;
	 	 				 				<h:outputText value="#{patientMedicineManageBean.medActionPlan.diagnosis}" />&nbsp;&nbsp;
	 	 				 				<h:outputText value="Sub Diagnoses: " style="font-weight: bold"/>
	 	 				 				<h:outputText value="#{patientMedicineManageBean.subDiagnosisDetail}" />
	 	 				 			</td>
	 	 				 		</tr>
	 	 				 	</table>
	 	 				 	
	 	 				 	<table>	
	 	 				 		<tr>
	 	 				 			<td><h:outputText value="Recommendation:" style="font-weight: bold"/></td>
	 	 				 			
	 	 				 			 <td>
									        <h:outputText value="#{patientMedicineManageBean.patientMedicationData.recommendedDose}"  readonly="true"/>
									       </td>
	 	 				 		</tr>
	 	 	 				</table>
	 	 	 				
	 	 	 				<p:outputPanel rendered="#{!(patientMedicineManageBean.patientMedicationData.calculatedDose eq 0)}">
	 	 	 					<table>
	 	 	 						<tr>
	 	 	 							<td>
	 	 	 								<h:outputText value="Calculated dose (Units) :" style="font-weight: bold"/>
	 	 	 							</td>
	 	 	 							
	 	 	 							<td>
	 	 	 								<h:outputText value="#{patientMedicineManageBean.patientMedicationData.calculatedDose}"></h:outputText>
	 	 	 							</td>
	 	 	 						</tr>
	 	 	 					</table>
	 	 	 				
	 	 	 				</p:outputPanel>
         						<table>
        							
									       
									     <tr>
									       <td>
									           <h:outputText value="Strength" /><h:outputText value="*" styleClass="mandatoryField"/>
									           
									       </td>
									       
									       <td><p:selectOneMenu required="true" requiredMessage="Please Select Strength"
										value="#{patientMedicineManageBean.patientMedicationData.strengths}"
										style="width:130px;">
										 <f:selectItem
											itemLabel=""
											itemValue="" /> 
										<f:selectItems value="#{patientMedicineManageBean.doseDetailList}"
											var="doseList" itemLabel="#{doseList.dose}" itemValue="#{doseList.dose}" />
									</p:selectOneMenu>
							
								<!-- <p:inputText value="#{patientMedicineManageBean.medActionPlan.dose}" /> -->
									</td>
									
								<td>
	 	 	 	 						<h:outputText value="Unit" /><h:outputText value="*" styleClass="mandatoryField"/>
	 	 	 	 				</td>
	 	 	 	 					<td>
				 	 	 	 			<p:selectOneMenu 
													value="#{patientMedicineManageBean.patientMedicationData.unit}" 
													style="width:122px;">
													
													<f:selectItems value="#{patientMedicineManageBean.unitSummaryList}"
														var="unitList" itemLabel="#{unitList.unit}" itemValue="#{unitList.unit}" />
														
														<p:ajax listener="#{patientMedicineManageBean.calculateTotalDispence}" update="dispenceNumber"></p:ajax>
												</p:selectOneMenu>
	 	 	 	 					</td>
									  </tr>
									
									<tr>
										<td>
	 	 	 	 							<h:outputText value="Dosage form" /><h:outputText value="*" styleClass="mandatoryField"/>
	 	 	 	 						</td>
	 	 	 	 						
	 	 	 	 						<td>
	 	 	 	 						
	 	 	 	 							<!-- <p:selectOneMenu required="true" 
										value="#{patientMedicineManageBean.patientMedicationData.dosageForm}"
										style="width:122px;">
										<f:selectItem itemLabel="#{patientMedicineManageBean.patientMedicationData.dosageForm}" itemValue="#{patientMedicineManageBean.patientMedicationData.dosageForm}" />
	 	 	 	 								
														<f:selectItems value="#{patientMedicineManageBean.unitDetailsList}"
															var="unitList" itemLabel="#{unitList.unitName}" itemValue="#{unitList.unitName}" />
											</p:selectOneMenu> -->
											
											<p:inputText  value="#{patientMedicineManageBean.patientMedicationData.dosageForm}" readonly="true"></p:inputText>	
								
	 	 	 	 						</td>
	 	 	 	 						
	 	 	 	 						
	 	 	 	 						<!-- <td>
	 	 	 	 							<h:outputText value="Package" /><h:outputText value="*" styleClass="mandatoryField"/>
	 	 	 	 					</td>
	 	 	 	 				<td>
	 	 	 	 					
	 	 	 	 						<p:selectOneMenu required="true" 
														value="#{patientMedicineManageBean.patientMedicationData.unitDetail}"
														style="width:122px;">
													
										<f:selectItems value="#{patientMedicineManageBean.dosageDetailsList}"
											var="dosageDetailList" itemLabel="#{dosageDetailList.dosageFrom}" itemValue="#{dosageDetailList.dosageFrom}" />
										
									
										</p:selectOneMenu>
	 	 	 	 					</td> -->
							</tr>
							
							<tr>
								<td>
	 	 	 	 					<h:outputText value="Route" /><h:outputText value="*" styleClass="mandatoryField"/>
	 	 	 	 				</td>
	 	 	 	 			<td>
	 	 	 	 					<!-- <p:selectOneMenu required="true" 
										value="#{patientMedicineManageBean.patientMedicationData.byRoute}"
										style="width:122px;">
									<f:selectItem itemLabel="#{patientMedicineManageBean.patientMedicationData.byRoute}" itemValue="#{patientMedicineManageBean.patientMedicationData.byRoute}" />
										<f:selectItems value="#{patientMedicineManageBean.routeDetailsList}"
											var="routeDetailList" itemLabel="#{routeDetailList.routeName}" itemValue="#{routeDetailList.routeName}" />
										
									</p:selectOneMenu> -->
									<p:inputText  value="#{patientMedicineManageBean.patientMedicationData.byRoute}" readonly="true"></p:inputText>
	 	 	 	 			</td>
	 	 	 	 	
	 	 	 	 	
	 	 	 	 				<td>
	 	 	 	 					<h:outputText value="Regimen" /><h:outputText value="*" styleClass="mandatoryField"/>
	 	 	 	 			</td>
	 	 	 	 		
	 	 	 	 		<td>
	 	 	 	 				<p:selectOneMenu required="true" requiredMessage="Please Select Regimen"
										value="#{patientMedicineManageBean.patientMedicationData.directions}"
										style="width:140px;">
										<f:selectItem
											itemLabel=""
											itemValue="" />
										<f:selectItems value="#{patientMedicineManageBean.regimenList}"
											var="regimen" itemLabel="#{regimen}" itemValue="#{regimen}" />
											
											<p:ajax listener="#{patientMedicineManageBean.calculateTotalDispence}" update="dispenceNumber"></p:ajax>
									</p:selectOneMenu>
	 	 	 	 		</td>
	 	 	 	 	
								
					</tr>
							       
							    <tr>
							    	<td>
	 	 	  							<h:outputText value="Dispense" /><h:outputText value="*" styleClass="mandatoryField"/>
	 	 	  						</td>
	 	 	  						
									<td>
										<p:inputText id="dispenceNumber" style="width:50px;"  converter="#{Integer}" maxlength="3"
													value="#{patientMedicineManageBean.patientMedicationData.quantity}" >
											<f:convertNumber  pattern="#0" integerOnly="true"  minFractionDigits="3" maxIntegerDigits="3" type="number"/>
										</p:inputText>
									</td>
						
									<td>
					 	 	  			<h:outputText value="Days Supply" />
					 	 	  		</td>
									<td>
											<!-- <p:inputText style="width:50px;" required="true" 
														value="#{patientMedicineManageBean.patientMedicationData.daySupply}" /> -->
														
										<p:selectOneMenu 
													value="#{patientMedicineManageBean.patientMedicationData.daySupply}"
													style="width:90px;">
														<!-- <f:selectItem itemValue="#{patientMedicineManageBean.patientMedicationData.daySupply}" 
													itemLabel="#{patientMedicineManageBean.patientMedicationData.daySupply}"></f:selectItem> -->
													<f:selectItems value="#{patientMedicineManageBean.daySupplyList}"
														var="daySupplyDetailList" itemLabel="#{daySupplyDetailList}" itemValue="#{daySupplyDetailList}" />
												<p:ajax listener="#{patientMedicineManageBean.calculateTotalDispence}" update="dispenceNumber"></p:ajax>	
										</p:selectOneMenu>
								</td>
							  </tr>    
							         
							  <tr>
							  	<td>
	 	 	  						<h:outputText value="Refill"/>
	 	 	  					</td>
	 	 	  					
								<td>
									
												<!-- 	<p:inputText required="true" requiredMessage="Please insert reffils" maxlength="2" 
										 value="#{patientMedicineManageBean.patientMedicationData.reffils}" style="width:50px;">
										 
										 <pe:keyFilter mask="num"></pe:keyFilter>
									</p:inputText> -->
							
									<p:selectOneMenu required="true" 
											value="#{patientMedicineManageBean.patientMedicationData.reffils}"
											style="width:60px;">
											
											<f:selectItems value="#{patientMedicineManageBean.refillDetailsList}"
												var="refillList" itemLabel="#{refillList}" itemValue="#{refillList}" />
											
										</p:selectOneMenu>
								</td>
						
							 </tr>     
      
        					</table>
        					<table>
        						<tr>
        								<td>
		 	 	 								<h:outputText value="Comments" />
								    
										</td>
							
										<td>
												
												<p:inputTextarea  value="#{patientMedicineManageBean.patientMedicationData.notes}"  cols="50" rows="5">
															<!-- <p:ajax update="notesEditor"></p:ajax> -->
												</p:inputTextarea>
										</td>
        						</tr>
        					</table>
       					 </p:outputPanel>
       				 </p:tab>
	 	 			 
	 	 			  <p:tab id="Step4" title="Step 4" titleStyleClass="popupStepFont">  
	 	 			  
	 	 			 <table >
	 	 			 	<tr>
	 	 				 			<td>
	 	 				 				<h:outputText value="Diagnoses: " style="font-weight: bold"/>&nbsp;
	 	 				 				<h:outputText value="#{patientMedicineManageBean.medActionPlan.diagnosis}" />&nbsp;
	 	 				 				<h:outputText value="#{msg.subdiagnoses}: " style="font-weight: bold"/>&nbsp;
	 	 				 				<h:outputText value="#{patientMedicineManageBean.subDiagnosisDetail}" />&nbsp;&nbsp;
	 	 				 				<h:outputText value="Dose: " style="font-weight: bold"/>&nbsp;
	 	 				 				 <h:outputText value="#{patientMedicineManageBean.medActionPlan.dose}" />
	 	 				 			</td>
	 	 				 		</tr>
	 	 			 </table>
	 	 			  
	 	 			 		<p:outputPanel>
	 	 			 			<p:outputPanel rendered="#{patientMedicineManageBean.medActionPlan.diagnosis eq 'Bridge Therapy'}">
	 	 			 		
	 	 			 		<table>
							<tr>
								<td>
									<h:outputText  value="Monitoring for initial LMWH therapy, including bridging" styleClass="popupStepFont" />
								</td>
							</tr>
						
						<tr>
							<td>
									<h:outputText value="Baseline PT/aPTT"/>
								</td>
								
						</tr>
						
						<tr>
							<td>
									<h:outputText value="Baseline hematocrit and q3-5 days or prn if bleeding is suspected or confirmed"/>
								</td>
								
						</tr>
						
						<tr>
							<td>
									<h:outputText value="Baseline platelet count, and q3-5 days during first 2 weeks of LMWH therapy"/>
								</td>
								
						</tr>
						
						<tr>
							<td>
									<h:outputText value="Baseline serum creatinine, and q3-5days or prn if change in renal function is suspected, or if bleeding is suspected or confirmed"/>
								</td>
								
						</tr>
						
					
						
						</table>
					</p:outputPanel>
	 	 			 				
	 	 			 					  <table><tr><td>
					<h:outputText value="Monitoring for long term LMWH therapy"  style="font-family: verdana; font-weight: bold;"/>
					</td></tr></table> 
					
					
					
									<table border="1">
									
									<tr>
							<td>
									<h:outputText value="Patient weight" />
								</td>
								<td>
									<h:outputText  value="q1-3 months and adjust LMWH dose if needed" />
								</td>
						</tr>
									
						<tr>
							<td>
									<h:outputText value="Platelet count" />
								</td>
								<td>
									<h:outputText  value="q1-3 months" />
								</td>
						</tr>
						
						<tr>
							<td>
									<h:outputText value="Hematocrit"/>
								</td>
								<td>
									<h:outputText  value="q1-3 months" />
								</td>
						</tr>
						
						<tr>
							<td>
									<h:outputText value="Serum creatinine/CrCl"/>
								</td>
								<td>
									<h:outputText  value="q1-3 months (and PRN if change in renal function is suspected or if bleeding is suspected or confirmed) and adjust LMWH dose if needed" />
								</td>
						</tr>
						
						<tr>
							<td>
									<h:outputText value="Trough antiXa level"/>
								</td>
								<td>
									<h:outputText  value="Consider assessment if clinical circumstances suggest over-anticoagulation (e.g. bleeding complications, worsening renal function, anemia, thrombocytopenia, etc)" />
									<hr />
									<h:outputText  value="Goal: &lt; 0.5 unitsl/mL (adjust LMWH dose or dosing interval if needed)" />
								</td>
						</tr>
						
						<tr>
							<td>
									<h:outputText value="Peak antiXa level"/>
								</td>
								<td>
									<h:outputText  value="not correlated with efficacy" />
									<hr />
									<h:outputText  value="monitoring not recommended" />
									<hr />
									<h:outputText  value="for therapeutic failures (recurrent thrombosis despite adequate weight-based LMWH dosing), adjust LMWH dosing frequency (from q24h to q12h) or increase LMWH dosing (does not need to be guided by peak antiXa levels)" />
								</td>
						</tr>
					</table>
					
					<table>
							<tr>
								<td valign="top">
									<h:outputText  value="Lab :" styleClass="popupStepFont" />
								</td>
								<td>
									<p:dataTable value="#{patientMedicineManageBean.labDetailList}" var="labDetail" emptyMessage="#{msg.noMedFound}">
										
										<p:column>
											<f:facet name="header">
												<h:outputText value="Select" />
											</f:facet>
											<p:selectBooleanCheckbox value="#{labDetail.selected}" />  
										</p:column>
										
										<p:column>
											<f:facet name="header">
												<h:outputText value="Lab Name" />
											</f:facet>
											<h:outputText value="#{labDetail.labName}" />
										</p:column>
										
										<p:column>
											<f:facet name="header">
												<h:outputText value="Lab Frequency" />
											</f:facet>
											<p:selectOneMenu value="#{labDetail.labfrequencyDetail}" style="width:90px;">
															<!-- <f:selectItem
																itemLabel="#{patientMedicineManageBean.medActionPlan.labFrequency}"
																itemValue="#{patientMedicineManageBean.medActionPlan.labFrequency}" /> -->
															<f:selectItems
																value="#{patientMedicineManageBean.lMWHFrequencyList}"
																var="labFreq" itemLabel="#{labFreq}" itemValue="#{labFreq}" />
												</p:selectOneMenu>
										</p:column>
																	
									
									</p:dataTable>
									
						</td>
						</tr>
						</table>
						
						
						
						
						<table width="100%">
						 <tr align="right">
						
							<td align="right">
								<p:commandButton value="#{msg.done}"
						action="#{patientMedicineManageBean.addMedicine}"></p:commandButton>
							</td>
						</tr>
						</table>
				 
	 	 			 	
	 	 			 	</p:outputPanel>
	 	 			 </p:tab>
	 	 				 
	 	 			</p:wizard>	
				</td>	
	 	 <td valign="top" align="right" width="8%">
	 	  	<p:commandButton value="#{msg.cancel}" action="#{patientMedicineManageBean.submitCancelButtonForAnticoag}" immediate="true"
						></p:commandButton>
	 	 </td>
	 	</tr>
	 </table>
		</h:form>	
	 	 				
					 	  			 
	
	</p:dialog>
	
	<!-- ######################## pop up end for Dalteparin medicine................................. -->
	
<!-- ######################## pop up start for Enoxaparin medicine................................. -->

		<p:dialog id="Enoxaparinid" widgetVar="Enoxaparin"
								resizable="false"  appendTo="@(body)" modal="true"
				 				height="510" width="58%" dynamic="true" closable="false" position="300,113">
		<f:facet name="header">
      		<h:outputText id="EnoxaparinHeader" value="#{patientMedicineManageBean.patientMedicationData.drugs}" />
   		</f:facet>
		
		
		<h:form>	
			<table  width="100%" border="0">
				<tr>
					<td width="92%" valign="top">
					<p:wizard titleStyleClass="popupStepFont" flowListener="#{patientMedicineManageBean.onFlowProcessOfEnoxaparin}">  
					 	 <p:tab id="step1" title="Step 1" titleStyleClass="popupStepFont">  
					 	 	<p:outputPanel>
				 	   			<h:panelGrid columns="3">
									<h:outputText value="Diagnoses" /><h:outputText value="*" styleClass="mandatoryField"/>	
									<p:selectOneMenu required="true" requiredMessage="Please select diagnosis"
							         			 value="#{patientMedicineManageBean.medActionPlan.diagnosis}" style="width:350px;">
											<f:selectItem itemLabel="Select One" itemValue="" />
											<!-- <f:selectItems value="#{patientMedicineManageBean.clinicDiagnosisList}" var="clinick" itemLabel="{clinick}" itemValue="{clinick}"/> -->
											<f:selectItems id="diagnosisListId"
													value="#{patientMedicineManageBean.clinicDiagnosisList}"
													var="clinick" itemLabel="#{clinick.diagnosisName}"
													itemValue="#{clinick.diagnosisName}" />
								
											<!-- <p:ajax
												listener="#{patientMedicineManageBean.changediagnosisForRivaroxaban}"
												></p:ajax> -->
											</p:selectOneMenu>
				
				 				</h:panelGrid>
				 			</p:outputPanel>
	 	 				 </p:tab>
	 	 				 <p:tab id="step2" title="Step 2" titleStyleClass="popupStepFont">  
	 	 				 
	 	 				 <table > 
	 	 					<tr>
	 	 				 			<td >
	 	 				 				<h:outputText value="Diagnosis: " style="font-weight: bold"/>&nbsp;
	 	 				 				<h:outputText value="#{patientMedicineManageBean.medActionPlan.diagnosis}" />
	 	 				 				
	 	 				 			</td>
	 	 				 		</tr>
	 	 	 				</table>
	 	 				 	<table>
	 	 				 		<tr>
	 	 				 			<td>
			 	 				 		<p:outputPanel
												rendered="#{patientMedicineManageBean.medActionPlan.diagnosis eq 'VTE Prophylaxis'}">
											<p:selectOneRadio  value="#{patientMedicineManageBean.subDiagnosisDetail}" 
													            layout="pageDirection">  
												<f:selectItem itemLabel="Orthopedic surgery (hip/knee replacement, hip fracture)" itemValue="Orthopedic surgery (hip/knee replacement, hip fracture)" />  
												<f:selectItem itemLabel="Trauma" itemValue="Trauma" />  
												<f:selectItem itemLabel="Acute spinal cord injury" itemValue="Acute spinal cord injury" />  
												<f:selectItem itemLabel="Acute medical illness" itemValue="Acute medical illness" />  
												<f:selectItem itemLabel="General surgery" itemValue="General surgery" />  
												<f:selectItem itemLabel="Bariatric surgery" itemValue="Bariatric surgery" />
												<f:selectItem itemLabel="Morbid obesity (BMI &gt; 40)" itemValue="Morbid obesity (BMI &gt; 40)" />
												<f:selectItem itemLabel="Severe renal impairment (CrCl &lt; 30)" itemValue="Severe renal impairment (CrCl &lt; 30)" />
											</p:selectOneRadio>  
										</p:outputPanel>
										
										<p:outputPanel
												rendered="#{patientMedicineManageBean.medActionPlan.diagnosis eq 'VTE Treatment'}">
											<p:selectOneRadio  value="#{patientMedicineManageBean.subDiagnosisDetail}"
													            layout="pageDirection">  
												<f:selectItem itemLabel="Venous thrombosis (LMWH for a minimum of 5 days)" itemValue="Venous thrombosis (LMWH for a minimum of 5 days)" />  
												<f:selectItem itemLabel="Cancer associated venous thrombosis (LMWH for a minimum of 3-6 months)" itemValue="Cancer associated venous thrombosis (LMWH for a minimum of 3-6 months)" />  
												<f:selectItem itemLabel="Pregnancy" itemValue="Pregnancy" />  
												<f:selectItem itemLabel="Low body weight (wt &lt; or = 45 kg)" itemValue="Low body weight (wt &lt; or = 45 kg)" />  
												<f:selectItem itemLabel="Obesity (wt &gt; or = 99 kg)" itemValue="Obesity (wt &gt; or = 99 kg)" />  
												<f:selectItem itemLabel="Moderate renal impairment (CrCl 30-60)" itemValue="Moderate renal impairment (CrCl 30-60)" />
												<f:selectItem itemLabel="Severe renal impairment (CrCl &lt; 30)" itemValue="Severe renal impairment (CrCl &lt; 30)" />
											</p:selectOneRadio>  
										</p:outputPanel>
										
										<p:outputPanel
												rendered="#{patientMedicineManageBean.medActionPlan.diagnosis eq 'Acute Coronary Syndrome'}">
											<p:selectOneRadio  value="#{patientMedicineManageBean.subDiagnosisDetail}"
													            layout="pageDirection">  
												<f:selectItem itemLabel="Unstable angina/NQWMI" itemValue="Unstable angina/NQWMI" />  
												<f:selectItem itemLabel="Renal impairment (CrCl &lt; 60)" itemValue="Renal impairment (CrCl &lt; 60)" />  
											</p:selectOneRadio>  
										</p:outputPanel>
										
										<p:outputPanel
												rendered="#{patientMedicineManageBean.medActionPlan.diagnosis eq 'Bridge Therapy'}">
												<p:selectOneRadio  value="#{patientMedicineManageBean.subDiagnosisDetail}"
													            layout="pageDirection">  
												<f:selectItem itemLabel="Atrial fibrillation" itemValue="Atrial fibrillation" />  
												<f:selectItem itemLabel="Heart valve replacement" itemValue="Heart valve replacement" />  
												<f:selectItem itemLabel="History of VTE" itemValue="History of VTE" />  
												<f:selectItem itemLabel="Pregnancy" itemValue="Pregnancy" />  
												<f:selectItem itemLabel="Low body weight (wt &lt; or = 45 kg)" itemValue="Low body weight (wt &lt; or = 45 kg)" />  
												<f:selectItem itemLabel="Obesity (wt &gt; or = 99 kg)" itemValue="Obesity (wt &gt; or = 99 kg)" />
												<f:selectItem itemLabel="Moderate renal impairment (CrCl 30-60)" itemValue="Moderate renal impairment (CrCl 30-60)" />
												<f:selectItem itemLabel="Severe renal impairment (CrCl &lt; 30)" itemValue="Severe renal impairment (CrCl &lt; 30)" />
											</p:selectOneRadio>  
										</p:outputPanel>
								  </td>
								  <td>
								  	<table>
								  		<tr>
								  			<td>
		 	 	 				<h:outputText value="Body Weight" />
		 	 	 				<h:outputText value="*" styleClass="mandatoryField"/>
								    
							</td>
							
							
							<td>
						        <p:inputText id="simpleWeight" style="width:50px;" value="#{patientMedicineManageBean.calculateCreatimineClearance.simpleWeight}" >
						        <p:ajax update="simpleWeight ,patWeight,patWeightUnit" listener="#{patientMedicineManageBean.changeWeightUnit}" process="@this,weightUnitId"></p:ajax>
						         </p:inputText>
						       </td>
       
       
						       <td> 
						        <p:selectOneMenu style="width:50px;" id="weightUnitId"
						           value="#{patientMedicineManageBean.calculateCreatimineClearance.findWeightUnit}">
						           
						           <f:selectItem itemLabel="Lbs" itemValue="Lbs" />
						           <f:selectItem itemLabel="Kg"  itemValue="Kg"/>
						          
						          
						        <p:ajax update="patWeight,patWeightUnit" listener="#{patientMedicineManageBean.changeWeightUnit}" process="@this,simpleWeight">
						        </p:ajax>
						       </p:selectOneMenu> </td> 
						       <td>
						       <h:outputText style="width:50px; font-weight:bold; " id="patWeight" value="#{patientMedicineManageBean.calculateCreatimineClearance.weight}" />&nbsp;<h:outputText style="width:50px; font-weight:bold; " id="patWeightUnit" value="#{patientMedicineManageBean.calculateCreatimineClearance.weightUnit}" /> 
						       </td>
							
							
								  		</tr>
								  	</table>
								  </td>
	 	 				 		</tr>
	 	 				 	</table>
	 	 				 	
	 	 				 </p:tab> 
	 	 				 
	 	 				 <p:tab id="Step3" title="Step 3" titleStyleClass="popupStepFont">  
        					 <p:outputPanel>
        					  <table > 
	 	 						<tr>
	 	 				 			<td colspan="2">
	 	 				 				<h:outputText value="Diagnosis: " style="font-weight: bold"/>&nbsp;
	 	 				 				<h:outputText value="#{patientMedicineManageBean.medActionPlan.diagnosis}" />&nbsp;&nbsp;
	 	 				 				<h:outputText value="Sub Diagnoses: " style="font-weight: bold"/>
	 	 				 				<h:outputText value="#{patientMedicineManageBean.subDiagnosisDetail}" />
	 	 				 			</td>
	 	 				 		</tr>
	 	 				 		</table>
	 	 				 		
	 	 				 		<table>
	 	 				 		<tr>
        								 <td>
									           <h:outputText value="Recommendation:" style="font-weight: bold"/>
									       </td>
									       <td>
									        <h:outputText value="#{patientMedicineManageBean.patientMedicationData.recommendedDose}"  readonly="true"/>
									       </td>
									       
									       </tr>
	 	 	 				</table>
	 	 	 				
	 	 	 				<p:outputPanel rendered="#{!(patientMedicineManageBean.patientMedicationData.calculatedDose eq 0)}">
	 	 	 					<table>
	 	 	 						<tr>
	 	 	 							<td>
	 	 	 								<h:outputText value="Calculated dose (mg) :" style="font-weight: bold"/>
	 	 	 							</td>
	 	 	 							
	 	 	 							<td>
	 	 	 								<h:outputText value="#{patientMedicineManageBean.patientMedicationData.calculatedDose}"></h:outputText>
	 	 	 							</td>
	 	 	 						</tr>
	 	 	 					</table>
	 	 	 				
	 	 	 				</p:outputPanel>
         						<table>
        							 
									       
									     <tr>
									       <td>
									           <h:outputText value="Strength" /><h:outputText value="*" styleClass="mandatoryField"/>
									           
									       </td>
									       
									       <td><p:selectOneMenu required="true" requiredMessage="Please Select Strength"
										value="#{patientMedicineManageBean.patientMedicationData.strengths}"
										style="width:140px;">
										<!-- <f:selectItem
											itemLabel="#{patientMedicineManageBean.patientMedicationData.directions}"
											itemValue="#{patientMedicineManageBean.patientMedicationData.directions}" /> -->
										<f:selectItems value="#{patientMedicineManageBean.doseDetailList}"
											var="doseList" itemLabel="#{doseList.dose}" itemValue="#{doseList.dose}" />
									</p:selectOneMenu>
							
								<!-- <p:inputText value="#{patientMedicineManageBean.medActionPlan.dose}" /> -->
									</td>
									
								<td>
	 	 	 	 						<h:outputText value="Unit" /><h:outputText value="*" styleClass="mandatoryField"/>
	 	 	 	 				</td>
	 	 	 	 					<td>
				 	 	 	 			<p:selectOneMenu 
													value="#{patientMedicineManageBean.patientMedicationData.unit}" 
													style="width:130px;">
													
													<f:selectItems value="#{patientMedicineManageBean.unitSummaryList}"
														var="unitList" itemLabel="#{unitList.unit}" itemValue="#{unitList.unit}" />
														
													<p:ajax listener="#{patientMedicineManageBean.calculateTotalDispence}" update="dispenceNumber"></p:ajax>	
												</p:selectOneMenu>
	 	 	 	 					</td>
									  </tr>
									
									<tr>
										<td>
	 	 	 	 							<h:outputText value="Dosage form" /><h:outputText value="*" styleClass="mandatoryField"/>
	 	 	 	 						</td>
	 	 	 	 						
	 	 	 	 						<td>
	 	 	 	 						
	 	 	 	 							<!-- <p:selectOneMenu required="true" 
										value="#{patientMedicineManageBean.patientMedicationData.dosageForm}"
										style="width:122px;">
										<f:selectItem itemLabel="#{patientMedicineManageBean.patientMedicationData.dosageForm}" itemValue="#{patientMedicineManageBean.patientMedicationData.dosageForm}" />
	 	 	 	 								
													
														<f:selectItems value="#{patientMedicineManageBean.unitDetailsList}"
															var="unitList" itemLabel="#{unitList.unitName}" itemValue="#{unitList.unitName}" />
											</p:selectOneMenu> -->
											
											<p:inputText  value="#{patientMedicineManageBean.patientMedicationData.dosageForm}" readonly="true"></p:inputText>	
								
	 	 	 	 						</td>
	 	 	 	 						
	 	 	 	 						
	 	 	 	 						<!-- <td>
	 	 	 	 							<h:outputText value="Package" /><h:outputText value="*" styleClass="mandatoryField"/>
	 	 	 	 					</td>
	 	 	 	 				<td>
	 	 	 	 					<p:selectOneMenu required="true" 
														value="#{patientMedicineManageBean.patientMedicationData.unitDetail}"
														style="width:122px;">
														
										<f:selectItems value="#{patientMedicineManageBean.dosageDetailsList}"
											var="dosageDetailList" itemLabel="#{dosageDetailList.dosageFrom}" itemValue="#{dosageDetailList.dosageFrom}" />
										
									
										</p:selectOneMenu>
	 	 	 	 					</td> -->
							</tr>
							
							<tr>
								<td>
	 	 	 	 					<h:outputText value="Route" /><h:outputText value="*" styleClass="mandatoryField"/>
	 	 	 	 				</td>
	 	 	 	 			<td>
	 	 	 	 					<!-- <p:selectOneMenu required="true" 
										value="#{patientMedicineManageBean.patientMedicationData.byRoute}"
										style="width:122px;">
									<f:selectItem itemLabel="#{patientMedicineManageBean.patientMedicationData.byRoute}" itemValue="#{patientMedicineManageBean.patientMedicationData.byRoute}" />
										<f:selectItems value="#{patientMedicineManageBean.routeDetailsList}"
											var="routeDetailList" itemLabel="#{routeDetailList.routeName}" itemValue="#{routeDetailList.routeName}" />
										
									</p:selectOneMenu> -->
									<p:inputText  value="#{patientMedicineManageBean.patientMedicationData.byRoute}" readonly="true"></p:inputText>
	 	 	 	 			</td>
	 	 	 	 	
	 	 	 	 	
	 	 	 	 				<td>
	 	 	 	 					<h:outputText value="Regimen" /><h:outputText value="*" styleClass="mandatoryField"/>
	 	 	 	 			</td>
	 	 	 	 		
	 	 	 	 		<td>
	 	 	 	 				<p:selectOneMenu required="true" requiredMessage="Please Select Regimen"
										value="#{patientMedicineManageBean.patientMedicationData.directions}"
										style="width:140px;">
										<f:selectItem
											itemLabel=""
											itemValue="" />
										<f:selectItems value="#{patientMedicineManageBean.regimenList}"
											var="regimen" itemLabel="#{regimen}" itemValue="#{regimen}" />
											
											<p:ajax listener="#{patientMedicineManageBean.calculateTotalDispence}" update="dispenceNumber"></p:ajax>
									</p:selectOneMenu>
	 	 	 	 		</td>
	 	 	 	 	
								
					</tr>
							       
							    <tr>
							    	<td>
	 	 	  							<h:outputText value="Dispense" /><h:outputText value="*" styleClass="mandatoryField"/>
	 	 	  						</td>
	 	 	  						
									<td>
										<p:inputText id="dispenceNumber" style="width:50px;"  converter="#{Integer}" maxlength="3"
													value="#{patientMedicineManageBean.patientMedicationData.quantity}" >
											<f:convertNumber  pattern="#0" integerOnly="true"  minFractionDigits="3" maxIntegerDigits="3" type="number"/>
										</p:inputText>
									</td>
						
									<td>
					 	 	  			<h:outputText value="Days Supply" />
					 	 	  		</td>
									<td>
											<!-- <p:inputText style="width:50px;" required="true" 
														value="#{patientMedicineManageBean.patientMedicationData.daySupply}" /> -->
														
										<p:selectOneMenu 
													value="#{patientMedicineManageBean.patientMedicationData.daySupply}"
													style="width:90px;">
														<!-- <f:selectItem itemValue="#{patientMedicineManageBean.patientMedicationData.daySupply}" 
													itemLabel="#{patientMedicineManageBean.patientMedicationData.daySupply}"></f:selectItem> -->
													<f:selectItems value="#{patientMedicineManageBean.daySupplyList}"
														var="daySupplyDetailList" itemLabel="#{daySupplyDetailList}" itemValue="#{daySupplyDetailList}" />
												<p:ajax listener="#{patientMedicineManageBean.calculateTotalDispence}" update="dispenceNumber"></p:ajax>	
										</p:selectOneMenu>
								</td>
							  </tr>    
							         
							  <tr>
							  	<td>
	 	 	  						<h:outputText value="Refill"/>
	 	 	  					</td>
	 	 	  					
								<td>
									
												<!-- 	<p:inputText required="true" requiredMessage="Please insert reffils" maxlength="2" 
										 value="#{patientMedicineManageBean.patientMedicationData.reffils}" style="width:50px;">
										 
										 <pe:keyFilter mask="num"></pe:keyFilter>
									</p:inputText> -->
							
									<p:selectOneMenu required="true" 
											value="#{patientMedicineManageBean.patientMedicationData.reffils}"
											style="width:60px;">
											
											<f:selectItems value="#{patientMedicineManageBean.refillDetailsList}"
												var="refillList" itemLabel="#{refillList}" itemValue="#{refillList}" />
											
										</p:selectOneMenu>
								</td>
						
							 </tr>     
      
        					</table>
        					<table>
        						<tr>
        								<td>
		 	 	 								<h:outputText value="Comments" />
								    
										</td>
							
										<td>
												
												<p:inputTextarea  value="#{patientMedicineManageBean.patientMedicationData.notes}"  cols="50" rows="5">
															<!-- <p:ajax update="notesEditor"></p:ajax> -->
												</p:inputTextarea>
										</td>
        						</tr>
        					</table>
       					 </p:outputPanel>
       				 </p:tab>
	 	 			 
	 	 			  <p:tab id="Step4" title="Step 4" titleStyleClass="popupStepFont">  
	 	 			 		
	 	 			 
	 	 			 	<p:outputPanel>
	 	 			 		
	 	 			 		 <table> 
	 	 						<tr>
	 	 				 			<td >
	 	 				 				<h:outputText value="Diagnosis: " style="font-weight: bold"/>&nbsp;
	 	 				 				<h:outputText value="#{patientMedicineManageBean.medActionPlan.diagnosis}" />&nbsp;&nbsp;
	 	 				 				<h:outputText value="Sub Diagnoses: " style="font-weight: bold"/>&nbsp;
	 	 				 				<h:outputText value="#{patientMedicineManageBean.subDiagnosisDetail}" />&nbsp;&nbsp;
	 	 				 				<h:outputText value="Dose Prescribed: " style="font-weight: bold"/>&nbsp;
	 	 				 				<!-- <h:outputText value="#{patientMedicineManageBean.medActionPlan.dose}" /> -->
	 	 				 				<h:outputText value="#{patientMedicineManageBean.patientMedicationData.strengths}" />
	 	 				 			</td>
	 	 				 		</tr>
	 	 	 				</table>
	 	 			 	
	 	 			 	<p:outputPanel rendered="#{patientMedicineManageBean.medActionPlan.diagnosis eq 'Bridge Therapy'}">
	 	 			 		
	 	 			 		<table>
							<tr>
								<td>
									<h:outputText  value="Monitoring for initial LMWH therapy, including bridging" styleClass="popupStepFont" />
								</td>
							</tr>
						
						<tr>
							<td>
									<h:outputText value="Baseline PT/aPTT"/>
								</td>
								
						</tr>
						
						<tr>
							<td>
									<h:outputText value="Baseline hematocrit and q3-5 days or prn if bleeding is suspected or confirmed"/>
								</td>
								
						</tr>
						
						<tr>
							<td>
									<h:outputText value="Baseline platelet count, and q3-5 days during first 2 weeks of LMWH therapy"/>
								</td>
								
						</tr>
						
						<tr>
							<td>
									<h:outputText value="Baseline serum creatinine, and q3-5days or prn if change in renal function is suspected, or if bleeding is suspected or confirmed"/>
								</td>
								
						</tr>
						
					
						
						</table>
					</p:outputPanel>
	 	 			 				
	 	 			 					  <table><tr><td>
					<h:outputText value="Monitoring for long term LMWH therapy"  style="font-family: verdana; font-weight: bold;"/>
					</td></tr></table> 
					
					
					
									<table border="1">
									
									<tr>
							<td>
									<h:outputText value="Patient weight" />
								</td>
								<td>
									<h:outputText  value="q1-3 months and adjust LMWH dose if needed" />
								</td>
						</tr>
									
						<tr>
							<td>
									<h:outputText value="Platelet count" />
								</td>
								<td>
									<h:outputText  value="q1-3 months" />
								</td>
						</tr>
						
						<tr>
							<td>
									<h:outputText value="Hematocrit"/>
								</td>
								<td>
									<h:outputText  value="q1-3 months" />
								</td>
						</tr>
						
						<tr>
							<td>
									<h:outputText value="Serum creatinine/CrCl"/>
								</td>
								<td>
									<h:outputText  value="q1-3 months (and PRN if change in renal function is suspected or if bleeding is suspected or confirmed) and adjust LMWH dose if needed" />
								</td>
						</tr>
						
						<tr>
							<td>
									<h:outputText value="Trough antiXa level"/>
								</td>
								<td>
									<h:outputText  value="Consider assessment if clinical circumstances suggest over-anticoagulation (e.g. bleeding complications, worsening renal function, anemia, thrombocytopenia, etc)" />
									<hr />
									<h:outputText  value="Goal: &lt; 0.5 unitsl/mL (adjust LMWH dose or dosing interval if needed)" />
								</td>
						</tr>
						
						<tr>
							<td>
									<h:outputText value="Peak antiXa level"/>
								</td>
								<td>
									<h:outputText  value="not correlated with efficacy" />
									<hr />
									<h:outputText  value="monitoring not recommended" />
									<hr />
									<h:outputText  value="for therapeutic failures (recurrent thrombosis despite adequate weight-based LMWH dosing), adjust LMWH dosing frequency (from q24h to q12h) or increase LMWH dosing (does not need to be guided by peak antiXa levels)" />
								</td>
						</tr>
					</table>
					
					<table>
							<tr>
								<td valign="top">
									<h:outputText  value="Lab :" styleClass="popupStepFont" />
								</td>
								<td>
									<p:dataTable value="#{patientMedicineManageBean.labDetailList}" var="labDetail" emptyMessage="#{msg.noMedFound}">
										
										<p:column>
											<f:facet name="header">
												<h:outputText value="Select" />
											</f:facet>
											<p:selectBooleanCheckbox value="#{labDetail.selected}" />  
										</p:column>
										
										<p:column>
											<f:facet name="header">
												<h:outputText value="Lab Name" />
											</f:facet>
											<h:outputText value="#{labDetail.labName}" />
										</p:column>
										
										<p:column>
											<f:facet name="header">
												<h:outputText value="Lab Frequency" />
											</f:facet>
											<p:selectOneMenu value="#{labDetail.labfrequencyDetail}" style="width:90px;">
															<!-- <f:selectItem
																itemLabel="#{patientMedicineManageBean.medActionPlan.labFrequency}"
																itemValue="#{patientMedicineManageBean.medActionPlan.labFrequency}" /> -->
															<f:selectItems
																value="#{patientMedicineManageBean.lMWHFrequencyList}"
																var="labFreq" itemLabel="#{labFreq}" itemValue="#{labFreq}" />
												</p:selectOneMenu>
										</p:column>
																	
									
									</p:dataTable>
						</td>
						</tr>
						</table>
						<table width="100%">
						 <tr align="right">
						
							<td align="right">
								<p:commandButton value="#{msg.done}"
						action="#{patientMedicineManageBean.addMedicine}"></p:commandButton>
							</td>
						</tr>
						</table>
				 
	 	 			 	
	 	 			 	</p:outputPanel>
	 	 			 </p:tab>
	 	 				 
	 	 			</p:wizard>	
				</td>	
	 	 <td valign="top" align="right" width="8%">
	 	  	<p:commandButton value="#{msg.cancel}" action="#{patientMedicineManageBean.submitCancelButtonForAnticoag}" immediate="true"
						></p:commandButton>
	 	 </td>
	 	</tr>
	 </table>
		</h:form>	
	 	 				
					 	  			 
	
	</p:dialog>
	
	
<!-- ######################## pop up end for Enoxaparin medicine................................. -->
	


<!-- ************************ pop up started for Dabigatran medicine************************************* -->

<p:dialog id="Dabigratanid" widgetVar="Dabigratan"
					resizable="false"  appendTo="@(body)" modal="true"
	 				height="400" width="45%" dynamic="true" closable="false" position="bottom">
	 	<f:facet name="header">
      		<h:outputText id="DabigatranHeader" value="#{patientMedicineManageBean.patientMedicationData.drugs}" />
   		</f:facet>
	 						
				<h:form >
	 					<p:messages  id="dabigratanMsgId" showDetail="false" style="color:#FF0000;margin:8px;"  closable="true" showSummary="true"/>
					 <table  width="100%" border="0"><tr><td width="92%" valign="top">
					 	 <p:wizard titleStyleClass="popupStepFont" flowListener="#{patientMedicineManageBean.onFlowProcessOfAnticoagMeds}">  
					 	 	
					 	 	 <p:tab id="step1" title="Step 1" titleStyleClass="popupStepFont">  
					 	   <p:outputPanel>	
					 	 <h:outputText value="#{msg.Cr_lab_message}" 
					 	  rendered="#{(patientMedicineManageBean.calculateCreatimineClearance.serumCreatinieValueInString eq '')}" style="color:#FF0000;margin:8px;" ></h:outputText>
	 	 			<table>
	 	 	 			<tr>
		 	 	 			<td>
		 	 	 				<h:outputText value="Age" />
		 	 	 				<h:outputText value="*" styleClass="mandatoryField"/>
								    
							</td>
							
							<td colspan="2">
								<p:inputText value="#{patientMedicineManageBean.calculateCreatimineClearance.age}" />
							</td>
							
							<td>
		 	 	 				<h:outputText value=" Sex (M/F)" />
		 	 	 				<h:outputText value="*" styleClass="mandatoryField"/>
								    
							</td>
							
							<td>
								<!-- <p:selectOneMenu value="#{patientMedicineManageBean.calculateCreatimineClearance.gender}">
									   	<f:selectItem itemValue="M" itemLabel="Male" />
									   	<f:selectItem itemValue="F" itemLabel="Female" />
									   	
									</p:selectOneMenu> -->
									<p:inputText value="#{patientMedicineManageBean.calculateCreatimineClearance.gender}" />
							</td>
							
							
								  	
	 	 	 			</tr>
	 	 	 			
	 	 	 			<tr>
	 	 	 			
	 	 	 				<td>
		 	 	 				<h:outputText value="Serum Creatinine (mg/dl)" />
		 	 	 				<h:outputText value="*" styleClass="mandatoryField"/>
								    
							</td>
							
							<td colspan="2">
								<p:inputText value="#{patientMedicineManageBean.calculateCreatimineClearance.serumCreatinieValueInString}" />
							</td>
							
		 	 	 			<td>
		 	 	 				<h:outputText value=" Height(Inch)" />
		 	 	 				<h:outputText value="*" styleClass="mandatoryField"/>
								    
							</td>
							
							<td>
								<p:inputText value="#{patientMedicineManageBean.calculateCreatimineClearance.height}" />
							</td>
							
							
						</tr>
						
						
						<tr>
							<td>
		 	 	 				<h:outputText value="Weight" />
		 	 	 				<h:outputText value="*" styleClass="mandatoryField"/>
								    
							</td>
							
							<td>
						        <p:inputText id="simpleWeight" style="width:50px;" value="#{patientMedicineManageBean.calculateCreatimineClearance.simpleWeight}" >
						        <p:ajax update="simpleWeight ,patWeight,patWeightUnit" listener="#{patientMedicineManageBean.changeWeightUnit}" process="@this,weightUnitId"></p:ajax>
						         </p:inputText>
						       </td>
       
       
						       <td> 
						        <p:selectOneMenu style="width:50px;" id="weightUnitId"
						           value="#{patientMedicineManageBean.calculateCreatimineClearance.findWeightUnit}">
						           
						           <f:selectItem itemLabel="Lbs" itemValue="Lbs" />
						           <f:selectItem itemLabel="Kg"  itemValue="Kg"/>
						          
						          
						        <p:ajax update="patWeight,patWeightUnit" listener="#{patientMedicineManageBean.changeWeightUnit}" process="@this,simpleWeight">
						        </p:ajax>
						       </p:selectOneMenu> </td> 
						       <td>
						       <h:outputText style="width:50px; font-weight:bold; " id="patWeight" value="#{patientMedicineManageBean.calculateCreatimineClearance.weight}" />&nbsp;<h:outputText style="width:50px; font-weight:bold; " id="patWeightUnit" value="#{patientMedicineManageBean.calculateCreatimineClearance.weightUnit}" /> 
						       </td>
						</tr>
	 	 	 		</table>
	 	 	 		</p:outputPanel>
	 	 	 </p:tab>
	 	 	 
	 	 	 <p:tab id="Step2" title="Step 2" titleStyleClass="popupStepFont">  
	 	 	 		
	 	 	 		  <p:outputPanel>
	 	 	 		<!--    <h:panelGrid columns="2" border="3"> -->
	 	 	 		
	 	 	 		<table>
	 	 	 			<tr>
	 	 	 			<td >
		 	 	 				<h:outputText value="Estimated CrCl :" style="font-weight:bold;"/>
								    
							</td>
							
						<td>
							<p:outputPanel rendered="#{patientMedicineManageBean.calculateCreatimineClearance.calculateCreatimineClearanceValue gt 80}">
								<h:outputText value="#{patientMedicineManageBean.calculateCreatimineClearance.calculateCreatimineClearanceValue}" />
								<h:outputText value="(ml/min)" />
							</p:outputPanel>
							
							<p:outputPanel rendered="#{patientMedicineManageBean.calculateCreatimineClearance.calculateCreatimineClearanceValue ge 50 and 
							patientMedicineManageBean.calculateCreatimineClearance.calculateCreatimineClearanceValue le 80}" style="color:rgb(255,242,0);font-weight: bolder">
								<h:outputText value="#{patientMedicineManageBean.calculateCreatimineClearance.calculateCreatimineClearanceValue}" />
								<h:outputText value="(ml/min)" />
							</p:outputPanel>
							
							<p:outputPanel rendered="#{patientMedicineManageBean.calculateCreatimineClearance.calculateCreatimineClearanceValue ge 30 and 
							patientMedicineManageBean.calculateCreatimineClearance.calculateCreatimineClearanceValue le 50}" style="color:orange;">
								<h:outputText value="#{patientMedicineManageBean.calculateCreatimineClearance.calculateCreatimineClearanceValue}" />
								<h:outputText value="(ml/min)" />
							</p:outputPanel>
							
							<p:outputPanel rendered="#{patientMedicineManageBean.calculateCreatimineClearance.calculateCreatimineClearanceValue le 30}" style="color:red;">
								<h:outputText value="#{patientMedicineManageBean.calculateCreatimineClearance.calculateCreatimineClearanceValue}" />
								<h:outputText value="(ml/min)" />
							</p:outputPanel>
						</td>
	 	 	 			
	 	 	 			<td>
		 	 	 				<h:outputText value="Recommended Dose:" style="font-weight:bold;"/>
								    
							</td>
							
							<td>
								<h:outputText value="#{patientMedicineManageBean.patientMedicationData.recommendedDose}" />
							</td>
	 	 	 			
	 	 	 			</tr>
	 	 	 		</table>
	 	 	 		
	 	 	 			<table>
	 	 	 			
	 	 	 			
	 	 	 			<tr>
							
							<td>
		 	 	 				<h:outputText value="Strength" /><h:outputText value="*" styleClass="mandatoryField"/>
							</td>
							
							<td><p:selectOneMenu required="true" requiredMessage="Please Select Strength"
										value="#{patientMedicineManageBean.patientMedicationData.strengths}"
										style="width:122px;">
										<!-- <f:selectItem
											itemLabel="#{patientMedicineManageBean.medActionPlan.dose}"
											itemValue="#{patientMedicineManageBean.medActionPlan.dose}" /> -->
										<f:selectItems value="#{patientMedicineManageBean.doseDetailList}"
											var="doseList" itemLabel="#{doseList.dose}" itemValue="#{doseList.dose}" />
									</p:selectOneMenu>
							
								<!-- <p:inputText value="#{patientMedicineManageBean.medActionPlan.dose}" /> -->
							</td>
							<td>
	 	 	 	 						<h:outputText value="Unit" /><h:outputText value="*" styleClass="mandatoryField"/>
	 	 	 	 				</td>
	 	 	 	 					<td>
				 	 	 	 			<p:selectOneMenu 
													value="#{patientMedicineManageBean.patientMedicationData.unit}" 
													style="width:122px;">
													
													<f:selectItems value="#{patientMedicineManageBean.unitSummaryList}"
														var="unitList" itemLabel="#{unitList.unit}" itemValue="#{unitList.unit}" />
														
													<p:ajax listener="#{patientMedicineManageBean.calculateTotalDispence}" update="dispenceNumber"></p:ajax>	
														
												</p:selectOneMenu>
	 	 	 	 					</td>
							
								  	
	 	 	 			</tr>
	 	 	 			
	 	 	 			
	 	 	 			<tr>
	 	 	 	 					<td>
	 	 	 	 							<h:outputText value="Dosage form" /><h:outputText value="*" styleClass="mandatoryField"/>
	 	 	 	 						</td>
	 	 	 	 						
	 	 	 	 						<td>
	 	 	 	 						
	 	 	 	 						<!-- <p:selectOneMenu required="true" 
										value="#{patientMedicineManageBean.patientMedicationData.dosageForm}"
										style="width:122px;">
										<f:selectItem itemLabel="#{patientMedicineManageBean.patientMedicationData.dosageForm}" itemValue="#{patientMedicineManageBean.patientMedicationData.dosageForm}" />
	 	 	 	 								
													
														<f:selectItems value="#{patientMedicineManageBean.unitDetailsList}"
															var="unitList" itemLabel="#{unitList.unitName}" itemValue="#{unitList.unitName}" />
											</p:selectOneMenu> -->
											
											<p:inputText  value="#{patientMedicineManageBean.patientMedicationData.dosageForm}" readonly="true"></p:inputText>	
								
	 	 	 	 						</td>
	 	 	 	 						
	 	 	 	 						<td>
	 	 	 	 					<h:outputText value="Route" /><h:outputText value="*" styleClass="mandatoryField"/>
	 	 	 	 				</td>
	 	 	 	 			<td>
	 	 	 	 					<!-- <p:selectOneMenu required="true" 
										value="#{patientMedicineManageBean.patientMedicationData.byRoute}"
										style="width:122px;">
									<f:selectItem itemLabel="#{patientMedicineManageBean.patientMedicationData.byRoute}" itemValue="#{patientMedicineManageBean.patientMedicationData.byRoute}" />
										<f:selectItems value="#{patientMedicineManageBean.routeDetailsList}"
											var="routeDetailList" itemLabel="#{routeDetailList.routeName}" itemValue="#{routeDetailList.routeName}" />
										
									</p:selectOneMenu> -->
									<p:inputText  value="#{patientMedicineManageBean.patientMedicationData.byRoute}" readonly="true"></p:inputText>
	 	 	 	 			</td>
	 	 	 					</tr>
	 	 	 					
	 	 	 					
	 	 	 						
	 	 	 	 						<!-- <td>
	 	 	 	 							<h:outputText value="Package" /><h:outputText value="*" styleClass="mandatoryField"/>
	 	 	 	 					</td>
	 	 	 	 				<td>
	 	 	 	 						
	 	 	 	 						<p:selectOneMenu required="true" 
														value="#{patientMedicineManageBean.patientMedicationData.unitDetail}"
														style="width:122px;">
										<f:selectItems value="#{patientMedicineManageBean.dosageDetailsList}"
											var="dosageDetailList" itemLabel="#{dosageDetailList.dosageFrom}" itemValue="#{dosageDetailList.dosageFrom}" />
										
									
										</p:selectOneMenu>
	 	 	 	 					</td> -->
	 	 	 	 					
	 	 	 	 					
	 	 	 					
	 	 	 					
	 	 	 					<tr>
	 	 	 						<td>
	 	 	 	 					<h:outputText value="Regimen" /><h:outputText value="*" styleClass="mandatoryField"/>
	 	 	 	 			</td>
	 	 	 	 		
	 	 	 	 		<td>
	 	 	 	 				<p:selectOneMenu required="true" requiredMessage="Please Select Regimen"
										value="#{patientMedicineManageBean.patientMedicationData.directions}"
										style="width:122px;">
										
										<f:selectItems value="#{patientMedicineManageBean.regimenList}"
											var="regimen" itemLabel="#{regimen}" itemValue="#{regimen}" />
											<p:ajax listener="#{patientMedicineManageBean.calculateTotalDispence}" update="dispenceNumber"></p:ajax>	
											
									</p:selectOneMenu>
	 	 	 	 		</td>
	 	 	 	 		
	 	 	 	 		<td>
	 	 	  							<h:outputText value="Dispense" /><h:outputText value="*" styleClass="mandatoryField"/>
	 	 	  						</td>
	 	 	  						
									<td>
										<p:inputText id="dispenceNumber" style="width:50px;"  converter="#{Integer}" maxlength="3" 
													value="#{patientMedicineManageBean.patientMedicationData.quantity}" >
											<f:convertNumber  pattern="#0" integerOnly="true"  minFractionDigits="3" maxIntegerDigits="3" type="number"/>
										</p:inputText>
									</td>
	 	 	 					</tr>
	 	 	 					
	 	 	 					<tr>
	 	 	 						<td>
					 	 	  			<h:outputText value="Days Supply" />
					 	 	  		</td>
									<td>
											<!-- <p:inputText style="width:50px;" required="true" 
														value="#{patientMedicineManageBean.patientMedicationData.daySupply}" /> -->
														
										<p:selectOneMenu 
													value="#{patientMedicineManageBean.patientMedicationData.daySupply}"
													style="width:80px;">
													<!-- <f:selectItem itemValue="#{patientMedicineManageBean.patientMedicationData.daySupply}" 
													itemLabel="#{patientMedicineManageBean.patientMedicationData.daySupply}"></f:selectItem> -->
													<f:selectItems value="#{patientMedicineManageBean.daySupplyList}"
														var="daySupplyDetailList" itemLabel="#{daySupplyDetailList}" itemValue="#{daySupplyDetailList}" />
												<p:ajax listener="#{patientMedicineManageBean.calculateTotalDispence}" update="dispenceNumber"></p:ajax>	
													
										</p:selectOneMenu>
								</td>
								
								<td>
	 	 	  						<h:outputText value="Refill"/>
	 	 	  					</td>
	 	 	  					
								<td>
									
												<!-- 	<p:inputText required="true" requiredMessage="Please insert reffils" maxlength="2" 
										 value="#{patientMedicineManageBean.patientMedicationData.reffils}" style="width:50px;">
										 
										 <pe:keyFilter mask="num"></pe:keyFilter>
									</p:inputText> -->
							
									<p:selectOneMenu required="true" 
											value="#{patientMedicineManageBean.patientMedicationData.reffils}"
											style="width:60px;">
											
											<f:selectItems value="#{patientMedicineManageBean.refillDetailsList}"
												var="refillList" itemLabel="#{refillList}" itemValue="#{refillList}" />
											
										</p:selectOneMenu>
								</td>
						
								
	 	 	 					</tr>
	 	 	 			
						</table>
						
						<table>
						<tr>
	 	 	 			
	 	 	 				
							
		 	 	 			<td>
		 	 	 				<h:outputText value="Comments" />
								    
							</td>
							
							<td>
								<!-- <p:inputText value="#{patientMedicineManageBean.patientMedicationData.notes}" /> -->
								<p:inputTextarea  value="#{patientMedicineManageBean.patientMedicationData.notes}"  cols="50" rows="5">
											<!-- <p:ajax update="notesEditor"></p:ajax> -->
								</p:inputTextarea>
							</td>
							
							
						</tr>
					</table >
					<br/>
					<table align="right">	
						<tr>
						
							<td align="right" colspan="4">
								<p:commandButton value="#{msg.done}" update="dabigratanMsgId"
						action="#{patientMedicineManageBean.addMedicine}"></p:commandButton>
							</td>
						</tr>
	 	 	 		</table>
	 	 	 		</p:outputPanel>
						 
	 	 	   </p:tab>
			</p:wizard>	
			</td>
	 	 <td valign="top" align="right" width="8%">
	 	  <p:commandButton value="#{msg.cancel}" action="#{patientMedicineManageBean.submitCancelButtonForAnticoag}" immediate="true"
						></p:commandButton>
	 	 </td>
	 	</tr>
	 </table>
		</h:form>	
	 </p:dialog>
		
		 	
		 	<!-- ************pop up start  Bivalirudin *********************************************************** -->

 	<p:dialog id="Bivalirudinid" widgetVar="Bivalirudin"
								resizable="false" header="#{patientMedicineManageBean.patientMedicationData.drugs}" appendTo="@(body)" modal="true"
				 				height="300" width="35%" dynamic="true" closable="true" position="450,323">
				 			
				 			<table>
				 				<tr>
				 						<td>
				 							<h:outputText value="(DTI Goal: 60-90 seconds)" style="font-family: verdana; font-weight: bold;" />
				 						</td>
				 					</tr>
				 			</table>
				 			
				 			<table border="1" >
				 			
								<tr bgcolor="#EBB981" style="font-family: verdana; font-weight: bold;">
								<td width="100px"><h:outputText value="DTI Assay" /></td>
								<td><h:outputText value="DOSE ADJUSTMENT" /></td>
								
								</tr>
								
								<tr>
									<td>
											<h:outputText value="60" />
										</td><td>
											<h:outputText value="Increase infusion rate by 20%" /></td>
											
								</tr>
								
								<tr>
									
									<td>
											<h:outputText  value="60-90" />
											</td><td>
											<h:outputText value="At goal: No change" /></td>
											
								</tr>
								
								<tr>
									
									<td>
											<h:outputText  value="90" />
											</td><td>
											<h:outputText value="Hold infusion for 1 hour, then restart at 50% &lt; the previous rate" /></td>
											
								</tr>
								
								
						</table>
	
	</p:dialog> 	
	
	
	
<!-- ************pop up End  Bivalirudin *********************************************************** -->
		 	
	
	
	
		 	
		 	<!-- ************pop up start  Heparin *********************************************************** -->

<!-- 	<p:dialog id="Heparinid" widgetVar="Heparin"
								resizable="false" header="#{patientMedicineManageBean.patientMedicationData.drugs}" appendToBody="true" modal="true"
				 				height="300" width="58%" dynamic="true" closable="true" position="400,323">
				 			
				 			
				 			<table border="1" >
				 			
								<tr bgcolor="#EBB981" style="font-family: verdana; font-weight: bold;">
								<td width="100px"><h:outputText value="INDICATION" /></td>
								<td><h:outputText value="LOADING BOLUS" />
								<hr />
								<h:outputText value="(maximum 10,000 units)" />
								</td>
								<td><h:outputText value="INITIAL INFUSION RATE" /></td>
								<td><h:outputText value="PRN RE-BOLUS FOR LOW PTT" />
								<hr />
								<h:outputText value="(maximum 5000 units)" />
								</td>
								
								</tr>
								
								<tr>
									<td>
											<h:outputText value="Acute Thrombosis Treatment (eg: DVT/PE)" />
										</td><td>
											<h:outputText value="80 units/kg" /></td>
											<td>
											<h:outputText value="18 units/kg/hr" /></td>
											<td rowspan="4">
											<h:outputText value="PTT 50-59:25 units/kg" />
											<hr />
											<h:outputText value="PTT 50:50 units/kg" />
											</td>
								</tr>
								
								<tr>
									
									<td>
											<h:outputText  value="Atrial Fibrillation, Valve Replacement, Peri-operative Bridging, Other" />
											</td><td>
											<h:outputText value="70 units/kg" /></td>
											<td>
											<h:outputText value="15 units/kg/hr" /></td>
											
								</tr>
								
								<tr>
									
									<td>
											<h:outputText  value="Acute Coronary Syndrome" />
											</td><td>
											<h:outputText value="50 units/kg" /></td>
											<td>
											<h:outputText value="12 units/kg/hr" /></td>
											
								</tr>
								
								<tr>
									
									<td>
											<h:outputText  value="Acute Ischemic Stroke" />
											</td><td>
											<h:outputText value="none" /></td>
											<td>
											<h:outputText value="12 units/kg/hr" /></td>
											
								</tr>
								
								
						</table>
							
	</p:dialog> 	
	 -->
	
	
<!-- ************pop up End  Heparin *********************************************************** -->
<!-- ******************************** pop up start for general medcine............................ -->
	<p:dialog id="generalMedicinePopUpId" widgetVar="generalMedicinePopUp" 
					resizable="true"   appendTo="@(body)" modal="true" height="330" width="820"
	 				 dynamic="true" closable="false" >
	 	 <f:facet name="header">
      		
      		<table >
	 			
	 			 <tr>
	 				<td><h:outputText id="generalMedicineHeader" value="#{patientMedicineManageBean.patientMedicationData.drugs}"/> </td>
	 				
	 			</tr> 
	 			
	 		</table> 
   		</f:facet> 
   		
			<h:form id="newmedactionPlan">
			
			  <p:messages  id="messageUpdateForGeneralMeds" showDetail="false" style="color:#FF0000;"  closable="true" showSummary="true"/> 
				
				
			 <p:outputPanel deferred="true" deferredMode="visible" rendered="#{patientMedicineManageBean.drugInteractions.size() ge 1 }" >
					
						<table>
							<tr>
							
							
								<td><h:outputText value="Drug-drug interaction:" style="font-weight:bold;color:red;" /></td>
							
								<td>
									
											<p:commandLink id="grow"   style="text-decoration:underline;" onmouseover="showDetails.show();" onmouseout="showDetails.hide();">
											
											<h:outputText  value="#{patientMedicineManageBean.drugInteractions.size()}" escape="false" style="color:red;"/>		
								             &nbsp;<h:outputText  value="Interactions detected"  style="color:red;"/> 
								          <!-- <h:outputText value="#{patientMedicineManageBean.drugInterectionListDetail.severityLevelToolTip}" /> -->
								             
								            </p:commandLink>
								            
								              <!-- <p:tooltip for="grow"  showEffect="clip" style="width:40%; position:relative; margin-left:10%;" > -->
								              
								              <p:dialog widgetVar="showDetails" showEffect="clip" hideEffect="clip" width="600"
								              			closable="false" appendTo="@(body)">
								              			
								              			<f:facet name="header">
								             					<h:outputText value="Drug-drug interaction"></h:outputText>
								             				</f:facet>
								             
								             					<p:dataTable  value="#{patientMedicineManageBean.drugInteractions}" var="drugInteractionsDetail" emptyMessage="#{msg.noMedFound}">
										
																	<p:column styleClass="wrap">
																		<f:facet name="header">
																			<h:outputText value="Drug" />
																		</f:facet>
																		<h:outputText value="#{drugInteractionsDetail.drug1}"  />  
																	</p:column>
																	
																	<!-- <p:column styleClass="wrap" >
																		<f:facet name="header">
																			<h:outputText value="Drug2" />
																		</f:facet>
																		<h:outputText value="#{drugInteractionsDetail.drug2}"  />  
																	</p:column> -->
																	
																	<p:column styleClass="wrap" >
																		<f:facet name="header">
																			<h:outputText value="Clinical Effects " />
																		</f:facet>
																		<h:outputText value="#{drugInteractionsDetail.clinicalEffects}"  />  
																	</p:column>
																	
																	<p:column styleClass="wrap">
																		<f:facet name="header">
																			<h:outputText value="Severity Level" />
																		</f:facet>
																		<h:outputText value="#{drugInteractionsDetail.severityLevel}"  />  
																	</p:column>
																	
																</p:dataTable>
								             		
								             	
								             <!-- </p:tooltip> -->
								             
								             </p:dialog>
								        
								      
								</td>
								
								<td>
										<h:outputText value="Hightest Severity:"  style="font-weight:bold;color:red;"/>&nbsp;
										<!-- <h:outputText value="#{patientMedicineManageBean.highestServity}" /> -->
										
										<h:outputText value="#{patientMedicineManageBean.highestServity}" rendered="#{patientMedicineManageBean.highestServity eq 'High'}"
										style="text-decoration:none;color:red;"/>
										<h:outputText value="#{patientMedicineManageBean.highestServity}" rendered="#{patientMedicineManageBean.highestServity eq 'Medium'}"
										style="text-decoration:none;color:orange;"/>
										<h:outputText value="#{patientMedicineManageBean.highestServity}" rendered="#{patientMedicineManageBean.highestServity eq 'Low'}"
										style="text-decoration:none;color:green;"/>
										
												
												<!-- <ui:repeat var="drugServityDetail" 
														value="#{patientMedicineManageBean.drugInterectionListDetail}"
														varStatus="loop">
											         #{drugServityDetail.severityLevel}
											              #{!loop.last ? ', ' : ''} 
								            
										</ui:repeat> -->
								</td>
							</tr>
					</table>
			</p:outputPanel>
			
			<p:outputPanel deferred="true" deferredMode="visible" rendered="#{patientMedicineManageBean.drugAllergyInteractions.size() ge 1}">
							
						<table>
							<tr>
							
							<td><h:outputText value="drug-allergy interaction:"  style="font-weight:bold;color:red;"/></td>
								<td>
								
									
										<p:commandLink id="grow1"   style="text-decoration:underline;" onmouseover="showDetails1.show();" onmouseout="showDetails1.hide();">
											<h:outputText value="#{patientMedicineManageBean.drugAllergyInteractions.size()}"  escape="false" style="color:red;"/>		
								           &nbsp;  <h:outputText value="Interactions detected"   style="color:red;"/>
								             
								             </p:commandLink> 
								             
								             
								              <!-- <p:tooltip for="grow1"  showEffect="clip" style="width:40%; position:relative; margin-left:10%;" > -->
								              
								              <p:dialog widgetVar="showDetails1" showEffect="clip" hideEffect="clip" width="600"
								              			closable="false" appendTo="@(body)">
								             		
								             	<f:facet name="header">
								             					<h:outputText value="Drug-allergy interaction"></h:outputText>
								             				</f:facet>
								             
								             					<p:dataTable value="#{patientMedicineManageBean.drugAllergyInteractions}" var="drugAllergyInteractionsDetail" emptyMessage="#{msg.noMedFound}">
										
																	<p:column styleClass="wrap">
																		<f:facet name="header">
																			<h:outputText value="Allergy Interaction Text" />
																		</f:facet>
																		<h:outputText value="#{drugAllergyInteractionsDetail.interactionText}"  />  
																	</p:column>
																	
																	
																</p:dataTable>
								             			
								             	 <!-- </p:tooltip> -->
								             	 
								             	 </p:dialog>
								            
								       
								    
								      
								</td>
								
								<td>
										<h:outputText value="Hightest Severity:"  style="font-weight:bold;color:red;"/>&nbsp;
										<!-- <h:outputText value="#{patientMedicineManageBean.highestServityForAllergy}"  /> -->	
										
										<h:outputText value="#{patientMedicineManageBean.highestServityForAllergy}" rendered="#{patientMedicineManageBean.highestServityForAllergy eq 'High'}"
										style="text-decoration:none;color:red;"/>
										<h:outputText value="#{patientMedicineManageBean.highestServityForAllergy}" rendered="#{patientMedicineManageBean.highestServityForAllergy eq 'Medium'}"
										style="text-decoration:none;color:orange;"/>
										<h:outputText value="#{patientMedicineManageBean.highestServityForAllergy}" rendered="#{patientMedicineManageBean.highestServityForAllergy eq 'Low'}"
										style="text-decoration:none;color:green;"/>		
										
											
												<!-- <ui:repeat var="drugServityDetail" 
														value="#{patientMedicineManageBean.drugAlleryInterectionListDetail}"
														varStatus="loop">
											         #{drugServityDetail.severityLevel}
											              #{!loop.last ? ', ' : ''} 
								            
										</ui:repeat> -->
								</td>
							</tr>
					</table>	
			</p:outputPanel>
			
			<p:outputPanel deferred="true" deferredMode="visible" rendered="#{patientMedicineManageBean.drugDiseaseDetailsInteractions.size() ge 1}">
					<table>	
							<tr>
							
							<td><h:outputText value="Drug Disease:"  style="font-weight:bold;color:red;"/></td>
								<td>
									
										<p:commandLink id="grow2"   style="text-decoration:underline;" onmouseover="showDetails2.show();">
											<h:outputText value="#{patientMedicineManageBean.drugDiseaseDetailsInteractions.size()}" escape="false" style="color:red;"/>		
								            &nbsp; <h:outputText value="Interactions detected"  style="color:red;"/>
								              
								          </p:commandLink>  
								          
								          <p:tooltip for="grow2"  showEffect="clip" style="width:40%; position:relative; margin-left:-8%;" >
								          
								         <!--  <p:dialog widgetVar="showDetails2" showEffect="clip" hideEffect="clip" width="600"
								              			closable="true" modal="true" appendTo="@(body)"> -->
								             		
								             	
								             
								             					<p:dataTable value="#{patientMedicineManageBean.drugDiseaseDetailsInteractions}" var="drugDiseaseDetailsInteractionsDetail" emptyMessage="#{msg.noMedFound}">
										<f:facet name="header">
								             					<h:outputText value="Drug Disease"></h:outputText>
								             				</f:facet>
																	<p:column styleClass="wrap">
																		<f:facet name="header">
																			<h:outputText value="Drug Name" />
																		</f:facet>
																		<h:outputText value="#{drugDiseaseDetailsInteractionsDetail.drugName}"  />  
																	</p:column>
																	
																	<p:column styleClass="wrap">
																		<f:facet name="header">
																			<h:outputText value="Direct Condition" />
																		</f:facet>
																		<h:outputText value="#{drugDiseaseDetailsInteractionsDetail.directCondition}"  />  
																	</p:column>
																	
																	<p:column styleClass="wrap">
																		<f:facet name="header">
																			<h:outputText value="Severity Level Text" />
																		</f:facet>
																		<h:outputText value="#{drugDiseaseDetailsInteractionsDetail.severityLevelText}"  />  
																	</p:column>
																	
																	<p:column styleClass="wrap">
																		<f:facet name="header">
																			<h:outputText value="Disease Relation" />
																		</f:facet>
																		<h:outputText value="#{drugDiseaseDetailsInteractionsDetail.diseaseRelationText}"  />  
																	</p:column>
																	
																	
																</p:dataTable>
								             			
								             	 </p:tooltip> 
								             	 
								             	 <!-- </p:dialog> -->
								             	 
								        
								      
								</td>
								
								<td>
										<h:outputText value="Hightest Severity:"  style="font-weight:bold;color:red;"/>&nbsp;
										<!-- <h:outputText value="#{patientMedicineManageBean.highestServityForDisease}" /> -->	
										
										<h:outputText value="Hightest Severity:"  style="font-weight:bold;color:red;"/>&nbsp;
										<!-- <h:outputText value="#{patientMedicineManageBean.highestServityForDisease}" /> -->
										
										<h:outputText value="#{patientMedicineManageBean.highestServityForDisease}" rendered="#{patientMedicineManageBean.highestServityForDisease eq 'High'}"
										style="text-decoration:none;color:red;"/>
										<h:outputText value="#{patientMedicineManageBean.highestServityForDisease}" rendered="#{patientMedicineManageBean.highestServityForDisease eq 'Medium'}"
										style="text-decoration:none;color:orange;"/>
										<h:outputText value="#{patientMedicineManageBean.highestServityForDisease}" rendered="#{patientMedicineManageBean.highestServityForDisease eq 'Low'}"
										style="text-decoration:none;color:green;"/>				
												<!-- <ui:repeat var="drugServityDetail" 
														value="#{patientMedicineManageBean.drugDiseaseInterectionListDetail}"
														varStatus="loop">
											         #{drugServityDetail.severityLevel}
											              #{!loop.last ? ', ' : ''} 
								            
										</ui:repeat> -->
								</td>
							</tr>
					</table>
		
			</p:outputPanel>
			
			<p:outputPanel deferred="true" deferredMode="visible" rendered="#{patientMedicineManageBean.pharmacogenomicInteractionDetailList.size() ge 1}">
						
							
							<table>	
							<tr>
							
							<td><h:outputText value="Pharmacogenomics:"  style="font-weight:bold;color:red;"/></td>
								<td>
									
										<p:commandLink id="grow3"   style="text-decoration:underline;" onmouseover="showDetails3.show();" onmouseout="showDetails3.hide();">
											<h:outputText value="#{patientMedicineManageBean.pharmacogenomicInteractionDetailList.size()}" escape="false" style="color:red;"/>		
								             &nbsp;<h:outputText value="Interactions detected" style="color:red;"/>
								          </p:commandLink>  
								          
								          <!-- <p:tooltip for="grow3"  showEffect="clip" style="width:44%; position:relative; margin-left:-8%;" > -->
								          
								          <p:dialog widgetVar="showDetails3" showEffect="clip" hideEffect="clip" width="600"
								              			closable="false" appendTo="@(body)">
								             		
								             	<f:facet name="header">
								             					<h:outputText value="Pharmacogenomics"></h:outputText>
								             				</f:facet>
								             
								             					<p:dataTable value="#{patientMedicineManageBean.pharmacogenomicInteractionDetailList}" var="pharmacogenomicInteractionDetail" emptyMessage="#{msg.noMedFound}">
										
																	<p:column styleClass="wrap">
																		<f:facet name="header">
																			<h:outputText value="Gene" />
																		</f:facet>
																		<h:outputText value="#{pharmacogenomicInteractionDetail.gene1}"  />  
																	</p:column> 
																	
																	<p:column styleClass="wrap">
																		<f:facet name="header">
																			<h:outputText value="Phenotype" />
																		</f:facet>
																		<h:outputText value="#{pharmacogenomicInteractionDetail.phenotype}"  />  
																	</p:column> 
																	
																	<p:column styleClass="wrap">
																		<f:facet name="header">
																			<h:outputText value="Impact" />
																		</f:facet>
																		<h:outputText value="#{pharmacogenomicInteractionDetail.impact}"  />  
																	</p:column>
																	
																	<p:column styleClass="wrap">
																		<f:facet name="header">
																			<h:outputText value="Implications" />
																		</f:facet>
																		<h:outputText value="#{pharmacogenomicInteractionDetail.implications}"  />  
																	</p:column>
																	
																	<p:column styleClass="wrap">
																		<f:facet name="header">
																			<h:outputText value="Recommendation" />
																		</f:facet>
																		<h:outputText value="#{pharmacogenomicInteractionDetail.recommendation}"  />  
																	</p:column>
																	
																	
																</p:dataTable>
								             			
								             	 <!-- </p:tooltip> -->
								             	 
								             	 </p:dialog>
								             	 
								        
								      
								</td>
								
								<td>
										<h:outputText value="Hightest Severity:"  style="font-weight:bold;color:red;"/>&nbsp;
										
										<h:outputText value="#{patientMedicineManageBean.highestServityForpharmacogenomic}" rendered="#{patientMedicineManageBean.highestServityForpharmacogenomic eq 'High'}"
										style="text-decoration:none;color:red;"/>
										<h:outputText value="#{patientMedicineManageBean.highestServityForpharmacogenomic}" rendered="#{patientMedicineManageBean.highestServityForpharmacogenomic eq 'Medium'}"
										style="text-decoration:none;color:orange;"/>
										<h:outputText value="#{patientMedicineManageBean.highestServityForpharmacogenomic}" rendered="#{patientMedicineManageBean.highestServityForpharmacogenomic eq 'Low'}"
										style="text-decoration:none;color:green;"/>	
												
												<!-- <ui:repeat var="drugServityDetail" 
														value="#{patientMedicineManageBean.drugPharmaInterectionListDetail}"
														varStatus="loop">
											         #{drugServityDetail.severityLevel}
											              #{!loop.last ? ', ' : ''} 
								            
										</ui:repeat> -->
								</td>
							</tr>
					</table>
							
				</p:outputPanel>
				
					<ui:include src="precautions.xhtml">
				
				</ui:include>
				<!-- for formulary detail started -->
				
				<table>
					<tr>
						<td>
						<h:outputText value="Formulary:"  style="font-weight:bold;color:red;"/>&nbsp;
						<h:outputText value="#{patientMedicineManageBean.patientMedicationData.formularyText}" style="font-weight:bold;color:red;"></h:outputText>
						</td>
					</tr>
				
				</table>
				<!-- for formulary detail End -->
			
			
			
			<hr />
			
				
			<br />
			
			<table >
					<tr align="center">
						<td>
							<h:outputText value="Strength" styleClass="outputtext"/>
							<!-- <h:outputText value="*" styleClass="mandatoryField"/> -->
						</td>
						
						<td>
							
						</td>
						
						<td>
							<h:outputText value="Unit" styleClass="outputtext"/>
							<h:outputText value="*" styleClass="mandatoryField"/>
						</td>
						
						<td>
							<h:outputText value="Dosage form" styleClass="outputtext"/>
							<h:outputText value="*" styleClass="mandatoryField"/>
						</td>
						
						<td>
							<h:outputText value="Route" styleClass="outputtext"/>
							<h:outputText value="*" styleClass="mandatoryField"/>
						</td>
						
						<td>
							<h:outputText value="Regimen" styleClass="outputtext"/>
							<h:outputText value="*" styleClass="mandatoryField"/>
							
						</td>
						
						<td>
							<h:outputText value="PRN" styleClass="outputtext"/>
							
						</td>
						
						<td>
							<h:outputText value="Additional Sig" styleClass="outputtext"/>
							<!-- <h:outputText value="*" styleClass="mandatoryField"/> -->
						</td>
					</tr>
					
					
					
									<tr>
										<td>
												<p:selectOneMenu 
														value="#{patientMedicineManageBean.patientMedicationData.strengths}"
														style="width:200px;">
														
														<!-- <f:selectItem
															itemLabel="#{patientMedicineManageBean.patientMedicationData.strengths}"
															itemValue="#{patientMedicineManageBean.patientMedicationData.strengths}" /> -->
														<f:selectItems value="#{patientMedicineManageBean.doseDetailList}"
															var="doseList" itemLabel="#{doseList.dose}" itemValue="#{doseList.dose}" />
												</p:selectOneMenu>
									
											</td>
											
												<td>
													<p:commandLink rendered="#{patientMedicineManageBean.patientMedicationData.genericName eq 'Warfarin' || patientMedicineManageBean.patientMedicationData.genericName eq 'warfarin'}"
															actionListener="#{patientMedicineManageBean.findWarfarinDoseCalculator}" immediate="true" 
															oncomplete="warfarinDoseCalculator.show()">
														<p:graphicImage value="../../Images/doseCal.jpg"  style="width:34px;height:34px;"/>
															<f:param value="#{dashBoardManageBean.userLoginDetail.age}" name="patientAge"></f:param>
												   </p:commandLink>
					
											</td>
											
											<td>
						 	 	 	 			<p:selectOneMenu required="true" requiredMessage="Please insert unit"
															value="#{patientMedicineManageBean.patientMedicationData.unit}"
															style="width:100px;">
															
															<f:selectItems value="#{patientMedicineManageBean.unitSummaryList}"
																var="unitList" itemLabel="#{unitList.unit}" itemValue="#{unitList.unit}" />
																
																 <p:ajax listener="#{patientMedicineManageBean.calculateTotalDispence}" update="dispenceNumber"></p:ajax>	 
												</p:selectOneMenu>
						 	 	 	 		</td>
						 	 	 	 		
						 	 	 	 		<td>
											
											<!-- <p:selectOneMenu required="true" requiredMessage="Please insert Dosage form"
															value="#{patientMedicineManageBean.patientMedicationData.dosageForm}"
															style="width:122px;">
															<f:selectItem itemLabel="#{patientMedicineManageBean.patientMedicationData.dosageForm}" itemValue="#{patientMedicineManageBean.patientMedicationData.dosageForm}" />
											
													<f:selectItems value="#{patientMedicineManageBean.unitDetailsList}"
															var="unitList" itemLabel="#{unitList.unitName}" itemValue="#{unitList.unitName}" />
													</p:selectOneMenu> -->
													
												<p:inputText style="width:80px;" value="#{patientMedicineManageBean.patientMedicationData.dosageForm}" readonly="true"></p:inputText>	
											</td>
											
											<td>
						 	 	 	 			<!-- <p:selectOneMenu  required="true" requiredMessage="Please insert Route"
															value="#{patientMedicineManageBean.patientMedicationData.byRoute}"
															style="width:122px;">
															<f:selectItem itemLabel="#{patientMedicineManageBean.patientMedicationData.byRoute}" itemValue="#{patientMedicineManageBean.patientMedicationData.byRoute}" />
															<f:selectItems value="#{patientMedicineManageBean.routeDetailsList}"
																var="routeDetailList" itemLabel="#{routeDetailList.routeName}" itemValue="#{routeDetailList.routeName}" />
												</p:selectOneMenu> -->
												
												<p:inputText style="width:90px;" value="#{patientMedicineManageBean.patientMedicationData.byRoute}" readonly="true"></p:inputText>
						 	 	 	 		</td>
											
											<td>
							 	 	 	 			<p:selectOneMenu required="true" requiredMessage="Please Select Regimen"
																value="#{patientMedicineManageBean.patientMedicationData.directions}"
																style="width:145px;">
																
																<f:selectItem
																	itemLabel=""
																	itemValue="" />
																	
																<f:selectItems value="#{patientMedicineManageBean.regimenList}"
																	var="regimen" itemLabel="#{regimen}" itemValue="#{regimen}" />
																	
																	 <p:ajax listener="#{patientMedicineManageBean.calculateTotalDispence}" update="dispenceNumber"></p:ajax> 	
													</p:selectOneMenu>
							 	 	 	 		</td>
							 	 	 	 		
							 	 	 	 		<td>
							 	 	 	 			<p:selectBooleanCheckbox value="#{patientMedicineManageBean.patientMedicationData.prn}" />  
							 	 	 	 		</td>
							 	 	 	 		
							 	 	 	 		<td>
							 	 	 	 			<p:inputText value="#{patientMedicineManageBean.patientMedicationData.additionalSig}" style="width:80px;"></p:inputText>
							 	 	 	 		</td>
									</tr>
			
			</table>
			
			<br />
			<br />
			
			<table>
				<tr align="center">
					<td>
						<h:outputText value="Allow Substitution" styleClass="outputtext"/>
							
						
					</td>
					
					<td>
						<h:outputText value="Dispense" styleClass="outputtext"/>
							<h:outputText value="*" styleClass="mandatoryField"/>
					</td>
					
					<td>
						<h:outputText value="Days Supply" styleClass="outputtext"/>
							<h:outputText value="*" styleClass="mandatoryField"/>
					</td>
					
					<td>
						<h:outputText value="Refills" styleClass="outputtext"/>
							<h:outputText value="*" styleClass="mandatoryField"/>
					</td>
					<td>
						<h:outputText value="DAW / DNS" styleClass="outputtext"/>
					</td>
					&nbsp;
					<td>
						<h:outputText value="One Time" styleClass="outputtext"/>
					</td>
					<!-- &nbsp;
					<td>
						<h:outputText value="2nd rx 90 Day" styleClass="outputtext"/>
					</td>
					&nbsp;
					<td>
						<h:outputText value="Save this sig and add to Doctor's List" styleClass="outputtext"/>
					</td> -->
					
				</tr>
				
				
				<tr>
					<td align="center">
						<p:selectBooleanCheckbox value="#{patientMedicineManageBean.patientMedicationData.allowSubstitution}" />  
					</td>
					
					<td>
	 	 	 	 			<p:inputText  style="width:50px;" converter="#{Integer}" maxlength="3"   id="dispenceNumber"  
															value="#{patientMedicineManageBean.patientMedicationData.quantity}" >
													<f:convertNumber  pattern="#,###" integerOnly="true"  minFractionDigits="3" maxIntegerDigits="3" type="number"/>
												</p:inputText>
	 	 	 	 		</td>
	 	 	 	 		
	 	 	 	 		<td>
	 	 	 	 			
							 <p:selectOneMenu  
										value="#{patientMedicineManageBean.patientMedicationData.daySupply}"
										style="width:80px;">
											<!-- <f:selectItem itemValue="#{patientMedicineManageBean.patientMedicationData.daySupply}" 
													itemLabel="#{patientMedicineManageBean.patientMedicationData.daySupply}"></f:selectItem> -->
										<f:selectItems value="#{patientMedicineManageBean.daySupplyList}"
											var="daySupplyDetailList" itemLabel="#{daySupplyDetailList}" itemValue="#{daySupplyDetailList}" />
										
										<p:ajax listener="#{patientMedicineManageBean.calculateTotalDispence}" update="dispenceNumber"></p:ajax>  
										
									</p:selectOneMenu> 
								<!-- <p:inputText value="#{patientMedicineManageBean.patientMedicationData.daySupply}" style="width:80px;"></p:inputText> -->
	 	 	 	 		</td>
	 	 	 	 		
	 	 	 	 		<td>
	 	 	 	 			<p:selectOneMenu required="true" 
										value="#{patientMedicineManageBean.patientMedicationData.reffils}"
										style="width:60px;">
										
										<f:selectItems value="#{patientMedicineManageBean.refillDetailsList}"
											var="refillList" itemLabel="#{refillList}" itemValue="#{refillList}" />
										<p:ajax event="change" update="oneTimePsychopharmId"></p:ajax>
									</p:selectOneMenu>
	 	 	 	 		</td>
	 	 	 	 		<td align="center">
						<p:selectBooleanCheckbox value="#{patientMedicineManageBean.patientMedicationData.daw_dns}" />  
					</td>
					<td align="center">
						<p:selectBooleanCheckbox value="#{patientMedicineManageBean.patientMedicationData.one_Time}" disabled="#{patientMedicineManageBean.patientMedicationData.reffils > 0 }" id="oneTimePsychopharmId" />  
					</td>
				<!-- 	<td align="center">
						<p:selectBooleanCheckbox value="#{patientMedicineManageBean.patientMedicationData.secondrx_90days}" />  
					</td>
					<td align="center">
						<p:selectBooleanCheckbox value="#{patientMedicineManageBean.patientMedicationData.savetodoctorlist}" />  
					</td> -->
				</tr>
				
				
				
				
			</table>
			
			<table align="right">
				<tr>
			
				

				<td align="right">
					<p:commandButton value="#{msg.cancel}" action="#{patientMedicineManageBean.submitCancelButtonForAnticoag}" immediate="true"
						></p:commandButton>
					
					<!-- <p:commandButton
						id="medID" value="Med Action Plan"
						actionListener="#{patientMedicineManageBean.afterAddNewMedicineGoToMedActionPlan}"
						oncomplete="medicationActionPlan.show();"
						disabled="#{!patientMedicineManageBean.medicine.flagForMedActionPlan}">
					</p:commandButton> -->
				</td>
				
				<td align="right">
						
						<p:commandButton value="#{msg.done}" action="#{patientMedicineManageBean.addMedicine}" update="messageUpdateForGeneralMeds">

						<p:ajax process="@form"  ></p:ajax>
					</p:commandButton></td>
				<td></td>
			</tr>
			</table>
	</h:form>
	</p:dialog>
	
<!-- ******************************** pop up End for general medcine............................ -->

			<p:dialog id="addNewMedic" widgetVar="addNewMedicineForUpdate"
					resizable="false" header="#{msg.addNewMedicine}" appendTo="@(body)" modal="true"
	 				height="200" width="300" dynamic="true" closable="false" position="320,400">


			<h:form id="addNewMedicine">
			<!--  <h:messages  id="updateNewMeds" showDetail="false" style="color:red;margin:8px;" />  -->
				<table>
					<tr>
						<td><h:outputText value="#{msg.med}" /></td>
						<td><h:inputText readonly="true"
								value="#{patientMedicineManageBean.patientMedicationData.drugs}" 
								 >
								
							</h:inputText> 
							
						</td>
						
						
					</tr>
		
					<tr>
						<td><h:outputText value="#{msg.dose}" /></td>
						<td><h:inputText
								value="#{patientMedicineManageBean.patientMedicationData.strengths}" >
								
							</h:inputText>
							
							</td>
					</tr>
		
					<tr>
						<td><h:outputText value="#{msg.regimen}" /><h:outputText value="*" styleClass="mandatoryField"/></td>
						<td>
						<p:selectOneMenu required="true" requiredMessage="Please Select Regimen"
								value="#{patientMedicineManageBean.patientMedicationData.directions}" label="regimen" id="regimen" 
								style="width:122px;" >
								<f:selectItem itemLabel="Select one" itemValue=""  />
								<f:selectItems value="#{patientMedicineManageBean.regimenList}" 
									var="regimen" itemLabel="#{regimen}" itemValue="#{regimen}" />
							</p:selectOneMenu>
							<!-- <h:message for="regimen"/> -->
							</td>
					</tr>
		
					<tr>
						<td><h:outputText value="#{msg.units}" /></td>
						<td><h:inputText 
								value="#{patientMedicineManageBean.patientMedicationData.quantity}">
							</h:inputText></td>
					</tr>
		
					<tr>
						<td><h:outputText value="#{msg.refills}" /></td>
						<td><h:inputText
								value="#{patientMedicineManageBean.patientMedicationData.reffils}">
							</h:inputText></td>
					</tr>
		
		
					<tr>
						<td align="right">
								
								<p:commandButton value="#{msg.done}" 
									action="#{patientMedicineManageBean.updateEditNewMedicineDetail}"
									
												
									 process="@form" >
		
								
							</p:commandButton></td>
		
						<td align="left"><p:commandButton value="#{msg.cancel}" action="#{patientMedicineManageBean.submitCancelButtonForAnticoag}" immediate="true"
						></p:commandButton>
								
						</td>
					</tr>
		
				</table>
		
		
		
			</h:form>
		</p:dialog>
		
		<!-- ********************************Start pop up for Quick Prescribe for anticoag meds::::::::::::::::********************************* -->

<p:dialog widgetVar="quickPrescribe" resizable="false" draggable="true" id="medicationActionPlanPopId"
	appendTo="@(body)" modal="true"  height="530" width="830" 
	 dynamic="true" closable="false" position="bottom"><!-- position="500,400" -->


	<f:facet name="header">
      					<h:outputText id="quickPrescribeHeader" value="#{patientMedicineManageBean.patientMedicationData.drugs}" styleClass="outputtext" />
   					</f:facet>
		
	 <h:form id="medactionPlanFormId">
	 
	 <table width="98%">
	 			<!-- <tr>
	 				<td ><h:outputText value="Prescribe Medicine For Clinics" styleClass="outputtext"></h:outputText></td>
						
	 			</tr> -->
	 			
	 			 <tr>
	 				<td>
	 			<!-- 	<h:outputText id="quickPrescribeHeader" value="#{patientMedicineManageBean.patientMedicationData.drugs}" styleClass="outputtext"/> -->
	 				
	 				</td>
	 				
	 			<!-- 	<td align="right"></td> -->
	 				<td align="right">
							<p:commandButton id="dosingGuidelineWizardId" value="#{msg.dosingGuidelineWizard}" immediate="true"
								action="#{patientMedicineManageBean.afterAddNewMedicine1}" 
														update=":warfarinheaderIdValue,:DabigatranHeader,:ApixabanHeader,:RivaroxabanHeader,:FondaparinuxHeader,:DesirudinHeader,:dalteparinHeader,:EnoxaparinHeader">
										<p:ajax update="dosingGuidelineWizardId"></p:ajax>		
								</p:commandButton>				
						</td>
						
						<!-- <td >
							<p:commandButton value="#{msg.sendToAnticoagClinic}" action="#{patientMedicineManageBean.sendToAnticoagTab}"  
					
													update="@form"/>
													
								<p:commandButton value="Clinic To Dose"  />
						</td> -->
	 			</tr> 
	 		
	 		
	 			
	 		</table> 
	 		
	 		
	 	 <p:messages  id="messageUpdateForQuickPrescribe" showDetail="false" style="color:red;" closable="true"/> 
			
		<p:outputPanel rendered="#{patientMedicineManageBean.medActionPlan.value eq 1}"> 
			<table>
					<tr>

						<td><h:outputText value="Calculated recommended dose:" style="font-weight:bold;"/></td>
						<td><h:outputText value="#{patientMedicineManageBean.weekStatus}" /></td>
						<td><h:outputText value="(mg/week)" /></td>

									</tr>
			</table>
			
			 </p:outputPanel> 
			 
		  <p:outputPanel deferred="true" deferredMode="visible" rendered="#{patientMedicineManageBean.drugInteractions.size() ge 1 }" >
					
						<table>
							<tr>
							
							
								<td><h:outputText value="Drug-drug interaction:" style="font-weight:bold;color:red;" /></td>
							
								<td>
									
											<p:commandLink id="grow"   style="text-decoration:underline;" onmouseover="showDetails.show();" onmouseout="showDetails.hide();">
											
											<h:outputText  value="#{patientMedicineManageBean.drugInteractions.size()}" escape="false" style="color:red;"/>		
								             &nbsp;<h:outputText  value="Interactions detected"  style="color:red;"/> 
								             
								            </p:commandLink>
								            
								              <!-- <p:tooltip for="grow"  showEffect="clip" style="width:40%; position:relative; margin-left:10%;" > -->
								              
								              <p:dialog widgetVar="showDetails" showEffect="clip" hideEffect="clip" width="600"
								              			closable="false" appendTo="@(body)">
								              			
								              			<f:facet name="header">
								             					<h:outputText value="Drug-drug interaction"></h:outputText>
								             				</f:facet>
								             
								             					<p:dataTable  value="#{patientMedicineManageBean.drugInteractions}" var="drugInteractionsDetail" emptyMessage="#{msg.noMedFound}">
										
																	<p:column styleClass="wrap">
																		<f:facet name="header">
																			<h:outputText value="Drug" />
																		</f:facet>
																		<h:outputText value="#{drugInteractionsDetail.drug1}"  />  
																	</p:column>
																	
																	<!-- <p:column styleClass="wrap" >
																		<f:facet name="header">
																			<h:outputText value="Drug2" />
																		</f:facet>
																		<h:outputText value="#{drugInteractionsDetail.drug2}"  />  
																	</p:column> -->
																	
																	<p:column styleClass="wrap" >
																		<f:facet name="header">
																			<h:outputText value="Clinical Effects " />
																		</f:facet>
																		<h:outputText value="#{drugInteractionsDetail.clinicalEffects}"  />  
																	</p:column>
																	
																	<p:column styleClass="wrap">
																		<f:facet name="header">
																			<h:outputText value="Severity Level" />
																		</f:facet>
																		<h:outputText value="#{drugInteractionsDetail.severityLevel}"  />  
																	</p:column>
																	
																</p:dataTable>
								             		
								             	
								             <!-- </p:tooltip> -->
								             
								             </p:dialog>
								        
								      
								</td>
								<td>
										<h:outputText value="Hightest Severity:"  style="font-weight:bold;color:red;"/>&nbsp;
										<!-- <h:outputText value="#{patientMedicineManageBean.highestServity}" /> -->
										
										<h:outputText value="#{patientMedicineManageBean.highestServity}" rendered="#{patientMedicineManageBean.highestServity eq 'High'}"
										style="text-decoration:none;color:red;"/>
										<h:outputText value="#{patientMedicineManageBean.highestServity}" rendered="#{patientMedicineManageBean.highestServity eq 'Medium'}"
										style="text-decoration:none;color:orange;"/>
										<h:outputText value="#{patientMedicineManageBean.highestServity}" rendered="#{patientMedicineManageBean.highestServity eq 'Low'}"
										style="text-decoration:none;color:green;"/>			
												<!-- <ui:repeat var="drugServityDetail" 
														value="#{patientMedicineManageBean.drugInterectionListDetail}"
														varStatus="loop">
											         #{drugServityDetail.severityLevel}
											              #{!loop.last ? ', ' : ''} 
								            
										</ui:repeat> -->
								</td>
							</tr>
					</table>
			</p:outputPanel>
			
			<p:outputPanel deferred="true" deferredMode="visible" rendered="#{patientMedicineManageBean.drugAllergyInteractions.size() ge 1}">
							
						<table>
							<tr>
							
							<td><h:outputText value="drug-allergy interaction:"  style="font-weight:bold;color:red;"/></td>
								<td>
								
									
										<p:commandLink id="grow1"   style="text-decoration:underline;" onmouseover="showDetails1.show();" onmouseout="showDetails1.hide();">
											<h:outputText value="#{patientMedicineManageBean.drugAllergyInteractions.size()}"  escape="false" style="color:red;"/>		
								           &nbsp;  <h:outputText value="Interactions detected"   style="color:red;"/>
								             
								             </p:commandLink> 
								             
								             
								              <!-- <p:tooltip for="grow1"  showEffect="clip" style="width:40%; position:relative; margin-left:10%;" > -->
								              
								              <p:dialog widgetVar="showDetails1" showEffect="clip" hideEffect="clip" width="600"
								              			closable="false" appendTo="@(body)">
								             		
								             	<f:facet name="header">
								             					<h:outputText value="Drug-allergy interaction"></h:outputText>
								             				</f:facet>
								             
								             					<p:dataTable value="#{patientMedicineManageBean.drugAllergyInteractions}" var="drugAllergyInteractionsDetail" emptyMessage="#{msg.noMedFound}">
										
																	<p:column styleClass="wrap">
																		<f:facet name="header">
																			<h:outputText value="Allergy Interaction Text" />
																		</f:facet>
																		<h:outputText value="#{drugAllergyInteractionsDetail.interactionText}"  />  
																	</p:column>
																	
																	
																</p:dataTable>
								             			
								             	 <!-- </p:tooltip> -->
								             	 
								             	 </p:dialog>
								            
								       
								    
								      
								</td>
								<td>
										<h:outputText value="Hightest Severity:"  style="font-weight:bold;color:red;"/>&nbsp;
										<!-- <h:outputText value="#{patientMedicineManageBean.highestServityForAllergy}"  /> -->	
										
										<h:outputText value="#{patientMedicineManageBean.highestServityForAllergy}" rendered="#{patientMedicineManageBean.highestServityForAllergy eq 'High'}"
										style="text-decoration:none;color:red;"/>
										<h:outputText value="#{patientMedicineManageBean.highestServityForAllergy}" rendered="#{patientMedicineManageBean.highestServityForAllergy eq 'Medium'}"
										style="text-decoration:none;color:orange;"/>
										<h:outputText value="#{patientMedicineManageBean.highestServityForAllergy}" rendered="#{patientMedicineManageBean.highestServityForAllergy eq 'Low'}"
										style="text-decoration:none;color:green;"/>			
												<!-- <ui:repeat var="drugServityDetail" 
														value="#{patientMedicineManageBean.drugAlleryInterectionListDetail}"
														varStatus="loop">
											         #{drugServityDetail.severityLevel}
											              #{!loop.last ? ', ' : ''} 
								            
										</ui:repeat> -->
								</td>
							</tr>
					</table>	
			</p:outputPanel>
			
			<p:outputPanel deferred="true" deferredMode="visible" rendered="#{patientMedicineManageBean.drugDiseaseDetailsInteractions.size() ge 1}">
					<table>	
							<tr>
							
							<td><h:outputText value="Drug Disease:"  style="font-weight:bold;color:red;"/></td>
								<td>
									
										<p:commandLink id="grow2"   style="text-decoration:underline;" >
											<h:outputText value="#{patientMedicineManageBean.drugDiseaseDetailsInteractions.size()}" escape="false" style="color:red;"/>		
								            &nbsp; <h:outputText value="Interactions detected"  style="color:red;"/>
								              
								          </p:commandLink>  
								          
								          <p:tooltip for="grow2"  showEffect="clip" style="width:40%; position:relative; margin-left:-8%;" >
								          
								          <!-- <p:dialog widgetVar="showDetails2" showEffect="clip" hideEffect="clip" width="600"
								              			closable="true" modal="true" appendTo="@(body)"> -->
								             		
								             	
								             
								             					<p:dataTable value="#{patientMedicineManageBean.drugDiseaseDetailsInteractions}" var="drugDiseaseDetailsInteractionsDetail" emptyMessage="#{msg.noMedFound}">
										<f:facet name="header">
								             					<h:outputText value="Drug Disease"></h:outputText>
								             				</f:facet>
																	<p:column styleClass="wrap">
																		<f:facet name="header">
																			<h:outputText value="Drug Name" />
																		</f:facet>
																		<h:outputText value="#{drugDiseaseDetailsInteractionsDetail.drugName}"  />  
																	</p:column>
																	
																	<p:column styleClass="wrap">
																		<f:facet name="header">
																			<h:outputText value="Direct Condition" />
																		</f:facet>
																		<h:outputText value="#{drugDiseaseDetailsInteractionsDetail.directCondition}"  />  
																	</p:column>
																	
																	<p:column styleClass="wrap">
																		<f:facet name="header">
																			<h:outputText value="Severity Level Text" />
																		</f:facet>
																		<h:outputText value="#{drugDiseaseDetailsInteractionsDetail.severityLevelText}"  />  
																	</p:column>
																	
																	<p:column styleClass="wrap">
																		<f:facet name="header">
																			<h:outputText value="Disease Relation" />
																		</f:facet>
																		<h:outputText value="#{drugDiseaseDetailsInteractionsDetail.diseaseRelationText}"  />  
																	</p:column>
																	
																	
																</p:dataTable>
								             			
								             	 </p:tooltip> 
								             	 
								             	 <!-- </p:dialog> -->
								             	 
								        
								      
								</td>
								<td>
										<h:outputText value="Hightest Severity:"  style="font-weight:bold;color:red;"/>&nbsp;
										<!-- <h:outputText value="#{patientMedicineManageBean.highestServityForDisease}" />	 -->	
										
										<h:outputText value="#{patientMedicineManageBean.highestServityForDisease}" rendered="#{patientMedicineManageBean.highestServityForDisease eq 'High'}"
										style="text-decoration:none;color:red;"/>
										<h:outputText value="#{patientMedicineManageBean.highestServityForDisease}" rendered="#{patientMedicineManageBean.highestServityForDisease eq 'Medium'}"
										style="text-decoration:none;color:orange;"/>
										<h:outputText value="#{patientMedicineManageBean.highestServityForDisease}" rendered="#{patientMedicineManageBean.highestServityForDisease eq 'Low'}"
										style="text-decoration:none;color:green;"/>		
												<!-- <ui:repeat var="drugServityDetail" 
														value="#{patientMedicineManageBean.drugDiseaseInterectionListDetail}"
														varStatus="loop">
											         #{drugServityDetail.severityLevel}
											              #{!loop.last ? ', ' : ''} 
								            
										</ui:repeat> -->
								</td>
							</tr>
					</table>
		
			</p:outputPanel>
			
			<p:outputPanel deferred="true" deferredMode="visible" rendered="#{patientMedicineManageBean.pharmacogenomicInteractionDetailList.size() ge 1}">
						
							
							<table>	
							<tr>
							
							<td><h:outputText value="Pharmacogenomics:"  style="font-weight:bold;color:red;"/></td>
								<td>
									
										<p:commandLink id="grow3"   style="text-decoration:underline;" onmouseover="showDetails3.show();" onmouseout="showDetails3.hide();">
											<h:outputText value="#{patientMedicineManageBean.pharmacogenomicInteractionDetailList.size()}" escape="false" style="color:red;"/>		
								             &nbsp;<h:outputText value="Interactions detected" style="color:red;"/>
								          </p:commandLink>  
								          
								         <!--  <p:tooltip for="grow3"  showEffect="clip" style="width:44%; position:relative; margin-left:-8%;" > -->
								         
								         <p:dialog widgetVar="showDetails3" showEffect="clip" hideEffect="clip" width="600"
								              			closable="false" appendTo="@(body)">
								             		
								             	<f:facet name="header">
								             					<h:outputText value="Pharmacogenomics"></h:outputText>
								             				</f:facet>
								             
								             					<p:dataTable value="#{patientMedicineManageBean.pharmacogenomicInteractionDetailList}" var="pharmacogenomicInteractionDetail" emptyMessage="#{msg.noMedFound}">
										
																	<p:column styleClass="wrap">
																		<f:facet name="header">
																			<h:outputText value="Gene" />
																		</f:facet>
																		<h:outputText value="#{pharmacogenomicInteractionDetail.gene1}"  />  
																	</p:column> 
																	
																	<p:column styleClass="wrap">
																		<f:facet name="header">
																			<h:outputText value="Phenotype" />
																		</f:facet>
																		<h:outputText value="#{pharmacogenomicInteractionDetail.phenotype}"  />  
																	</p:column> 
																	
																	<p:column styleClass="wrap">
																		<f:facet name="header">
																			<h:outputText value="Impact" />
																		</f:facet>
																		<h:outputText value="#{pharmacogenomicInteractionDetail.impact}"  />  
																	</p:column>
																	
																	<p:column styleClass="wrap">
																		<f:facet name="header">
																			<h:outputText value="Implications" />
																		</f:facet>
																		<h:outputText value="#{pharmacogenomicInteractionDetail.implications}"  />  
																	</p:column>
																	
																	<p:column styleClass="wrap">
																		<f:facet name="header">
																			<h:outputText value="Recommendation" />
																		</f:facet>
																		<h:outputText value="#{pharmacogenomicInteractionDetail.recommendation}"  />  
																	</p:column>
																	
																	
																</p:dataTable>
								             			
								             	 <!-- </p:tooltip> -->
								             	 
								             	 </p:dialog>
								             	 
								        
								      
								</td>
								<td>
										<h:outputText value="Hightest Severity:"  style="font-weight:bold;color:red;"/>&nbsp;
										
										<h:outputText value="#{patientMedicineManageBean.highestServityForpharmacogenomic}" rendered="#{patientMedicineManageBean.highestServityForpharmacogenomic eq 'High'}"
										style="text-decoration:none;color:red;"/>
										<h:outputText value="#{patientMedicineManageBean.highestServityForpharmacogenomic}" rendered="#{patientMedicineManageBean.highestServityForpharmacogenomic eq 'Medium'}"
										style="text-decoration:none;color:orange;"/>
										<h:outputText value="#{patientMedicineManageBean.highestServityForpharmacogenomic}" rendered="#{patientMedicineManageBean.highestServityForpharmacogenomic eq 'Low'}"
										style="text-decoration:none;color:green;"/>	
												
												<!-- <ui:repeat var="drugServityDetail" 
														value="#{patientMedicineManageBean.drugPharmaInterectionListDetail}"
														varStatus="loop">
											         #{drugServityDetail.severityLevel}
											              #{!loop.last ? ', ' : ''} 
								            
										</ui:repeat> -->
								</td>
							</tr>
					</table>
							
				</p:outputPanel>
				
				<!-- for formulary detail started -->
				
				<table>
					<tr>
						<td>
						<h:outputText value="Formulary:"  style="font-weight:bold;color:red;"/>&nbsp;
						<h:outputText value="#{patientMedicineManageBean.patientMedicationData.formularyText}" style="font-weight:bold;color:red;"></h:outputText>
						</td>
					</tr>
				
				</table>
			
			
			<hr /> 
			
			<h:outputText value="Quick Prescribe " styleClass="outputtext"/>
			<br />
			<br />
			<br />
			<table width="100%">
					<tr align="center">
						<td>
							<h:outputText value="Strength" styleClass="outputtext"/>
							 <h:outputText value="*" styleClass="mandatoryField"/>
						</td>
						
						<td>
							
						</td>
						
						<td>
							<h:outputText value="Unit" styleClass="outputtext"/>
							<h:outputText value="*" styleClass="mandatoryField"/>
						</td>
						
						<td>
							<h:outputText value="Dosage form" styleClass="outputtext"/>
							<h:outputText value="*" styleClass="mandatoryField"/>
						</td>
						
						<td>
							<h:outputText value="Route" styleClass="outputtext"/>
							<h:outputText value="*" styleClass="mandatoryField"/>
						</td>
						
						<td>
							<h:outputText value="Regimen" styleClass="outputtext"/>
							<h:outputText value="*" styleClass="mandatoryField"/>
							
						</td>
						
						<td>
							<h:outputText value="PRN" styleClass="outputtext"/>
							
						</td>
						
						<td>
							<h:outputText value="Additional Sig" styleClass="outputtext"/>
							<!-- <h:outputText value="*" styleClass="mandatoryField"/> -->
						</td>
					</tr>
					
					
					
									<tr>
										<td>
												<p:selectOneMenu required="true" requiredMessage="Please Select Strength"
														value="#{patientMedicineManageBean.patientMedicationData.strengths}"
														style="width:170px;">
														
														<!-- <f:selectItem
															itemLabel="#{patientMedicineManageBean.patientMedicationData.strengths}"
															itemValue="#{patientMedicineManageBean.patientMedicationData.strengths}" /> -->
														<f:selectItems value="#{patientMedicineManageBean.doseDetailList}"
															var="doseList" itemLabel="#{doseList.dose}" itemValue="#{doseList.dose}" />
												</p:selectOneMenu>
									
											</td>
											
												<td>
													<p:commandLink rendered="#{patientMedicineManageBean.patientMedicationData.genericName eq 'Warfarin' || patientMedicineManageBean.patientMedicationData.genericName eq 'warfarin'}"
															actionListener="#{patientMedicineManageBean.findWarfarinDoseCalculator}" immediate="true" 
															oncomplete="warfarinDoseCalculator.show()">
														<p:graphicImage value="../../Images/doseCal.jpg"  style="width:34px;height:34px;"/>
															<f:param value="#{dashBoardManageBean.userLoginDetail.age}" name="patientAge"></f:param>
												   </p:commandLink>
					
											</td>
											
											<td>
						 	 	 	 			<p:selectOneMenu required="true" requiredMessage="Please insert unit"
															value="#{patientMedicineManageBean.patientMedicationData.unit}"
															style="width:100px;">
															
															<f:selectItems value="#{patientMedicineManageBean.unitSummaryList}"
																var="unitList" itemLabel="#{unitList.unit}" itemValue="#{unitList.unit}" />
																
																 <p:ajax listener="#{patientMedicineManageBean.calculateTotalDispence}" update="dispenceNumber"></p:ajax>	 
												</p:selectOneMenu>
						 	 	 	 		</td>
						 	 	 	 		
						 	 	 	 		<td>
											
											<!-- <p:selectOneMenu required="true" requiredMessage="Please insert Dosage form"
															value="#{patientMedicineManageBean.patientMedicationData.dosageForm}"
															style="width:122px;">
															<f:selectItem itemLabel="#{patientMedicineManageBean.patientMedicationData.dosageForm}" itemValue="#{patientMedicineManageBean.patientMedicationData.dosageForm}" />
											
													<f:selectItems value="#{patientMedicineManageBean.unitDetailsList}"
															var="unitList" itemLabel="#{unitList.unitName}" itemValue="#{unitList.unitName}" />
													</p:selectOneMenu> -->
													
												<p:inputText style="width:80px;" value="#{patientMedicineManageBean.patientMedicationData.dosageForm}" readonly="true"></p:inputText>	
											</td>
											
											<td>
						 	 	 	 			<!-- <p:selectOneMenu  required="true" requiredMessage="Please insert Route"
															value="#{patientMedicineManageBean.patientMedicationData.byRoute}"
															style="width:122px;">
															<f:selectItem itemLabel="#{patientMedicineManageBean.patientMedicationData.byRoute}" itemValue="#{patientMedicineManageBean.patientMedicationData.byRoute}" />
															<f:selectItems value="#{patientMedicineManageBean.routeDetailsList}"
																var="routeDetailList" itemLabel="#{routeDetailList.routeName}" itemValue="#{routeDetailList.routeName}" />
												</p:selectOneMenu> -->
												
												<p:inputText style="width:90px;" value="#{patientMedicineManageBean.patientMedicationData.byRoute}" readonly="true"></p:inputText>
						 	 	 	 		</td>
											
											<td>
							 	 	 	 			<p:selectOneMenu required="true" requiredMessage="Please Select Regimen"
																value="#{patientMedicineManageBean.patientMedicationData.directions}"
																style="width:145px;">
																
																<f:selectItem
																	itemLabel=""
																	itemValue="" />
																	
																<f:selectItems value="#{patientMedicineManageBean.regimenList}"
																	var="regimen" itemLabel="#{regimen}" itemValue="#{regimen}" />
																	
																	 <p:ajax listener="#{patientMedicineManageBean.calculateTotalDispence}" update="dispenceNumber"></p:ajax> 	
													</p:selectOneMenu>
							 	 	 	 		</td>
							 	 	 	 		
							 	 	 	 		<td>
							 	 	 	 			<p:selectBooleanCheckbox value="#{patientMedicineManageBean.patientMedicationData.prn}" />  
							 	 	 	 		</td>
							 	 	 	 		
							 	 	 	 		<td>
							 	 	 	 			<p:inputText value="#{patientMedicineManageBean.patientMedicationData.additionalSig}" style="width:80px;"></p:inputText>
							 	 	 	 		</td>
									</tr>
			
			</table>
			
			<br />
			<br />
			
			<table>
				<tr align="center">
					<td>
						<h:outputText value="Allow Substitution" styleClass="outputtext"/>
							
						
					</td>
					
					<td>
						<h:outputText value="Dispense" styleClass="outputtext"/>
							<h:outputText value="*" styleClass="mandatoryField"/>
					</td>
					
					<td>
						<h:outputText value="Days Supply" styleClass="outputtext"/>
							<h:outputText value="*" styleClass="mandatoryField"/>
					</td>
					
					<td>
						<h:outputText value="Refills" styleClass="outputtext"/>
							<h:outputText value="*" styleClass="mandatoryField"/>
					</td>
					<td>
						<h:outputText value="DAW / DNS" styleClass="outputtext"/>
					</td>
					&nbsp;
					<td>
						<h:outputText value="One Time" styleClass="outputtext"/>
					</td>
					<!-- &nbsp;
					<td>
						<h:outputText value="2nd rx 90 Day" styleClass="outputtext"/>
					</td>
					&nbsp;
					<td>
						<h:outputText value="Save this sig and add to Doctor's List" styleClass="outputtext"/>
					</td> -->
					
				</tr>
				
				
				<tr>
					<td align="center">
						<p:selectBooleanCheckbox value="#{patientMedicineManageBean.patientMedicationData.allowSubstitution}" />  
					</td>
					
					<td>
	 	 	 	 			<p:inputText id="dispenceNumber" style="width:50px;" converter="#{Integer}" maxlength="3" 
															value="#{patientMedicineManageBean.patientMedicationData.quantity}" >
													<f:convertNumber  pattern="#,###" integerOnly="true"  minFractionDigits="3" maxIntegerDigits="3" type="number"/>
												</p:inputText>
	 	 	 	 		</td>
	 	 	 	 		
	 	 	 	 		<td>
	 	 	 	 			
							 <p:selectOneMenu 
										value="#{patientMedicineManageBean.patientMedicationData.daySupply}"
										style="width:80px;">
											<!-- <f:selectItem itemValue="#{patientMedicineManageBean.patientMedicationData.daySupply}" 
													itemLabel="#{patientMedicineManageBean.patientMedicationData.daySupply}"></f:selectItem> -->
										<f:selectItems value="#{patientMedicineManageBean.daySupplyList}"
											var="daySupplyDetailList" itemLabel="#{daySupplyDetailList}" itemValue="#{daySupplyDetailList}" />
										
										 <p:ajax listener="#{patientMedicineManageBean.calculateTotalDispence}" update="dispenceNumber"></p:ajax> 
										
									</p:selectOneMenu> 
								<!-- <p:inputText value="#{patientMedicineManageBean.patientMedicationData.daySupply}" style="width:80px;"></p:inputText> -->
	 	 	 	 		</td>
	 	 	 	 		
	 	 	 	 		<td>
	 	 	 	 			<p:selectOneMenu required="true" 
										value="#{patientMedicineManageBean.patientMedicationData.reffils}"
										style="width:60px;">
										
										<f:selectItems value="#{patientMedicineManageBean.refillDetailsList}"
											var="refillList" itemLabel="#{refillList}" itemValue="#{refillList}" />
										<p:ajax event="change" update="oneTimePsychoId"></p:ajax>
									</p:selectOneMenu>
	 	 	 	 		</td>
	 	 	 	 		<td align="center">
						<p:selectBooleanCheckbox value="#{patientMedicineManageBean.patientMedicationData.daw_dns}" />  
					</td>
					<td align="center">
						<p:selectBooleanCheckbox value="#{patientMedicineManageBean.patientMedicationData.one_Time}" disabled="#{patientMedicineManageBean.patientMedicationData.reffils > 0 }" id="oneTimePsychoId"/>  
					</td>
				<!-- 	<td align="center">
						<p:selectBooleanCheckbox value="#{patientMedicineManageBean.patientMedicationData.secondrx_90days}" />  
					</td>
					<td align="center">
						<p:selectBooleanCheckbox value="#{patientMedicineManageBean.patientMedicationData.savetodoctorlist}" />  
					</td> -->
				</tr>
			</table>
			
			<br />
			<br />
			
			
			<hr />
			<p:outputPanel id="medActionForWarfarin"  rendered="#{patientMedicineManageBean.patientMedicationData.genericName eq 'warfarin' }">
			
			<table>
				<tr>
					<td>
					<h:outputText value="Do you want to create med action plan ? "></h:outputText>
					<p:selectBooleanCheckbox value="#{patientMedicineManageBean.showMedActionPlanForWarfarin}">
					
						 <p:ajax  listener="#{patientMedicineManageBean.checkMedActionPlanForWarfarin}"/> 
					</p:selectBooleanCheckbox>
					</td>
				</tr>
			</table>
				<table>
				<tr align="center">
					<td>
						<h:outputText value="#{msg.diagnoses}" styleClass="outputtext"/>
					</td>
					
					<td>
						<h:outputText value="Subdiagnosis" styleClass="outputtext"/>
					</td>
				</tr>
				
						<tr>
							<td>
								<p:selectOneMenu  value="#{patientMedicineManageBean.medActionPlan.diagnosis}" style="width:400px;"   >
									<f:selectItem itemLabel="Select One" itemValue="" />
									<!-- <f:selectItems value="#{patientMedicineManageBean.clinicDiagnosisList}" var="clinick" itemLabel="{clinick}" itemValue="{clinick}"/> -->
									<f:selectItems id="diagnosisListId" 
										value="#{patientMedicineManageBean.clinicDiagnosisList}"
											var="clinick" itemLabel="#{clinick.diagnosisName}"
										itemValue="#{clinick.diagnosisName}" />
								
									<p:ajax
										listener="#{patientMedicineManageBean.changediagnosisForSubdiagnosis}" update="medActionForWarfarin1"
									></p:ajax>
								</p:selectOneMenu>
							</td>
							<td>
								<p:selectOneMenu  value="#{patientMedicineManageBean.subDiagnosisDetail}" id="medActionForWarfarin1" style="width:400px;">  
									<f:selectItem itemLabel="Select One" itemValue="" />
										<f:selectItems id="subdiagnosisListId"
										value="#{patientMedicineManageBean.clinicSubDiagnosisList}"
										var="clinicSubDiagnosis" itemLabel="#{clinicSubDiagnosis.subDiagnosisName}"
										itemValue="#{clinicSubDiagnosis.subDiagnosisName}" />
								
								</p:selectOneMenu>  
							</td>
						</tr>
						</table>
						<br/>
						<table width="100%">
						
						<tr>
							<td>
								<table width="100%">
									<tr>
									
										
										<td >
											<h:outputText value="Acceptable Range" styleClass="outputtext"/>
										</td>
											
										<td align="center">
											<h:outputText value="Phase" styleClass="outputtext"/>
										</td>
									</tr>
					
									<tr>
										<td>
											<p:selectOneMenu 
											          value="#{patientMedicineManageBean.medActionPlan.acceptableRange}" style="width:180px;">
											          <!-- <f:selectItem
															itemLabel="" itemValue="" /> -->
											<f:selectItems id="targetInrId"
												value="#{patientMedicineManageBean.inrGoalTargetList}"
												var="inrTarget" itemLabel="#{inrTarget}"
												itemValue="#{inrTarget}" />
										
										</p:selectOneMenu>
										
										
										</td>
										<td>
											<p:selectOneMenu 
															value="#{patientMedicineManageBean.medActionPlan.medicineStage}" style="width:180px;">
														<f:selectItem
															itemLabel="Initiation" itemValue="Initiation" />
														<f:selectItem
															itemLabel="Maintenance" itemValue="Maintenance" />
												<p:ajax update="labdetailId" />
												</p:selectOneMenu>
										
										
										</td>
									</tr>
								</table>
								</td>
								<td>
									 <table>
							 	 	  	<tr>
							 	 	  	
							 	 	  	<td valign="top">
															<p:dataTable value="#{patientMedicineManageBean.labDetailList}" var="labDetail" id="labdetailId" emptyMessage="#{msg.noMedFound}">
																
																<!-- <p:column>
																	<f:facet name="header">
																		<h:outputText value="Select" />
																	</f:facet>
																	<p:selectBooleanCheckbox value="#{labDetail.selected}"  />  
																</p:column>
																 -->
																<p:column>
																	<f:facet name="header">
																		<h:outputText value="Lab Name" />
																	</f:facet>
																	<h:outputText value="#{labDetail.labName}" />
																</p:column>
																
																<p:column>
																	<f:facet name="header">
																		<h:outputText value="Monitoring frequency" />
																	</f:facet>
																	<p:selectOneMenu value="#{labDetail.labfrequencyDetail}" 
																		rendered="#{patientMedicineManageBean.medActionPlan.medicineStage eq 'Initiation' or  patientMedicineManageBean.medActionPlan.medicineStage eq null}" style="width:90px;">
																					<f:selectItem
																						itemLabel=""
																						itemValue="" /> 
																					<f:selectItems 
																							value="#{patientMedicineManageBean.labFrequencyList}"
																							var="labFreq" itemLabel="#{labFreq}" itemValue="#{labFreq}" />
																				<p:ajax 
																					listener="#{patientMedicineManageBean.findNextlabDate}"
																					></p:ajax>
																		</p:selectOneMenu>
																		
																		
																		<p:selectOneMenu value="#{labDetail.labfrequencyDetail}" 
																		rendered="#{patientMedicineManageBean.medActionPlan.medicineStage eq 'Maintenance'}" style="width:90px;">
																					<f:selectItem
																						itemLabel=""
																						itemValue="" /> 
																					<f:selectItems 
																							value="#{patientMedicineManageBean.labFrequencyListForQuickPrescribe}"
																							var="labFreq" itemLabel="#{labFreq}" itemValue="#{labFreq}" />
																				<p:ajax 
																					listener="#{patientMedicineManageBean.findNextlabDate}"
																					></p:ajax>
																		</p:selectOneMenu>
																</p:column> 
																							
															
															</p:dataTable>
																		
														</td>
							 	 	  	
							 	 	  	
							 	 	  			<!-- 
							 	 	  			<td >
							 	 	  				<h:outputText value="Date of the next Lab: " style="font-weight:bold;"/>&nbsp;&nbsp;
							 	 	  				<h:outputText id="nextLab" value="#{patientMedicineManageBean.medActionPlan.nextLabDate}" >
							 	 	  					<f:convertDateTime pattern="#{msg.dateFormat}" />
							 	 	  				</h:outputText>
							 	 	  			</td> -->
							 	 	  	</tr>
							 	 	  	
	 	 	 					 </table>
								
								</td>
									</tr>
								</table>
			
			
			</p:outputPanel>
		
			<br />
			
			<table  align="right" width="100%">
				<tr align="right">
					<td></td>
					<td >
						<p:commandButton value="#{msg.cancel}" action="#{patientMedicineManageBean.submitCancelButtonForAnticoag}" 
							immediate="true" style="font-size: 2px;width:50px;">
						</p:commandButton>
						<p:commandButton value="#{msg.done}"
							action="#{patientMedicineManageBean.addMedicine}"
												update="messageUpdateForQuickPrescribe"></p:commandButton>
					</td>
								
								

								
				</tr>
			</table>
	</h:form>
</p:dialog>


<!-- ********************************End pop up for Quick prescribe******************************** -->
		
<!-- *********** pop up start of Quick prescribe for anticoag*****************************8-->

<p:dialog widgetVar="medicationActionPlan1" resizable="true" draggable="true"
	appendTo="@(body)" modal="true" header="#{msg.medicationActionPlan}" height="150" width="50%"
	 dynamic="true" closable="false" position="300,420">


	<h:form id="medactionPlanFormId11">
	 <p:messages  id="messageUpdateForMedActionPlan" showDetail="false" style="color:red;margin:8px;"  closable="true"/> 
		<table>
			<tr>
				<td><h:outputText value="#{msg.med}" />
				<h:outputText value="*" styleClass="mandatoryField"/>	
				</td>
				<td><h:inputText
						value="#{patientMedicineManageBean.patientMedicationData.drugs}"
						readonly="true" />
				</td>
				<td></td>
				<td><h:outputText value="#{msg.diagonsis}" />
				<h:outputText value="*" styleClass="mandatoryField"/>				
				</td>
				<td><p:selectOneMenu required="true" requiredMessage="Please select diagnosis"
						value="#{patientMedicineManageBean.medActionPlan.diagnosis}"
						style="width:122px;">
						<f:selectItem itemLabel="Select One" itemValue="" />
						<!-- <f:selectItems value="#{patientMedicineManageBean.clinicDiagnosisList}" var="clinick" itemLabel="{clinick}" itemValue="{clinick}"/> -->
						<f:selectItems
							value="#{patientMedicineManageBean.clinicDiagnosisList}"
							var="clinick" itemLabel="#{clinick.diagnosisName}"
							itemValue="#{clinick.diagnosisName}" />
						<p:ajax listener="#{patientMedicineManageBean.changeDiagnosis}"
							event="change" update="selectedLab" process="@this" />
					</p:selectOneMenu>
				</td>
		</tr>

			<tr>
				<td colspan="1"><h:outputText value="#{msg.dose}" />
				<h:outputText value="*" styleClass="mandatoryField"/>	
			</td>
				<td>
					<p:selectOneMenu 
										value="#{patientMedicineManageBean.medActionPlan.dose}"
										style="width:122px;">
										<!-- <f:selectItem
											itemLabel="#{patientMedicineManageBean.patientMedicationData.directions}"
											itemValue="#{patientMedicineManageBean.patientMedicationData.directions}" /> -->
										<f:selectItems value="#{patientMedicineManageBean.doseDetailList}"
											var="doseList" itemLabel="#{doseList.dose}" itemValue="#{doseList.dose}" />
									</p:selectOneMenu>
					
					<p:commandLink rendered="#{patientMedicineManageBean.patientMedicationData.genericName eq 'Warfarin' || patientMedicineManageBean.patientMedicationData.genericName eq 'warfarin'}"
						actionListener="#{patientMedicineManageBean.findWarfarinDoseCalculator}" immediate="true" 
						oncomplete="warfarinDoseCalculator.show()">
						<p:graphicImage value="../../Images/doseCal.jpg"  style="width:34px;height:34px;"/>
						<f:param value="#{dashBoardManageBean.userLoginDetail.age}" name="patientAge"></f:param>
						
      				</p:commandLink>
					
				</td>
				
				<td>
      				</td>
      				
      				<td><h:outputText value="#{msg.lab}" />
      					<h:outputText value="*" styleClass="mandatoryField"/>	
      				</td>
				   <td><p:selectOneMenu id="selectedLab" required="true" requiredMessage="Please select lab"
						value="#{patientMedicineManageBean.medActionPlan.lab}"
						style="width:122px;">
						<f:selectItem itemLabel="Select One" itemValue="" />
						<f:selectItems
							value="#{patientMedicineManageBean.clinicDiagnosisLabList}"
							var="clinickab" itemLabel="#{clinickab.labName}"
							itemValue="#{clinickab.labName}" />
						<p:ajax listener="#{patientMedicineManageBean.changeLab}"
							event="change" update="selectedLabRange" process="@this" />
					</p:selectOneMenu>
				</td>
			</tr>

			<tr>
				<td><h:outputText value="#{msg.quantity}" />
				<h:outputText value="*" styleClass="mandatoryField"/>	
				</td>
				<td><h:inputText required="true" requiredMessage="Please insert quantity"
						value="#{patientMedicineManageBean.patientMedicationData.quantity}"/>
				</td>
				<td></td>
				<td><h:outputText value="#{msg.acceptablerange}" /><h:outputText value="*" styleClass="mandatoryField"/>	</td>
				<td><p:selectOneMenu id="selectedLabRange" required="true" requiredMessage="Please select acceptable range"
						value="#{patientMedicineManageBean.medActionPlan.acceptableRange}"
						style="width:122px;">
						<f:selectItem itemLabel="Select One" itemValue="" />
						<f:selectItems
							value="#{patientMedicineManageBean.clinicDiagnosisLabDetailList}"
							var="clinicDetail" itemLabel="#{clinicDetail}"
							itemValue="#{clinicDetail}" />
					</p:selectOneMenu>
				</td>
			</tr>
			<tr>
				<td><h:outputText value="#{msg.regimen}" /><h:outputText value="*" styleClass="mandatoryField"/>
				</td>
				<td><p:selectOneMenu  required="true" requiredMessage="Please Select Regimen"
						value="#{patientMedicineManageBean.medActionPlan.regimen}"
						style="width:122px;">
						<f:selectItem
							itemLabel=""
							itemValue="" />
						<f:selectItems value="#{patientMedicineManageBean.regimenList}"
							var="regimen" itemLabel="#{regimen}" itemValue="#{regimen}" />
					</p:selectOneMenu>
				</td>
				<td></td>
				<td><h:outputText value="#{msg.labfrequency}" /><h:outputText value="*" styleClass="mandatoryField"/>	</td>
				<td><p:selectOneMenu required="true" requiredMessage="Please select lab frequency"
						value="#{patientMedicineManageBean.medActionPlan.labFrequency}"
						style="width:122px;">
						<f:selectItem itemLabel="Select One" itemValue="" />
						<f:selectItems
							value="#{patientMedicineManageBean.labFrequencyListForQuickPrescribe}"
							var="labFreq" itemLabel="#{labFreq}" itemValue="#{labFreq}" />

					</p:selectOneMenu>
				</td>
				
			</tr>
			<tr>
			<td></td>
			<td></td>
				<td align="right">
				<p:commandButton value="#{msg.done}"
						action="#{patientMedicineManageBean.modifyMedicationActionPlan}"
						
						update="messageUpdateForMedActionPlan"
	  									></p:commandButton>
				</td>

				<td align="left"><p:commandButton value="#{msg.cancel}" action="#{patientMedicineManageBean.submitCancelButtonForAnticoag}" immediate="true"
						></p:commandButton>
				</td>
			
			<td></td>
			</tr>

		</table>



	</h:form>
</p:dialog>

<!-- ********************************End pop up for MEd Action Plan********************************* -->

<!-- ***************** Dose calculator pop up start......................... -->
<p:dialog widgetVar="warfarinDoseCalculator" resizable="fales"
	appendTo="@(body)" modal="true" header="#{msg.warfarindosecalculator}"
	height="420" width="460" dynamic="true">
	<h:form id="warfarinDose">

		<table align="center">
			<tr>
				<td height="10px"><p:commandButton value="#{msg.recalculate}"
						actionListener="#{patientMedicineManageBean.calculation}"
						update="warfarinDose"></p:commandButton></td>
				<td><p:commandButton value="#{msg.done}" actionListener="#{patientMedicineManageBean.afterDoseCalculation}" update=":medicationActionPlanPopId"></p:commandButton></td>

			</tr>
		</table>
		<br />


		<table border="1" bgcolor="#E0F2F7"
			style="font-size: 10px; font-style: verdana; font-family: verdana;">
			<tr>
				<td bgcolor="grey" align="center"><h:outputText
				
						value="#{msg.variable}" /></td>

				<td bgcolor="grey" align="center"><h:outputText
						value="#{msg.unitsorallowedvalue}" /></td>

				<td bgcolor="grey" align="center"><h:outputText
						value="#{msg.entervalue}" /></td>
			</tr>

			<tr>


				<td><h:outputText value="#{msg.height}" style="width: 200px;" />
				</td>

				<td><h:outputText value="#{msg.centimeters}"
						style="width: 200px;" /></td>


				<td><p:inputText
						value="#{patientMedicineManageBean.calculator.height}" style="width:60px"/></td>

			</tr>

			<tr>


				<td><h:outputText value="#{msg.weight}" style="width: 200px;" />
				</td>

				<td><h:outputText value="#{msg.kilograms}"
						style="width: 200px;" /></td>

				<td><p:inputText
						value="#{patientMedicineManageBean.calculator.weight}" style="width:60px"  /></td>

			</tr>



			<tr>


				<td><h:outputText value="#{msg.vkorc1genotype}"
						style="width: 200px;" /></td>

				<td><h:outputText value="#{msg.a_a}" /><br /> <h:outputText
						value="A/G" /><br /> <h:outputText value="G/G" /><br /> <h:outputText
						value="U(for unkown)" /></td>


				<td><p:selectOneMenu
						value="#{patientMedicineManageBean.calculator.vkorc1Genotype}" style="width:60px">
						<!-- <f:selectItem itemValue="#{patientMedicineManageBean.calculator.vkorc1Genotype}"
							itemLabel="#{patientMedicineManageBean.calculator.vkorc1Genotype}" /> -->
						<f:selectItem itemLabel="A/A" itemValue="A/A" />
						<f:selectItem itemLabel="A/G" itemValue="A/G" />
						<f:selectItem itemLabel="G/G" itemValue="G/G" />
						<f:selectItem itemLabel="U" itemValue="U" />
					</p:selectOneMenu></td>
			</tr>

			<tr>


				<td><h:outputText value="#{msg.cyp2c9genotype}"
						style="width: 200px;" /></td>

				<td><h:outputText value="*1/*2 " /><br /> <h:outputText
						value="*1/*3 " /><br /> <h:outputText value="*2/*2 " /><br /> <h:outputText
						value="*2/*3 " /><br /> <h:outputText value="*3/*3 " /><br /> <h:outputText
						value="U(for unknown)" style="width: 200px;" /></td>


				<td><p:selectOneMenu
						value="#{patientMedicineManageBean.calculator.cyp2cGenotype}" style="width:70px">
						<!-- <f:selectItem
							itemLabel="#{patientMedicineManageBean.calculator.cyp2cGenotype}"
							itemValue="#{patientMedicineManageBean.calculator.cyp2cGenotype}" /> -->
						<f:selectItem itemLabel="*1/*2" itemValue="*1/*2" />
						<f:selectItem itemLabel="*1/*3" itemValue="*1/*3" />
						<f:selectItem itemLabel="*2/*2" itemValue="*2/*2" />
						<f:selectItem itemLabel="*3/*3" itemValue="*3/*3" />
						<f:selectItem itemLabel="U" itemValue="U" />
					</p:selectOneMenu></td>
			</tr>

			<tr>

				<td><h:outputText value="#{msg.race}" style="width: 200px;" />
				</td>

				<td><h:outputText value="#{msg.a}" /><br /> <h:outputText
						value="#{msg.b}" /><br /> <h:outputText value="#{msg.c}" /><br />
						 <h:outputText
						value="U(for unkown)" />


				</td>

				<td><p:selectOneMenu
						value="#{patientMedicineManageBean.calculator.race}" style="width:60px">
						<!-- <f:selectItem
							itemLabel="#{patientMedicineManageBean.calculator.race}"
							itemValue="#{patientMedicineManageBean.calculator.race}" /> -->
						<f:selectItem itemLabel="A" itemValue="A" />
						<f:selectItem itemLabel="B" itemValue="B" />
						<f:selectItem itemLabel="C" itemValue="C" />
						<f:selectItem itemLabel="U" itemValue="U" />
					</p:selectOneMenu></td>

			</tr>

			<tr>

				<td><h:outputText value="#{msg.takingenzineinduce}"
						style="width: 200px;" /></td>

				<td><h:outputText value="#{msg.y}" /><br /> <h:outputText
						value="#{msg.n}" /><br /></td>


				<td><p:selectOneMenu
						value="#{patientMedicineManageBean.calculator.takingEnzimeInduce}" style="width:60px">
						<!-- <f:selectItem
							itemLabel="#{patientMedicineManageBean.calculator.takingEnzimeInduce}"
							itemValue="#{patientMedicineManageBean.calculator.takingEnzimeInduce}" /> -->
						<f:selectItem itemLabel="Y" itemValue="Y" />
						<f:selectItem itemLabel="N" itemValue="N" />

					</p:selectOneMenu></td>

			</tr>




			<tr>

				<td><h:outputText value="#{msg.takingamiodarone}"
						style="width: 200px;" /></td>

				<td><h:outputText value="#{msg.y}" /><br /> <h:outputText
						value="#{msg.n}" /><br /></td>

				<td><p:selectOneMenu
						value="#{patientMedicineManageBean.calculator.takingAmiodarone}" style="width:60px">
					<!-- 	<f:selectItem
							itemLabel="#{patientMedicineManageBean.calculator.takingAmiodarone}"
							itemValue="#{patientMedicineManageBean.calculator.takingAmiodarone}" /> -->
						<f:selectItem itemLabel="Y" itemValue="Y" />
						<f:selectItem itemLabel="N" itemValue="N" />

					</p:selectOneMenu></td>
			</tr>

		</table>
		<br />
		<table id="updateWeekStatus">
			<tr>
				<td colspan="3"><h:inputText id="result"
						value="Computed Weekly Starting Dose(mg/week): #{patientMedicineManageBean.weekStatus}"
						style="font-size: 10px; font-family: verdana;font-weight: bold;width:300px"
						readonly="true">

					</h:inputText></td>
			</tr>
		</table>
	</h:form>
</p:dialog>
<!--  end dose calculator popup details.........................-->
	
			<!-- ########################### pop up start for search medicine..................................... -->
		
		
		
<!-- ########################### pop up end for search medicine..................................... -->	

<!-- pop up statr for showing Message for There is no lab of INR Anticoag.. By Gopal -->
<p:dialog id="inrMessagePopUp" widgetVar="noInrMessage" appendTo="@(body)" modal="true">
	<h:form>
		<h:outputText value="Unable to proceed because no new INR lab value is available. Please add lab and try again."></h:outputText>
		<p:commandButton value="Close" onclick="noInrMessage.hide();"></p:commandButton>
	</h:form>

</p:dialog>

<!-- end pop up for showing Inr message*********** -->
	<!-- ********************************************* Warfarin Maintenace pop up Start....................... in anticoag page***************** -->
	
	<p:dialog id="warfarinMaintenancePopUpId" widgetVar="warfarinMaintenancePopUp"  appendTo="@(body)"
					resizable="true" header="Maintenance"   modal="true"  height="360" width="750" 
	 				 dynamic="true" closable="false" position="300,1" >
	 		<h:form id="weekly_dose_for">
	 		<!-- <p:messages ></p:messages> -->
	 			<!--  <table  width="100%" border="0"><tr><td width="92%" valign="top"> </td>
	 	 <td valign="top" align="right" width="8%">
	 	  <p:commandButton value="#{msg.cancel}" action="#{patientMedicineManageBean.submitCancelButtonforoverview}" immediate="true"
						></p:commandButton>	
	 	 </td>
	 	</tr> -->
	<!--  </table> -->
	 			<table width="100%">
	 				<tr>
	 					<!-- <td>
	 						<h:outputText value="Date:" style="font-weight:bold;"/>
	 						<h:outputText value="#{patientMedicineManageBean.todayDate}" >
	 								<f:convertDateTime pattern="#{msg.dateFormat}" />
	 						</h:outputText>
	 						
	 					</td> -->
	 					<td>
	 						<h:outputText value="INR Goal: " style="font-weight:bold;"/>
	 						<h:outputText value="#{patientMedicineManageBean.medActionPlan.acceptableRange}" />
	 					</td>
	 					<td>
	 					<h:outputText value="Phase: " style="font-weight:bold;"/>
	 						<h:outputText value="#{patientMedicineManageBean.medActionPlan.medicineStage}"></h:outputText>
	 					</td>
	 					<!-- <td>
	 						<h:outputText value="INR Lab Value :" style="font-weight:bold;"/>
	 						<h:outputText value="#{labManageBean.currentLabValue.result}" />
	 					</td>
	 					<td>
	 						<h:outputText value="INR Lab Day:" style="font-weight:bold;" />
	 						<h:outputText value="#{labManageBean.currentLabValue.dateResult}" >
	 							<f:convertDateTime pattern="#{msg.dateFormat}" />
	 						</h:outputText>
	 					</td> -->
	 					<td align="right">
	 					 <p:commandButton value="#{msg.cancel}" action="#{patientMedicineManageBean.submitCancelButtonForAnticoag}" immediate="true"
						></p:commandButton>	
	 					</td>
	 				</tr>
	 			</table>
	 			<p:outputPanel rendered="#{patientMedicineManageBean.showMsgForINRLabResult}">
	 				<h:outputText value="No new INR Value was Detected After Med Action Plan was Created/Last Updated" style="color:red;"></h:outputText>
	 				<br/>
	 			</p:outputPanel>
	 			
	 			
	 			<p:wizard flowListener="#{patientMedicineManageBean.onFlowProcessForwarfarinMaintenance}"  >  
	 				 <p:tab id="step1" title="Step 1" titleStyleClass="popupStepFont"  >  
	 				 	<table width="80%">
	 				 		<tr>
	 				 			<td>
	 							<h:outputText value="INR Lab Value: " style="font-weight:bold;"/>
	 							<h:outputText value="#{labManageBean.currentLabValue.result}"  rendered="#{!patientMedicineManageBean.showNotesForINRLab}"/>
	 						</td>
	 						<td>
	 							<h:outputText value="INR Lab Day: " style="font-weight:bold;" />
	 							<h:outputText value="#{labManageBean.currentLabValue.dateResult}" >
	 								<f:convertDateTime pattern="#{msg.dateFormat}" timeZone="#{userManageBean.loggedUsertimeZone}" dateStyle="full" type="date"/>
	 							</h:outputText>
	 						</td>
	 						
	 						
	 				 			
	 	 	  			
	 				 		
	 				 	</tr>
	 				 	
	 				 	
	 				 	<tr>
	 				 			<td>
	 							<h:outputText value="Warfarin Dosing Start Date: " style="font-weight:bold;"/>
	 							<h:outputText value="#{patientMedicineManageBean.medActionPlan.dosingStartDate}">
	 								<f:convertDateTime pattern="#{msg.dateFormat}" dateStyle="full" type="date"/>
	 							</h:outputText>
	 						</td>
	 						<td>
	 							<h:outputText value="Warfarin day: " style="font-weight:bold;" />
	 							<h:outputText value="#{patientMedicineManageBean.calculateNoOfDaysForWarfarin}" >
	 							</h:outputText>
	 						</td>
	 						
	 				 	</tr>
	 				 	
	 				 	</table>
	 				 
	 				 	<table>
	 				 		<tr>
	 				 			<td>
	 				 				<h:outputText value="Confirm Day from anticoag initiation :" style="font-weight:bold;" />
	 				 			</td>
	 				 			<td>
	 				 				<p:selectOneMenu style="width:150px;" required="true" requiredMessage="Please select day" 
	 				 				
							          value="#{patientMedicineManageBean.medActionPlan.confirmDayForMaintenance}">
							      <!--     
							       <f:selectItem itemLabel="#{patientMedicineManageBean.medActionPlan.showConfirmDayMsg}" 
							       	itemValue="#{patientMedicineManageBean.medActionPlan.valueConfirmDaysMsg}" /> -->
							          
							<f:selectItem itemLabel="1 Day" itemValue="0" />
							<f:selectItem itemLabel="2 Days" itemValue="1" />
							<f:selectItem itemLabel="3 Days" itemValue="2" />
							<f:selectItem itemLabel="4 Days" itemValue="3" />
							<f:selectItem itemLabel="5 Days" itemValue="4" />
							<f:selectItem itemLabel="6 Days" itemValue="5" />
						<!-- 	<f:selectItem itemLabel="7 Days" itemValue="6" /> -->
							<f:selectItem itemLabel="More Than 7 Days" itemValue="7" />
								<!-- <f:selectItems id="confirmDayId"
								value="#{patientMedicineManageBean.confirmDayListForWarfarinmaintenance}"
								var="confirmDay" itemLabel="#{confirmDay}"
								itemValue="#{confirmDay}" /> -->
								
						</p:selectOneMenu>
	 				 			</td>
	 				 		</tr>
	 				 	</table>
	 				 	<p:outputPanel rendered="#{((patientMedicineManageBean.medActionPlan.medicineStage eq 'Initiation') 
 						and (patientMedicineManageBean.medActionPlan.noOfDaysStartingFromMedActionPlan gt 6))}">
 						
	 				 		<h:outputText value="Phase is Initiation and dosing start day is " ></h:outputText>
	 				 		<h:outputText value="#{patientMedicineManageBean.medActionPlan.noOfDaysStartingFromMedActionPlan}"></h:outputText><br/>
	 				 		
	 				 		<h:outputText value="Do you want to change the Phase? "  style="font-weight:bold;"></h:outputText><br/>
	 				 		<table>
	 				 			<tr>
	 				 				<td>
	 				 					<h:outputText value="Phase: " style="font-weight:bold;"></h:outputText>
	 				 				</td>
	 				 				<td>
				 	 	  				<p:selectOneMenu  
												value="#{patientMedicineManageBean.medActionPlan.medicineStage}" style="width:120px;">
											<!-- <f:selectItem
											itemLabel="#{patientMedicineManageBean.medActionPlan.medicineStage}" itemValue="#{patientMedicineManageBean.medActionPlan.medicineStage}" /> -->
											<f:selectItem
												itemLabel="Initiation" itemValue="Initiation" />
											<f:selectItem
												itemLabel="Maintenance" itemValue="Maintenance" />
											<p:ajax update="@form"/>
			
										</p:selectOneMenu>
	 	 	  					</td>
	 	 	  			
	 				 		</tr>
	 				 		</table>
	 				 	</p:outputPanel>
	 				 
	 				 
	 				 </p:tab>
	 				 
	 				  <p:tab id="step2" title="Step 2" titleStyleClass="popupStepFont"  >  
	 				 	
	 				 	<h:outputText value="INR value is within range. Proceed to next step."
	 				 		 rendered="#{patientMedicineManageBean.showQuestionarieFormaintenance eq '0'}"></h:outputText>
	 				 		<p:panel header="Questions for  INR " toggleable="true"  toggleSpeed="500"   
	 				 			rendered="#{patientMedicineManageBean.showQuestionarieFormaintenance eq '2'}" >
	 				 			
	 				 			<p:dataTable id="questionForMaintenanceListDataTableId" value="#{patientMedicineManageBean.questionForMaintenanceList}" var="questionList" emptyMessage="#{msg.noMedFound}">
	 				 			
	 				 				<p:column>
											<f:facet name="header">
												<h:outputText value="Question" />
											</f:facet>
											<h:outputText value="#{questionList.question}" />
									</p:column>
									
									<p:column>
											<f:facet name="header">
												<h:outputText value="Select" />
											</f:facet>
											 <p:selectOneMenu id="selectId"
											          value="#{questionList.selectAns}" >
											<f:selectItem itemLabel="Select" itemValue="" />
											<f:selectItem itemLabel="Yes" itemValue="yes" />
											<f:selectItem itemLabel="No" itemValue="No" />
										<!-- 	<p:ajax update="@this"></p:ajax> -->
											</p:selectOneMenu> 
									</p:column>
	 				 			
	 				 			</p:dataTable>
	 				 			
	 				 			
	 				 		</p:panel>
	 				 		
	 				 		<p:panel header="Questions for  INR " toggleable="true"  toggleSpeed="500"  
	 				 			rendered="#{patientMedicineManageBean.showQuestionarieFormaintenance eq '1'}">
	 				 			
	 				 			<h:outputText value="General"  style="font-weight:bold;"/>
	 				 				
	 				 				<p:dataTable value="#{patientMedicineManageBean.questionForMaintenanceList}" var="questionList" rows="7" first="0" emptyMessage="#{msg.noMedFound}">
	 				 			
	 				 				<p:column style="width: 80%;">
											<f:facet name="header">
												<h:outputText value="Question" />
											</f:facet>
											<h:outputText value="#{questionList.question}" />
									</p:column>
									
									<p:column  style="width: 15%;">
											<f:facet name="header">
												<h:outputText value="Select" />
									</f:facet>
											<p:selectOneMenu 
											          value="#{questionList.selectAns}" >
											<f:selectItem itemLabel="Select" itemValue="" />
											<f:selectItem itemLabel="Yes" itemValue="yes" />
											<f:selectItem itemLabel="No" itemValue="No" />
											</p:selectOneMenu>
									</p:column>
	 				 			
	 				 			</p:dataTable>
	 				 				<h:outputText value="High INR"  style="font-weight:bold;"/>
	 				 			
	 				 			<p:dataTable value="#{patientMedicineManageBean.questionForMaintenanceList}" var="questionList" rows="4" first="7" 
	 				 			style="border:none;" styleClass="noheader" emptyMessage="#{msg.noMedFound}" >
	 				 			
	 				 				<p:column  style="width: 80%;">
											<!-- <f:facet name="header">
												<h:outputText value="Question" />
											</f:facet> -->
											<h:outputText value="#{questionList.question}" />
									</p:column>
									
									<p:column  style="width: 15%;">
											<!-- <f:facet name="header">
												<h:outputText value="Select" />
											</f:facet> -->
											<p:selectOneMenu 
											          value="#{questionList.selectAns}" >
											<f:selectItem itemLabel="Select" itemValue="" />
											<f:selectItem itemLabel="Yes" itemValue="yes" />
											<f:selectItem itemLabel="No" itemValue="No" />
											</p:selectOneMenu>
									</p:column>
	 				 			
	 				 			</p:dataTable>
	 				 			
	 				 			<h:outputText value="Low INR"   style="font-weight:bold;"/>
	 				 			
	 				 			<p:dataTable value="#{patientMedicineManageBean.questionForMaintenanceList}" var="questionList" rows="3" first="11" style="border:none;" 
	 				 			styleClass="noheader" emptyMessage="#{msg.noMedFound}">
	 				 			
	 				 				<p:column style="width: 80%;">
											<!-- <f:facet name="header">
												<h:outputText value="Question" />
											</f:facet> -->
											<h:outputText value="#{questionList.question}" />
									</p:column>
									
									<p:column style="width: 15%;">
											<!-- <f:facet name="header">
												<h:outputText value="Select" />
											</f:facet> -->
											<p:selectOneMenu 
											          value="#{questionList.selectAns}" >
											<f:selectItem itemLabel="Select" itemValue="" />
											<f:selectItem itemLabel="Yes" itemValue="yes" />
											<f:selectItem itemLabel="No" itemValue="No" />
											</p:selectOneMenu>
									</p:column>
	 				 			
	 				 			</p:dataTable>
	 				 		</p:panel>
	 				 
	 				 </p:tab>
	 				 
	 				 
	 				  <p:tab id="step3" title="Step 3" titleStyleClass="popupStepFont">
	 				  <table>
	 				  	<tr>
	 				  		<td>
	 				  			<p:commandLink id="Recommendation"  value="Consider changing dose as per recommendation table or keeping dose same and re-checking INR in 2-3 day." 
	 				  				 style="text-decoration:underline;" 
	 				  				rendered="#{patientMedicineManageBean.checkForInrQuestion}" onmouseover="maintenancePopUp.show();"/>
	 				  			<p:dialog widgetVar="maintenancePopUp" appendTo="@(body)" showEffect="clip" resizable="false" draggable="false" closable="true" width="1150" height="420">
								<p:outputPanel rendered="#{patientMedicineManageBean.medActionPlan.medicineStage eq 'Initiation'}" >
	 				  				 <p:outputPanel rendered="#{patientMedicineManageBean.checkForInrQuestion}">
	 				  			 <!-- 	/* ================================First table start=================================*/ -->
 								<h:outputText value="#{patientMedicineManageBean.medActionPlan.medicineStage}"></h:outputText>
								<table border="1" width="100%">
								                   	<tr align="center">
								                   		<td width="50%">
								                   			<h:outputText value="Day"></h:outputText>
								                   		</td>
								                   		<td width="25%">
								                   			<h:outputText value="INR"></h:outputText>
								                   		</td>
								                   		<td width="25%">
								                   			<h:outputText value="5 mg initiation (mg)"></h:outputText>
								                   		</td>
								                   	</tr>
								                   	
								                   	<tr align="center">
								                   		<td>
								                   			<h:outputText value="1"></h:outputText>
								                   		</td>
								                   		<td>
								                   			<h:outputText value="-"></h:outputText>
								                   		</td>
								                   		<td>
								                   			<h:outputText value="5"></h:outputText>
								                   		</td>
								                   	</tr>
								                   	
								                   	<tr align="center">
								                   		<td>
								                   			<h:outputText value="2"></h:outputText>
								                   		</td>
								                   		<td>
								                   		<table rules="rows" width="100%">
								                   			<tr align="center">
								                   				<td>
								                   					<h:outputText value="&lt;1.5"></h:outputText>                   					
								                   				</td>
								                   			</tr>
								                   			<tr align="center">
								                   				<td>
								                   					<h:outputText value="1.5-1.9"></h:outputText>                   					
								                   				</td>
								                   			</tr>
								                   			<tr align="center">
								                   				<td>
								                   					<h:outputText value="2.0-2.5"></h:outputText>                   					
								                   				</td>
								                   			</tr>
								                   			<tr align="center">
								                   				<td>
								                   					<h:outputText value="&gt;2.5"></h:outputText>
								                   				</td>
								                   			</tr>
								                   		</table>
								                   			
								                   		</td>
								                   		<td>
								                   			<table rules="rows" width="100%">
								                   			<tr align="center">
								                   				<td>
								                   					<h:outputText value="5.0"></h:outputText>                   					
								                   				</td>
								                   			</tr>
								                   			<tr align="center">
								                   				<td>
								                   					<h:outputText value="2.5"></h:outputText>                   					
								                   				</td>
								                   			</tr>
								                   			<tr align="center">
								                   				<td>
								                   					<h:outputText value="1.0-2.5"></h:outputText>                   					
								                   				</td>
								                   			</tr>
								                   			<tr align="center">
								                   				<td>
								                   					<h:outputText value="0.0"></h:outputText>
								                   				</td>
								                   			</tr>
								                   		</table>
								                   		</td>
								                   	</tr>
								                   	
								                   	<tr align="center">
								                   		<td>
								                   			<h:outputText value="3"></h:outputText>
								                   		</td>
								                   		<td>
								                   		<table rules="rows" width="100%">
								                   			<tr align="center">
								                   				<td>
								                   					<h:outputText value="&lt;1.5"></h:outputText>                   					
								                   				</td>
								                   			</tr>
								                   			<tr align="center">
								                   				<td>
								                   					<h:outputText value="1.5-1.9"></h:outputText>                   					
								                   				</td>
								                   			</tr>
								                   			<tr align="center">
								                   				<td>
								                   					<h:outputText value="2.0-2.5"></h:outputText>                   					
								                   				</td>
								                   			</tr>
								                   			<tr align="center">
								                   				<td>
								                   					<h:outputText value="2.5-3.0"></h:outputText>                   					
								                   				</td>
								                   			</tr>
								                   			<tr align="center">
								                   				<td>
								                   					<h:outputText value="&gt;3.0"></h:outputText>
								                   				</td>
								                   			</tr>
								                   		</table>
								                   			
								                   		</td>
								                   		<td>
								                   			<table rules="rows" width="100%">
								                   			<tr align="center">
								                   				<td>
								                   					<h:outputText value="5.0-10.0"></h:outputText>                   					
								                   				</td>
								                   			</tr>
								                   			<tr align="center">
								                   				<td>
								                   					<h:outputText value="2.5-5.0"></h:outputText>                   					
								                   				</td>
								                   			</tr>
								                   			<tr align="center">
								                   				<td>
								                   					<h:outputText value="0-2.5"></h:outputText>                   					
								                   				</td>
								                   			</tr>
								                   			<tr align="center">
								                   				<td>
								                   					<h:outputText value="0-2.5"></h:outputText>
								                   				</td>
								                   			</tr>
								                   			<tr align="center">
								                   				<td>
								                   					<h:outputText value="0.0"></h:outputText>
								                   				</td>
								                   			</tr>
								                   		</table>
								                   		</td>
								                   	</tr>
								                   	
								                   	<tr align="center">
								                   		<td>
								                   			<h:outputText value="4"></h:outputText>
								                   		</td>
								                   		<td>
								                   		<table rules="rows" width="100%">
								                   			<tr align="center">
								                   				<td>
								                   					<h:outputText value="&lt;1.5"></h:outputText>                   					
								                   				</td>
								                   			</tr>
								                   			<tr align="center">
								                   				<td>
								                   					<h:outputText value="1.5-1.9"></h:outputText>                   					
								                   				</td>
								                   			</tr>
								                   			<tr align="center">
								                   				<td>
								                   					<h:outputText value="2.0-3.0"></h:outputText>                   					
								                   				</td>
								                   			</tr>
								                   			<tr align="center">
								                   				<td>
								                   					<h:outputText value="&gt;3"></h:outputText>
								                   				</td>
								                   			</tr>
								                   		</table>
								                   			
								                   		</td>
								                   		<td>
								                   			<table rules="rows" width="100%">
								                   			<tr align="center">
								                   				<td>
								                   					<h:outputText value="10.0"></h:outputText>                   					
								                   				</td>
								                   			</tr>
								                   			<tr align="center">
								                   				<td>
								                   					<h:outputText value="5-7.5"></h:outputText>                   					
								                   				</td>
								                   			</tr>
								                   			<tr align="center">
								                   				<td>
								                   					<h:outputText value="0.5"></h:outputText>                   					
								                   				</td>
								                   			</tr>
								                   			<tr align="center">
								                   				<td>
								                   					<h:outputText value="0.0"></h:outputText>
								                   				</td>
								                   			</tr>
								                   		</table>
								                   		</td>
								                   	</tr>
								                   	
								                   	<tr align="center">
								                   		<td>
								                   			<h:outputText value="5"></h:outputText>
								                   		</td>
								                   		<td>
								                   		<table rules="rows" width="100%">
								                   			<tr align="center">
								                   				<td>
								                   					<h:outputText value="&lt;1.5"></h:outputText>                   					
								                   				</td>
								                   			</tr>
								                   			<tr align="center">
								                   				<td>
								                   					<h:outputText value="1.5-1.9"></h:outputText>                   					
								                   				</td>
								                   			</tr>
								                   			<tr align="center">
								                   				<td>
								                   					<h:outputText value="2.0-3.0"></h:outputText>                   					
								                   				</td>
								                   			</tr>
								                   			<tr align="center">
								                   				<td>
								                   					<h:outputText value="&gt;3.0"></h:outputText>
								                   				</td>
								                   			</tr>
								                   		</table>
								                   			
								                   		</td>
								                   		<td>
								                   			<table rules="rows" width="100%">
								                   			<tr align="center">
								                   				<td>
								                   					<h:outputText value="10.0"></h:outputText>                   					
								                   				</td>
								                   			</tr>
								                   			<tr align="center">
								                   				<td>
								                   					<h:outputText value="7.5-10"></h:outputText>                   					
								                   				</td>
								                   			</tr>
								                   			<tr align="center">
								                   				<td>
								                   					<h:outputText value="0.5"></h:outputText>                   					
								                   				</td>
								                   			</tr>
								                   			<tr align="center">
								                   				<td>
								                   					<h:outputText value="0.0"></h:outputText>
								                   				</td>
								                   			</tr>
								                   		</table>
								                   		</td>
								                   	</tr>
								                   	
								                   	<tr align="center">
								                   		<td>
								                   			<h:outputText value="6"></h:outputText>
								                   		</td>
								                   		<td>
								                   		<table rules="rows" width="100%">
								                   			<tr align="center">
								                   				<td>
								                   					<h:outputText value="&lt;1.5"></h:outputText>                   					
								                   				</td>
								                   			</tr>
								                   			<tr align="center">
								                   				<td>
								                   					<h:outputText value="1.5-1.9"></h:outputText>                   					
								                   				</td>
								                   			</tr>
								                   			<tr align="center">
								                   				<td>
								                   					<h:outputText value="2.0-3.0"></h:outputText>                   					
								                   				</td>
								                   			</tr>
								                   			<tr align="center">
								                   				<td>
								                   					<h:outputText value="&gt;3.0"></h:outputText>
								                   				</td>
								                   			</tr>
								                   		</table>
								                   			
								                   		</td>
								                   		<td>
								                   			<table rules="rows" width="100%">
								                   			<tr align="center">
								                   				<td>
								                   					<h:outputText value="7.5-12.5"></h:outputText>                   					
								                   				</td>
								                   			</tr>
								                   			<tr align="center">
								                   				<td>
								                   					<h:outputText value="5.0-10.0"></h:outputText>                   					
								                   				</td>
								                   			</tr>
								                   			<tr align="center">
								                   				<td>
								                   					<h:outputText value="0-7.5"></h:outputText>                   					
								                   				</td>
								                   			</tr>
								                   			<tr align="center">
								                   				<td>
								                   					<h:outputText value="0.0"></h:outputText>
								                   				</td>
								                   			</tr>
								                   		</table>
								                   		</td>
								                   	</tr>
								                   </table>
								                 </p:outputPanel>

			<!-- /* ================================First table end=================================*/ -->
	 				  			   </p:outputPanel>
	 				  			
	 				  			
	 				  			
	 				  			<!--   <p:outputPanel rendered="#{patientMedicineManageBean.medActionPlan.medicineStage eq 'Maintenance'}" >
	 				  				 <p:outputPanel rendered="#{!patientMedicineManageBean.questionList.isEmpty()}">
		 				  				 <p:outputPanel rendered="#{!patientMedicineManageBean.medActionPlan.acceptableRange eq '2-3'}"> -->
		 				  			  <p:outputPanel rendered="#{patientMedicineManageBean.medActionPlan.medicineStage eq 'Maintenance'}" >
		 				  			    <p:outputPanel rendered="#{patientMedicineManageBean.checkForInrQuestion}">
		 				  			      <p:outputPanel rendered="#{patientMedicineManageBean.medActionPlan.acceptableRange eq '2-3' || patientMedicineManageBean.medActionPlan.acceptableRange eq '2.0-3.0'}"> 
		 				  				 <!-- /* ================================Second table start=================================*/ -->

								 <table border="1" width="100%" > 
								                   	<tr>
								                   		<th width="10%">
								                   			<h:outputText value="INR &lt;1.5 "></h:outputText>
								                   		</th>
								                   		<th width="10%">
								                   			<h:outputText value="INR 1.5-1.8 "></h:outputText>
								                   		</th>
								                   		<th width="20%">
								                   			<h:outputText value="INR 1.8-1.9 "></h:outputText>
								                   		</th>
								                   		<th width="5%">
								                   			<h:outputText value="INR 2.0-3.0 "></h:outputText>
								                   		</th>
								                   		<th width="20%">
								                   			<h:outputText value="INR 3.1-3.2 "></h:outputText>
								                   		</th>
								                   		<th width="10%">
								                   			<h:outputText value="INR 3.3-3.4 "></h:outputText>
								                   		</th>
								                   		<th width="10%">
								                   			<h:outputText value="INR 3.5-3.9 "></h:outputText>
								                   		</th>
								                   		<th width="15%">
								                   			<h:outputText value="INR &gt; or = 4.0 "></h:outputText>
								                   		</th>
								                   	</tr>
								                   	
								                   	<tr style="font-size:xx-small;">
								                   		<td >
								                   			<h:outputText value="Consider a booster dose of 1.5-2 times daily maintenance dose"></h:outputText>
								                   		</td>
								                   		<td >
								                   			<h:outputText value="Consider a booster dose of 1.5-2 times daily maintenance dose"></h:outputText>
								                   		</td>
								                   		<td >
								                   			<h:outputText value="No dosage adjustment may be necessary if the last two INRs were in range, if there
								                   								 is no clear explanation for the INR to be out of range, and if in the judgement of the
								                   								  physician, the INR does not represent an increased risk of thromboembolism">
								                   			</h:outputText>
								                   		</td>
								                   		<td align="center" valign="top" rowspan="4">
								                   			<h:outputText value="No change"></h:outputText>
								                   		</td>
								                   		<td >
								                   			<h:outputText value="No dosage adjustment may be necessary if the last two INRs were in range, if there is 
								                   					no clear explanation for the INR to be out of range, and if in the judgement of the physician, the 
								                   					INR does not represent an increased risk of hemorrhage">
								                   			</h:outputText>
								                   		</td>
								                   		<td >
								                   			<h:outputText value="Consider holding 0.5 to 1 dose"></h:outputText>
								                   		</td>
								                   		<td >
								                   			<h:outputText value="Consider holding 1 dose"></h:outputText>
								                   		</td>
								                   		<td >
								                   			<h:outputText value="Hold until INR &lt;upper limit of therapeutic range"></h:outputText>
								                   		</td>
								                   	</tr>
								                   	
								                   	<tr>
								                   		<td >
								                   			<h:outputText value="Consider resumption of prior maintenance dose if factor causing decreaseed INR is transient (eg missed dose)"></h:outputText>
								                   		</td>
								                   		<td >
								                   			<h:outputText value="Consider resumption of prior maintenance dose if factor causing decreaseed INR is transient (eg missed dose)"></h:outputText>
								                   		</td>
								                   		<td >
								                   			<h:outputText value="Consider a booster dose of 1.5-2 times daily maintenance dose"></h:outputText>
								                   		</td>
								                   		<!-- <td align="center" valign="top">
								                   			<h:outputText value="No change"></h:outputText>
								                   		</td> -->
								                   		
								                   		<td >
								                   			<h:outputText value="Consider continuation of prior maintenance dose if factor causing elevated INR is transient (eg acute alcohol ingestion)">
								                   			</h:outputText>
								                   		</td>
								                   		<td >
								                   			<h:outputText value="Consider continuation of prior maintenance dose if factor causing elevated INR is transient (eg acute alcohol ingestion)"></h:outputText>
								                   		</td>
								                   		<td >
								                   			<h:outputText value="Consider continuation of prior maintenance dose if factor causing elevated INR is transient (eg acute alcohol ingestion)"></h:outputText>
								                   		</td>
								                   		<td >
								                   			<h:outputText value="Consider use of minidose oral vitamin K"></h:outputText>
								                   		</td>
								                   	</tr>
								                   	
								                   	<tr>
								                   		<td >
								                   			<h:outputText value="If dosage adjustment is needed, increase maintenance dose by 10-20%"></h:outputText>
								                   		</td>
								                   		<td >
								                   			<h:outputText value="If dosage adjustment is needed, increase maintenance dose by 5-15%"></h:outputText>
								                   		</td>
								                   		<td >
								                   			<h:outputText value="Consider resumption of prior maintenance dose if factor causing decreaseed INR is transient (eg missed dose)"></h:outputText>
								                   		</td>
								                   		<!-- <td align="center" valign="top">
								                   			<h:outputText value="No change"></h:outputText>
								                   		</td> -->
								                   		<td >
								                   			<h:outputText value="If dose adjustment is needed, decrease maintenance dose by 5-10%"></h:outputText>
								                   		</td>
								                   		<td >
								                   			<h:outputText value="If dose adjustment is needed, decrease maintenance dose by 5-10%"></h:outputText>
								                   		</td>
								                   		<td >
								                   			<h:outputText value="If dose adjustment is needed, decrease maintenance dose by 5-15%"></h:outputText>
								                   		</td>
								                   		<td >
								                   			<h:outputText value="Consider continuation of prior maintenance dose if factor causing elevated INR is transient (eg acute alcohol ingestion)"></h:outputText>
								                   		</td>
								                   	</tr>
								                   	
								                   	<tr>
								                   		<td >
								                   			<h:outputText value=""></h:outputText>
								                   		</td>
								                   		<td >
								                   			<h:outputText value=""></h:outputText>
								                   		</td>
								                   		<td >
								                   			<h:outputText value="If dosage adjustment is needed, increase maintenance dose by 5-10%"></h:outputText>
								                   		</td>
								                   		<!-- <td align="center" valign="top">
								                   			<h:outputText value="No change"></h:outputText>
								                   		</td> -->
								                   		<td >
								                   			<h:outputText value=""></h:outputText>
								                   		</td>
								                   		<td >
								                   			<h:outputText value=""></h:outputText>
								                   		</td>
								                   		<td >
								                   			<h:outputText value=""></h:outputText>
								                   		</td>
								                   		<td >
								                   			<h:outputText value="If dose adjustment is needed, decrease maintenance dose by 5-15%"></h:outputText>
								                   		</td>
								                   	</tr>
								                   </table>

<!-- /* ================================Second table end=================================*/ -->
		 				  				 
		 				  				 </p:outputPanel>
	 				  				 
	 				  				 <p:outputPanel rendered="#{patientMedicineManageBean.medActionPlan.acceptableRange eq '2.5-3.5'}">
		 				  				<!--  /* ================================Third table start=================================*/ -->

														<table border="1" width="100%">
														                   	<tr>
														                   		<th width="10%">
														                   			<h:outputText value="INR &lt;2.0 "></h:outputText>
														                   		</th>
														                   		<th width="10%">
														                   			<h:outputText value="INR 2.0-2.3 "></h:outputText>
														                   		</th>
														                   		<th width="20%">
														                   			<h:outputText value="INR 2.3-2.4 "></h:outputText>
														                   		</th>
														                   		<th width="5%">
														                   			<h:outputText value="INR 2.5-3.5 "></h:outputText>
														                   		</th>
														                   		<th width="20%">
														                   			<h:outputText value="INR 3.6-3.7 "></h:outputText>
														                   		</th>
														                   		<th width="10%">
														                   			<h:outputText value="INR 3.8-3.9 "></h:outputText>
														                   		</th>
														                   		<th width="10%">
														                   			<h:outputText value="INR 4.0-4.4 "></h:outputText>
														                   		</th>
														                   		<th width="15%">
														                   			<h:outputText value="INR &gt; or = 4.5 "></h:outputText>
														                   		</th>
														                   	</tr>
														                   	
														                   	<tr>
														                   		<td >
														                   			<h:outputText value="Consider a booster dose of 1.5-2 times daily maintenance dose"></h:outputText>
														                   		</td>
														                   		<td >
														                   			<h:outputText value="Consider a booster dose of 1.5-2 times daily maintenance dose"></h:outputText>
														                   		</td>
														                   		<td >
														                   			<h:outputText value="No dosage adjustment may be necessary if the last two INRs were 
														                   									in range, if there is no clear explanation for the INR to be out of range, 
														                   									and if in the judgement of the physician, the INR does not represent an 
														                   									increased risk of thromboembolism">
														                   			</h:outputText>
														                   		</td>
														                   		<td align="center" valign="top" rowspan="4">
														                   			<h:outputText value="No change"></h:outputText>
														                   		</td>
														                   		<td >
														                   			<h:outputText value="No dosage adjustment may be necessary if the last two INRs were 
														                   									in range, if there is no clear explanation for the INR to be out of range, 
														                   									and if in the judgement of the physician, the INR does not represent an 
														                   									increased risk of hemorrhage">
														                   			</h:outputText>
														                   		</td>
														                   		<td >
														                   			<h:outputText value="Consider holding 0.5 to 1 dose"></h:outputText>
														                   		</td>
														                   		<td >
														                   			<h:outputText value="Consider holding 1 dose"></h:outputText>
														                   		</td>
														                   		<td >
														                   			<h:outputText value="Hold until INR &lt;upper limit of therapeutic range"></h:outputText>
														                   		</td>
														                   	</tr>
														                   	
														                   	<tr>
														                   		<td >
														                   			<h:outputText value="Consider resumption of prior maintenance dose if factor causing decreaseed INR is transient (eg missed dose)"></h:outputText>
														                   		</td>
														                   		<td >
														                   			<h:outputText value="Consider resumption of prior maintenance dose if factor causing decreaseed INR is transient (eg missed dose)"></h:outputText>
														                   		</td>
														                   		<td >
														                   			<h:outputText value="Consider a booster dose of 1.5-2 times daily maintenance dose"></h:outputText>
														                   		</td>
														                   		<!-- <td align="center" valign="top">
														                   			<h:outputText value="No change"></h:outputText>
														                   		</td> -->
														                   		
														                   		<td >
														                   			<h:outputText value="Consider continuation of prior maintenance dose if factor causing elevated INR is transient (eg acute alcohol ingestion)">
														                   			</h:outputText>
														                   		</td>
														                   		<td >
														                   			<h:outputText value="Consider continuation of prior maintenance dose if factor causing elevated INR is transient (eg acute alcohol ingestion)"></h:outputText>
														                   		</td>
														                   		<td >
														                   			<h:outputText value="Consider continuation of prior maintenance dose if factor causing elevated INR is transient (eg acute alcohol ingestion)"></h:outputText>
														                   		</td>
														                   		<td >
														                   			<h:outputText value="Consider use of minidose oral vitamin K"></h:outputText>
														                   		</td>
														                   	</tr>
														                   	
														                   	<tr>
														                   		<td >
														                   			<h:outputText value="If dosage adjustment is needed, increase maintenance dose by 10-20%"></h:outputText>
														                   		</td>
														                   		<td >
														                   			<h:outputText value="If dosage adjustment is needed, increase maintenance dose by 5-15%"></h:outputText>
														                   		</td>
														                   		<td >
														                   			<h:outputText value="Consider resumption of prior maintenance dose if factor causing decreaseed INR is transient (eg missed dose)"></h:outputText>
														                   		</td>
														                   		<!-- <td align="center" valign="top">
														                   			<h:outputText value="No change"></h:outputText>
														                   		</td> -->
														                   		<td >
														                   			<h:outputText value="If dose adjustment is needed, decrease maintenance dose by 5-10%"></h:outputText>
														                   		</td>
														                   		<td >
														                   			<h:outputText value="If dose adjustment is needed, decrease maintenance dose by 5-10%"></h:outputText>
														                   		</td>
														                   		<td >
														                   			<h:outputText value="If dose adjustment is needed, decrease maintenance dose by 5-15%"></h:outputText>
														                   		</td>
														                   		<td >
														                   			<h:outputText value="Consider continuation of prior maintenance dose if factor causing elevated INR is transient (eg acute alcohol ingestion)"></h:outputText>
														                   		</td>
														                   	</tr>
														                   	
														                   	<tr>
														                   		<td >
														                   			<h:outputText value=""></h:outputText>
														                   		</td>
														                   		<td >
														                   			<h:outputText value=""></h:outputText>
														                   		</td>
														                   		<td >
														                   			<h:outputText value="If dosage adjustment is needed, increase maintenance dose by 5-15%"></h:outputText>
														                   		</td>
														                   		<!-- <td align="center" valign="top">
														                   			<h:outputText value="No change"></h:outputText>
														                   		</td> -->
														                   		<td >
														                   			<h:outputText value=""></h:outputText>
														                   		</td>
														                   		<td >
														                   			<h:outputText value=""></h:outputText>
														                   		</td>
														                   		<td >
														                   			<h:outputText value=""></h:outputText>
														                   		</td>
														                   		<td >
														                   			<h:outputText value="If dose adjustment is needed, decrease maintenance dose by 5-15%"></h:outputText>
														                   		</td>
														                   	</tr>
														                   </table>
														
														<!-- /* ================================Third table end=================================*/ -->
		 				  				 
		 				  				 </p:outputPanel>
	 				  				 </p:outputPanel>
	 				  				 
	 				  				 </p:outputPanel>
	 				  			 
	 				  			 
	 				  			 </p:dialog>
	 				  		</td>
	 				  	</tr>
	 				  </table>
	 				    
	 				 	<table bgcolor="#FFF1A0" border="1" style="border-color: #FFF1A0; border-style:solid; ">
	 				 		<tr>
	 				 			<td>
	 				 				<h:outputText value="Recommended Dose:" style="font-weight:bold;" />&nbsp;
	 				 			
	 				 				<h:outputText value="#{patientMedicineManageBean.patientMedicationData.recommendedDose}" escape="false"
	 				 				 rendered="#{!patientMedicineManageBean.checkForInrQuestion}" />
	 				 			</td>
	 				 			
	 				 		</tr>
	 				 		</table>
	 				 		
	 				 		<table>
	 				 		<tr>
	 				 			<td>
		 	 	 					<h:outputText value=" Dose Prescribed" style="font-weight:bold;" />
							    </td>
							<td>
								<p:inputText value="#{patientMedicineManageBean.medActionPlan.dose}" readonly="true"/>
							</td>
	 				 		</tr>
	 				 	</table>
	 				 	<input type="radio" name="c1" checked="checked" onclick="hidediv('div1', this)"/>Regular Dose
            <input type="radio" name="c1" onclick="showMe('div1', this)"/>Weekly Dose
           <p:messages  id="sunday1" showDetail="false" style="color:red;" closable="true"/>  
            <div id="div1" style="display:none">
            
	 				 	<table  width="92%">
	 				 		<tr>
	 				 			<td>
	 				 			
	 				 			</td>
	 				 			
	 				 			<td>
	 				 				<h:outputText value="Sunday"></h:outputText>
	 				 			</td>
	 				 			
	 				 			<td>
	 				 				<h:outputText value="Monday"></h:outputText>
	 				 			</td>
	 				 			
	 				 			<td>
	 				 				<h:outputText value="Tuesday"></h:outputText>
	 				 			</td>
	 				 			
	 				 			<td>
	 				 				<h:outputText value="Wednesday"></h:outputText>
	 				 			</td>
	 				 			
	 				 			<td>
	 				 				<h:outputText value="Thursday"></h:outputText>
	 				 			</td>
	 				 			
	 				 			<td>
	 				 				<h:outputText value="Friday"></h:outputText>
	 				 			</td>
	 				 			
	 				 			<td>
	 				 				<h:outputText value="Saturday"></h:outputText>
	 				 			</td>
	 				 			
	 				 			<td>
	 				 				<h:outputText value="Average Dose"></h:outputText>
	 				 			</td>
	 				 			
	 				 			
	 				 		</tr>
	 				 		<tr>
	 				 		<td valign="center">
	 				 			<h:outputText value="Tablet(s)"></h:outputText>
	 				 			</td>
	 				 		
	 				 			<td>
	 				 				<p:inputText id="sunday" value="#{patientMedicineManageBean.weeklyDose.sundayDose}" 
	 				 				validatorMessage="Please Insert Number" style="width:35px;" >
	 				 				<p:ajax listener="#{patientMedicineManageBean.calCulateDoseAverage}" update="avg" ></p:ajax>
	 				 				  <f:convertNumber maxFractionDigits="2" />  
	 				 				 
	 				 			</p:inputText>
	 				 			</td>
	 				 			
	 				 			<td>
	 				 				<p:inputText id="monday" value="#{patientMedicineManageBean.weeklyDose.mondayDose}" validatorMessage="Please Insert Number" style="width:35px;">
	 				 				<p:ajax listener="#{patientMedicineManageBean.calCulateDoseAverage}" update="avg"></p:ajax>
	 				 				  <f:convertNumber maxFractionDigits="2" />
	 				 			</p:inputText>
	 				 			</td>
	 				 			
	 				 			<td>
	 				 				<p:inputText id="tuesday" value="#{patientMedicineManageBean.weeklyDose.tuesDay}" validatorMessage="Please Insert Number"  style="width:35px;">
	 				 				<p:ajax listener="#{patientMedicineManageBean.calCulateDoseAverage}" update="avg"></p:ajax>
	 				 				 <f:convertNumber maxFractionDigits="2" /> 
	 				 			</p:inputText>
	 				 			</td>
	 				 			
	 				 			<td>
	 				 				<p:inputText id="wednesday" value="#{patientMedicineManageBean.weeklyDose.wednesdayDose}" validatorMessage="Please Insert Number"  style="width:35px;">
	 				 				<p:ajax listener="#{patientMedicineManageBean.calCulateDoseAverage}" update="avg"></p:ajax>
	 				 				 <f:convertNumber maxFractionDigits="2" />  
	 				 			</p:inputText>
	 				 			</td>
	 				 			
	 				 			<td>
	 				 				<p:inputText id="thursday" value="#{patientMedicineManageBean.weeklyDose.thursdayDose}" validatorMessage="Please Insert Number"  style="width:35px;">
	 				 				<p:ajax listener="#{patientMedicineManageBean.calCulateDoseAverage}" update="avg"></p:ajax>
	 				 				 <f:convertNumber maxFractionDigits="2" /> 
	 				 			</p:inputText>
	 				 			</td>
	 				 			
	 				 			<td>
	 				 				<p:inputText id="friday" value="#{patientMedicineManageBean.weeklyDose.fridayDose}" validatorMessage="Please Insert Number"  style="width:35px;">
	 				 				<p:ajax listener="#{patientMedicineManageBean.calCulateDoseAverage}" update="avg"></p:ajax>
	 				 				 <f:convertNumber maxFractionDigits="2" /> 
	 				 			</p:inputText>
	 				 			</td>
	 				 			
	 				 			<td>
	 				 				<p:inputText id="saturday" value="#{patientMedicineManageBean.weeklyDose.saturdayDose}" validatorMessage="Please Insert Number" style="width:35px;">
	 				 				<p:ajax listener="#{patientMedicineManageBean.calCulateDoseAverage}" update="avg"></p:ajax>
	 				 				 <f:convertNumber   maxFractionDigits="2" />
	 				 			</p:inputText>
	 				 			</td>
	 				 			
	 				 			<td>
	 				 				<p:inputText id="avg" value="#{patientMedicineManageBean.weeklyDose.averageDose}" style="width:65px;" readonly="true"
	 				 				  />
	 				 			</td>
	 				 			
	 				 		</tr>
	 				 	</table>
            	
	 				 	</div>
	 				 	<table width="98%">
	 				 		<tr>
	 				 			<td>
	 				 				<h:outputText value="Next Lab(INR)" style="font-weight:bold;" />
	 				 			</td>
	 				 		</tr>
	 				 		<tr>
	 				 			<td>
	 				 				<table>
	 				 					<tr>
	 				 						<th>
	 				 							<h:outputText value="Frequency of INR Monitoring After Initiation of Warfarin ,Till INR is Stable" />
	 				 						</th>
	 				 					</tr>
	 				 					<tr>
	 				 						<td>
	 				 							<h:outputText value="Every 2-3 days Until INR within therapeutic range on 2 consecutive INR checks" />
	 				 						</td>
	 				 					</tr>
	 				 					<tr>
	 				 						<td>
	 				 							<h:outputText value="Then every week Until INR within therapeutic range on 2 consecutive INR checks" />
	 				 						</td>
	 				 					</tr>
	 				 					<tr>
	 				 						<td>
	 				 							<h:outputText value="Then every 2 weeks Until INR within therapeutic range on 2 consecutive INR checks" />
	 				 						</td>
	 				 					</tr>
	 				 					<tr>
	 				 						<td>
	 				 							<h:outputText value="Then every 4 weeks When dose is stable check monthly" />
	 				 						</td>
	 				 					</tr>
	 				 				</table>
	 				 			</td>
	 				 		</tr>
	 				 	</table>
	 				 
	 				 <table>
	 				 		<tr>
	 				 			
							
							<td>
								<h:outputText value="Next Lab" style="font-weight:bold;" />
							</td>
							<td>
				 	 	  			<p:selectOneMenu  required="true"
											value="#{patientMedicineManageBean.medActionPlan.labFrequency}" style="width:120px;">
										<!-- <f:selectItem
											itemLabel="#{patientMedicineManageBean.medActionPlan.labFrequency}"
											itemValue="#{patientMedicineManageBean.medActionPlan.labFrequency}" /> -->
										<f:selectItems
											value="#{patientMedicineManageBean.labFrequencyList}"
											var="labFreq" itemLabel="#{labFreq}" itemValue="#{labFreq}" />
											
									<p:ajax 
															listener="#{patientMedicineManageBean.findNextlabDateforTakeAction}"
															update="@form"></p:ajax>
												
			
								</p:selectOneMenu>
	 	 	  			</td>
	 	 	  			
	 	 	  			<td><h:outputText value="Date of the next Lab: " style="font-weight:bold;"/>&nbsp;&nbsp;
	 	 	  				<h:outputText id="nextLab" value="#{patientMedicineManageBean.medActionPlan.nextLabDate}" >
	 	 	  					<f:convertDateTime pattern="#{msg.dateFormat}" timeZone="#{userManageBean.loggedUsertimeZone}" dateStyle="full" type="date"/>
	 	 	  					
	 	 	  				</h:outputText>
	 	 	  			</td>
	 				 		</tr>
	 				 		
	 				 		<tr>
	 				 		<td>
	 				 			<h:outputText value="Phase: " style="font-weight:bold;"></h:outputText>
	 				 			</td>
	 				 			<td>
				 	 	  			<p:selectOneMenu  required="true"
											value="#{patientMedicineManageBean.medActionPlan.medicineStage}" style="width:120px;">
											<!-- <f:selectItem
											itemLabel="#{patientMedicineManageBean.medActionPlan.medicineStage}" itemValue="#{patientMedicineManageBean.medActionPlan.medicineStage}" /> -->
										<f:selectItem
											itemLabel="Initiation" itemValue="Initiation" />
										<f:selectItem
											itemLabel="Maintenance" itemValue="Maintenance" />
											<p:ajax listener="#{patientMedicineManageBean.changeStageOfAnticoagMeds}"/>
			
								</p:selectOneMenu>
	 	 	  			</td>
	 	 	  			<td></td>
	 				 		</tr>
	 				 		
	 				 	</table>
	 				 	
	 				 <table width="100%" align="right" >
	 				 	<tr>
	 				 	<td></td>
	 				 		<td align="right">
	 				 		<p:commandButton value="#{msg.done}" action="#{patientMedicineManageBean.takeActionPlanForWarfarin}"  update=":beforeMEdActionPlanDataTableFormId:planListId,sunday1"
	 				 ></p:commandButton> 
	 				 
	 				 		</td>
	 				 	</tr>
	 				 </table>
	 				 
	 				 </p:tab>
	 			
	 			</p:wizard>
	 			
	 		</h:form>
		
		
		</p:dialog>
		
		
		<!-- *********************************pop up display for view RX..... -->
<p:dialog widgetVar="medication_viewRx" resizable="fales"
	appendTo="@(body)" modal="true" header="#{msg.editRx}" position="center"
	dynamic="true" height="380" width="1000"  
	draggable="true" closable="false">
	<h:form id="medviewRx1">

		<!--   <h:outputText value="Current Medicine: " />
	   <h:outputText value="#{patientMedicineManageBean.patientMedicationData.drugs}" />
	  -->
		<p:panelGrid id="panel" columns="4" border="1">
			<h:outputText value="#{msg.currentmedicine}"
				style="font-size: 10px; font-family: verdana;font-weight: bold" />
			<h:outputText
				value="#{patientMedicineManageBean.patientMedicationData.drugs}" />
			<h:outputText
				value="#{patientMedicineManageBean.patientMedicationData.strengths}" />
			<h:outputText
				value="#{patientMedicineManageBean.patientMedicationData.directions}" />
		</p:panelGrid>
		
			
			<p:outputPanel deferred="true" deferredMode="visible" rendered="#{patientMedicineManageBean.pharmacogenomicInteractionDetailList.size() ge 1}">
						
							
							<table>	
							<tr>
							
							<td><h:outputText value="Pharmacogenomics:"  style="font-weight:bold;color:red;"/></td>
								<td>
									
										<p:commandLink id="grow3"   style="text-decoration:underline;" onmouseover="showDetails3.show();" onmouseout="showDetails3.hide();">
											<h:outputText value="#{patientMedicineManageBean.pharmacogenomicInteractionDetailList.size()}" escape="false" style="color:red;"/>		
								             &nbsp;<h:outputText value="Interactions detected" style="color:red;"/>
								          </p:commandLink>  
								          
								          <!-- <p:tooltip for="grow3"  showEffect="clip" style="width:44%; position:relative; margin-left:-8%;" > -->
								          
								          <p:dialog widgetVar="showDetails3" showEffect="clip" hideEffect="clip" width="600"
								              			closable="false" appendTo="@(body)">
								             		
								             	<f:facet name="header">
								             					<h:outputText value="Pharmacogenomics"></h:outputText>
								             				</f:facet>
								             
								             					<p:dataTable value="#{patientMedicineManageBean.pharmacogenomicInteractionDetailList}" var="pharmacogenomicInteractionDetail" emptyMessage="#{msg.noMedFound}">
										
																	<p:column styleClass="wrap">
																		<f:facet name="header">
																			<h:outputText value="Gene" />
																		</f:facet>
																		<h:outputText value="#{pharmacogenomicInteractionDetail.gene1}"  />  
																	</p:column> 
																	
																	<p:column styleClass="wrap">
																		<f:facet name="header">
																			<h:outputText value="Phenotype" />
																		</f:facet>
																		<h:outputText value="#{pharmacogenomicInteractionDetail.phenotype}"  />  
																	</p:column> 
																	
																	<p:column styleClass="wrap">
																		<f:facet name="header">
																			<h:outputText value="Impact" />
																		</f:facet>
																		<h:outputText value="#{pharmacogenomicInteractionDetail.impact}"  />  
																	</p:column>
																	
																	<p:column styleClass="wrap">
																		<f:facet name="header">
																			<h:outputText value="Implications" />
																		</f:facet>
																		<h:outputText value="#{pharmacogenomicInteractionDetail.implications}"  />  
																	</p:column>
																	
																	<p:column styleClass="wrap">
																		<f:facet name="header">
																			<h:outputText value="Recommendation" />
																		</f:facet>
																		<h:outputText value="#{pharmacogenomicInteractionDetail.recommendation}"  />  
																	</p:column>
																	
																	
																</p:dataTable>
								             			
								             	 <!-- </p:tooltip> -->
								             	 
								             	 </p:dialog>
								             	 
								        
								      
								</td>
								
								<td>
										<h:outputText value="Hightest Severity:"  style="font-weight:bold;color:red;"/>&nbsp;
										
										<h:outputText value="#{patientMedicineManageBean.highestServityForpharmacogenomic}" rendered="#{patientMedicineManageBean.highestServityForpharmacogenomic eq 'High'}"
										style="text-decoration:none;color:red;"/>
										<h:outputText value="#{patientMedicineManageBean.highestServityForpharmacogenomic}" rendered="#{patientMedicineManageBean.highestServityForpharmacogenomic eq 'Medium'}"
										style="text-decoration:none;color:orange;"/>
										<h:outputText value="#{patientMedicineManageBean.highestServityForpharmacogenomic}" rendered="#{patientMedicineManageBean.highestServityForpharmacogenomic eq 'Low'}"
										style="text-decoration:none;color:green;"/>	
												
												<!-- <ui:repeat var="drugServityDetail" 
														value="#{patientMedicineManageBean.drugPharmaInterectionListDetail}"
														varStatus="loop">
											         #{drugServityDetail.severityLevel}
											              #{!loop.last ? ', ' : ''} 
								            
										</ui:repeat> -->
								</td>
							</tr>
					</table>
							
				</p:outputPanel>
			
		<br />

		<!-- <p:panelGrid id="panel2" columns="2" border="4" style="width:100%;">
		
		<h:outputText value="#{msg.reasonforchange}"
				style="font-size: 10px; font-family: verdana;font-weight: bold" />
			
			    <h:outputText value="#{msg.suggestedalternatives}"
				style="font-size: 10px; font-family: verdana;font-weight: bold;" />
				
			
			
			
			
			<h:outputText value="#{msg.formulary}" />
			<h:outputText value="#{msg.not_applicable}"  rendered="#{patientMedicineManageBean.patientMedicationData.formularySymbol eq 'Tier 1' || patientMedicineManageBean.patientMedicationData.formularySymbol eq 'On Formulary'}"/>
			
			<p:outputPanel rendered="#{patientMedicineManageBean.patientMedicationData.formularySymbol eq 'Tier 2' || patientMedicineManageBean.patientMedicationData.formularySymbol eq 'Tier 3' 
			|| patientMedicineManageBean.patientMedicationData.formularySymbol eq 'Non Formulary' || patientMedicineManageBean.patientMedicationData.formularySymbol eq 'Unlisted Drug' || patientMedicineManageBean.patientMedicationData.formularySymbol eq 'Not Reimbursed'}">
			  <ui:repeat var="alternativeMed" 
				value="#{patientMedicineManageBean.alternativeMedicine}" 
				varStatus="loop1">
				
				
                   #{alternativeMed} 
                      #{!loop1.last ? ', ' : ''} 
                  
                 
         </ui:repeat> 
        
         
         </p:outputPanel>
       
			<h:outputText value="#{msg.pharmacogenomicinteraction}" />
		    <p:outputPanel rendered=""></p:outputPanel>
			<h:outputText value="#{patientMedicineManageBean.patientMedicationData.recomendation}" rendered="#{patientMedicineManageBean.patientMedicationData.attentionRating eq 'High' || patientMedicineManageBean.patientMedicationData.attentionRating eq 'Medium'}"/>
			 <h:outputText value="#{msg.no_recomendation}" rendered="#{patientMedicineManageBean.patientMedicationData.attentionRating eq 'Low' || patientMedicineManageBean.patientMedicationData.attentionRating eq null}"/> 
			
			<h:outputText value="#{msg.compliance}" />
			 <h:outputText value="Consider investigating regimen issues and patient education" rendered="#{patientMedicineManageBean.patientMedicationData.formularySymbol eq 'Tier 1' || patientMedicineManageBean.patientMedicationData.formularySymbol eq 'On Formulary'}"/>
			<h:outputText value="Consider investigating formulary and/or regiment issues and conducting patient education." 
					rendered="#{patientMedicineManageBean.patientMedicationData.formularySymbol ne 'Tier 1' }"/>	
			

		</p:panelGrid>
 -->
 
 
 <table>
			<tr>
				<th>
					<h:outputText value="#{msg.reasonforchange}"
						style="font-size: 10px; font-family: verdana;font-weight: bold" />
				</th>
				
				<th>
					 <h:outputText value="#{msg.suggestedalternatives}"
						style="font-size: 10px; font-family: verdana;font-weight: bold;" />
				</th>
			</tr>
			
			<tr>
				<td>
					<h:outputText value="#{msg.formulary}" />
				</td>
				
				<td>
					<h:outputText value="#{msg.not_applicable}"  rendered="#{patientMedicineManageBean.patientMedicationData.formularySymbol eq 'Tier 1' || patientMedicineManageBean.patientMedicationData.formularySymbol eq 'On Formulary'}"/>
					<h:outputText value="#{msg.formulary_alternative}" rendered="#{(patientMedicineManageBean.patientMedicationData.formularySymbol eq 'tier 3' || patientMedicineManageBean.patientMedicationData.formularySymbol eq 'Non Formulary' || patientMedicineManageBean.patientMedicationData.formularySymbol eq 'Not Reimbursed') and (patientMedicineManageBean.alternativeMedicine.size() eq 0)}">
					</h:outputText>
				
				 	<p:outputPanel  rendered="#{(patientMedicineManageBean.patientMedicationData.formularySymbol eq 'tier 3' || patientMedicineManageBean.patientMedicationData.formularySymbol eq 'Non Formulary' || patientMedicineManageBean.patientMedicationData.formularySymbol eq 'Not Reimbursed') and (patientMedicineManageBean.alternativeMedicine.size() ge 1)}">
							<ui:repeat var="alternativeMed" 
								value="#{patientMedicineManageBean.alternativeMedicine}" 	varStatus="loop1">
			                   		#{alternativeMed} 
			                      		#{!loop1.last ? ', ' : ''} 
                 		 	</ui:repeat> 
    				 </p:outputPanel>
       
					<h:outputText value="#{msg.no_suggetion}" rendered="#{(patientMedicineManageBean.patientMedicationData.formularySymbol eq 'Tier 2' || patientMedicineManageBean.patientMedicationData.formularySymbol eq 'Unlisted Drug') and (patientMedicineManageBean.alternativeMedicine.size() eq 0)}">
			  			<ui:repeat var="alternativeMed" 
							value="#{patientMedicineManageBean.alternativeMedicine}" varStatus="loop1">
			                   #{alternativeMed} 
			                      #{!loop1.last ? ', ' : ''} 
			         	</ui:repeat> 
         			</h:outputText>
				
				</td>
			</tr>
			
			<tr>
				<td>
					<h:outputText value="#{msg.pharmacogenomicinteraction}" />
				</td>
				
				<td>
					<h:outputText value="#{patientMedicineManageBean.patientMedicationData.recomendation}" rendered="#{patientMedicineManageBean.patientMedicationData.attentionRating eq 'High' || patientMedicineManageBean.patientMedicationData.attentionRating eq 'Medium'}"/>
					 <h:outputText value="#{msg.no_recomendation}" rendered="#{patientMedicineManageBean.patientMedicationData.attentionRating eq 'Low' || patientMedicineManageBean.patientMedicationData.attentionRating eq null}"/> 
					
				</td>
			</tr>
			
			<tr>
				<td>
					<h:outputText value="#{msg.compliance}" />
				</td>
				 
				<td>
						<h:outputText value="Consider investigating formulary and/or regimen issues and conducting patient education." rendered="#{patientMedicineManageBean.patientMedicationData.formularySymbol ne 'tier 3'}"/>
						<h:outputText value="#{msg.consider_for_compliance}" 
							rendered="#{(patientMedicineManageBean.patientMedicationData.formularySymbol eq 'tier 3' || patientMedicineManageBean.patientMedicationData.formularySymbol eq 'Non Formulary' || patientMedicineManageBean.patientMedicationData.formularySymbol eq 'Not Reimbursed' || patientMedicineManageBean.patientMedicationData.formularySymbol eq 'Unlisted Drug') and (patientMedicineManageBean.patientMedicationData.compliancePercentage gt 0 and  patientMedicineManageBean.patientMedicationData.compliancePercentage  le 60 || patientMedicineManageBean.patientMedicationData.compliancePercentage gt 60 and  patientMedicineManageBean.patientMedicationData.compliancePercentage  le 80) }"/>	
				
				</td>
			</tr>
		</table>
 
 
 
		<p:panel>
			<table>
				<tr>
					<td><h:outputText value="#{msg.intervention}" /></td>
					<td><p:selectOneRadio id="options"
							value="#{patientMedicineManageBean.selectIntervention}">
							<f:selectItem itemLabel="Discontinue Med" itemValue="1" />
							<f:selectItem itemLabel="Change Med" itemValue="2" />
							<f:selectItem itemLabel="Send Message To" itemValue="6" />
							
							<!-- <f:selectItem itemLabel="Dose Change" itemValue="3" />
							<f:selectItem itemLabel="Regimen Change" itemValue="4" />
							<f:selectItem itemLabel="Other" itemValue="5" /> -->

		


							<p:ajax event="click"
								listener="#{patientMedicineManageBean.checkSelectIntervention}"
								execute="@this" update=":medviewRx1,ShowRxTab"></p:ajax>
						</p:selectOneRadio>
						<!-- <h:outputText id="aaa" value="#{patientMedicineManageBean.showRxTab}" /> -->
						</td>
                              <td>
						
						
							<p:selectOneMenu 
										value="#{patientMedicineManageBean.sendMessageEditRx.sendMsgToDocName}" 
										 style="width:200px;">
										
										<f:selectItems value="#{patientManageBean.careTeamListForPatient}"
											var="unitList" itemLabel="#{unitList.fName} #{unitList.lName}" itemValue="#{unitList.fName} #{unitList.lName}" />
											
									</p:selectOneMenu>
									
								
						</td> 
				</tr>

			</table>
		</p:panel>

		<br />
	<p:outputPanel id="ShowRxTab">
		<p:fieldset rendered="#{patientMedicineManageBean.showRxTab}"
			>
			<table>
				<tr>
					<td>
						<table border="1">
							<tr>
								<td bgcolor="grey" align="center"><h:outputText
										value="#{msg.med}" /></td>

								<td bgcolor="grey" align="center"><h:outputText
										value="Strength" /></td>
										
										<td bgcolor="grey" align="center"><h:outputText
										value="Unit" /></td>
										
										<td bgcolor="grey" align="center"><h:outputText
										value="Dosage form" /></td>
										
										<!-- <td bgcolor="grey" align="center"><h:outputText
										value=" Package" /></td> -->
										
										<td bgcolor="grey" align="center"><h:outputText
										value="Route" /></td>
										
								<td bgcolor="grey" align="center"><h:outputText
										value="#{msg.regimen}" /></td>		

								<td bgcolor="grey" align="center"><h:outputText
										value="Dispense" /></td>
										
										<td bgcolor="grey" align="center"><h:outputText
											value="Days Supply" /></td>
										

								 <td bgcolor="grey" align="center">
											<h:outputText value="Refill" />
											</td> 

								<td bgcolor="grey" align="center"><h:outputText
										value="#{msg.clinic}" /></td>
										
							</tr>

							<tr>
								<td>
									<!-- <h:inputText value=""  style="width: 170px;"/> --> 
									<p:inputText
										value="#{patientMedicineManageBean.patientMedicationData.drugs}"
										readonly="true" style="width:100px;"
										rendered="#{patientMedicineManageBean.selectIntervention eq 3 || patientMedicineManageBean.selectIntervention eq 4}" />
									<p:selectOneMenu
										rendered="#{patientMedicineManageBean.selectIntervention eq 2 || patientMedicineManageBean.selectIntervention eq 5}"
										value="#{patientMedicineManageBean.patientMedicationData.drugs}"
										style="width:100px;">
										<!-- <p:ajax
											listener="#{patientMedicineManageBean.checkMedicineForMedActionPlanForViewRx}"
											></p:ajax> -->
								 <f:selectItem
											itemLabel="#{patientMedicineManageBean.patientMedicationData.drugs}"
											itemValue="#{patientMedicineManageBean.patientMedicationData.drugs}" />
										<f:selectItems
											value="#{patientMedicineManageBean.alternativeMedicine}"
											var="altMedname" itemLabel="#{altMedname}"
											itemValue="#{altMedname}" />

									</p:selectOneMenu>
								</td>
								
								<td>
										<p:selectOneMenu  id="strengthId"
										value="#{patientMedicineManageBean.patientMedicationData.strengths}"
										styleClass="viewRxTable">
										<!-- <f:selectItem
											itemLabel="#{patientMedicineManageBean.patientMedicationData.strengths}"
											itemValue="#{patientMedicineManageBean.patientMedicationData.strengths}" /> -->
										<f:selectItems value="#{patientMedicineManageBean.doseDetailList}"
											var="doseList" itemLabel="#{doseList.dose}" itemValue="#{doseList.dose}" />
											
												<p:ajax listener="#{patientMedicineManageBean.findParticularDrugId}"  update="strengthId"></p:ajax>	
									</p:selectOneMenu>
							
										</td>
							
								
								<td>
	 	 	 	 					<p:selectOneMenu 
										value="#{patientMedicineManageBean.patientMedicationData.unit}" 
										 style="width:80px;">
										
										<f:selectItems value="#{patientMedicineManageBean.unitSummaryList}"
											var="unitList" itemLabel="#{unitList.unit}" itemValue="#{unitList.unit}" />
											
											<p:ajax listener="#{patientMedicineManageBean.calculateTotalDispence}" update="dispenceNumber"></p:ajax>	
									</p:selectOneMenu>
	 	 	 	 			</td>
	 	 	 	 			
	 	 	 	 			<td>
	 	 	 	 			
	 	 	 	 			<!-- <p:selectOneMenu required="true" 
										value="#{patientMedicineManageBean.patientMedicationData.dosageForm}"
										style="width:80px;">
										<f:selectItem itemLabel="#{patientMedicineManageBean.patientMedicationData.dosageForm}" itemValue="#{patientMedicineManageBean.patientMedicationData.dosageForm}" />
	 	 	 	 				
										<f:selectItem
											itemLabel="#{patientMedicineManageBean.patientMedicationData.directions}"
											itemValue="#{patientMedicineManageBean.patientMedicationData.directions}" />
										<f:selectItems value="#{patientMedicineManageBean.unitDetailsList}"
											var="unitList" itemLabel="#{unitList.unitName}" itemValue="#{unitList.unitName}" />
									</p:selectOneMenu> -->
									
								<p:inputText  value="#{patientMedicineManageBean.patientMedicationData.dosageForm}" readonly="true"></p:inputText>		
								
	 	 	 	 		</td>
	 	 	 	 		
	 	 	 	 		<td>
	 	 	 	 			<!-- <p:selectOneMenu required="true" 
										value="#{patientMedicineManageBean.patientMedicationData.byRoute}"
										style="width:90px;">
										<f:selectItem itemLabel="#{patientMedicineManageBean.patientMedicationData.byRoute}" itemValue="#{patientMedicineManageBean.patientMedicationData.byRoute}" />
										<f:selectItem
											itemLabel="#{patientMedicineManageBean.patientMedicationData.directions}"
											itemValue="#{patientMedicineManageBean.patientMedicationData.directions}" />
										<f:selectItems value="#{patientMedicineManageBean.routeDetailsList}"
											var="routeDetailList" itemLabel="#{routeDetailList.routeName}" itemValue="#{routeDetailList.routeName}" />
										<p:ajax   update="input"/>
									</p:selectOneMenu> -->
									<p:inputText  value="#{patientMedicineManageBean.patientMedicationData.byRoute}" readonly="true"></p:inputText>
	 	 	 	 		</td>
	 	 	 	 		
	 	 	 	 		<td>
										<p:selectOneMenu  id="updateRegimen"
											value="#{patientMedicineManageBean.patientMedicationData.directions}" 
											style="width:90px;"  >
											<f:selectItem itemLabel="" itemValue=""  />
											<f:selectItems value="#{patientMedicineManageBean.regimenList}" 
												var="regimen" itemLabel="#{regimen}" itemValue="#{regimen}" />
											
										<p:ajax listener="#{patientMedicineManageBean.calculateTotalDispence}"  update="medviewRx1:dispenceNumber" ></p:ajax>	
									</p:selectOneMenu>
								</td>
	 	 	 	 	
	 	 	 	 	<td>
							<p:inputText id="dispenceNumber" style="width:40px;" converter="#{Integer}" maxlength="3" 
										value="#{patientMedicineManageBean.patientMedicationData.quantity}" >
								<f:convertNumber  pattern="#0" integerOnly="true"  minFractionDigits="3" maxIntegerDigits="3" type="number"/>
							</p:inputText>
						</td>
						
						
						
						<td>
							<p:selectOneMenu 
										value="#{patientMedicineManageBean.patientMedicationData.daySupply}"
										style="width:80px;">
										<!-- <f:selectItem itemLabel="#{patientMedicineManageBean.patientMedicationData.daySupply}" itemValue="#{patientMedicineManageBean.patientMedicationData.daySupply}"  /> -->
										<f:selectItems value="#{patientMedicineManageBean.daySupplyList}"
											var="daySupplyDetailList" itemLabel="#{daySupplyDetailList}" itemValue="#{daySupplyDetailList}" />
										
										<p:ajax listener="#{patientMedicineManageBean.calculateTotalDispence}" update="dispenceNumber"></p:ajax>	
										
									</p:selectOneMenu>
						</td>
						
						
						<td>
						
									<!-- 	<p:inputText style="width:25px;" required="true" requiredMessage="Please insert reffils" maxlength="2" 
							 value="#{patientMedicineManageBean.patientMedicationData.reffils}" >
							 
							 <pe:keyFilter mask="num"></pe:keyFilter>
						</p:inputText> -->
						
						<p:selectOneMenu required="true" 
										value="#{patientMedicineManageBean.patientMedicationData.reffils}"
										style="width:60px;">
										
										<f:selectItems value="#{patientMedicineManageBean.refillDetailsList}"
											var="refillList" itemLabel="#{refillList}" itemValue="#{refillList}" />
										
									</p:selectOneMenu>
						</td>
						
						<td>
									<!-- <h:inputText value = "clinic" style="width: 110px;"/> -->
									<p:selectOneMenu style="width:100px;"
										value="#{patientMedicineManageBean.patientMedicationData.clinicName}"
										styleClass="viewRxTable">
										 <f:selectItem itemLabel="" itemValue="" /> 
										<f:selectItems value="#{patientManageBean.clinicMasterList}"
											var="clinicList" itemLabel="#{clinicList.clinicName}"
											itemValue="#{clinicList.clinicName}" />
									</p:selectOneMenu>
								</td>

							</tr>

						</table>
						 <!-- <td> <p:commandButton id="medActionId"
								value="#{msg.medactionplan}"
								actionListener="#{patientMedicineManageBean.saveMedicineChanges}"
								oncomplete="medicationActionPlan.show();">
								disabled="#{!((patientMedicineManageBean.medicine.flagForMedActionPlan) || (patientMedicineManageBean.showMedActionPlanButton))}"
								<f:param value="medActionPlan" name="medActPlan"></f:param>
							</p:commandButton> </td>  -->
					</td>
				</tr>
			</table>

			<br />
		</p:fieldset>
	</p:outputPanel>
		<table>
				<tr>
					<td>
					<h:outputText value="#{msg.coment}"
					styleClass="fontsize" /></td></tr>
					<tr>
					<td>
					<p:inputTextarea cols="134" rows="5"
							value="#{patientMedicineManageBean.patientMedicationData.drugsNotes}"></p:inputTextarea>
						
					</td>
				</tr>
			</table>
		<div style="text-align: center;"> 
		<p:outputPanel id="makeChangeUpdate">
		<p:commandButton value="#{msg.makechange}" 
			actionListener ="#{patientMedicineManageBean.checkMessageForEDITMedsHavingMedActionPlanOrNot}"
			rendered="#{patientMedicineManageBean.selectIntervention eq '2'}"></p:commandButton>
			
			<p:commandButton value="#{msg.makechange}" actionListener ="#{patientMedicineManageBean.checkMessageForMedActionPlanOrNot}"
				rendered="#{patientMedicineManageBean.selectIntervention eq '0' or patientMedicineManageBean.selectIntervention eq '1'}"
				 
				>
				<!-- <p:confirm   header="Confirmation" message="Are you sure you want to permanently delete this medication?" icon="ui-icon-alert"  /> -->  

			</p:commandButton>

			<!--  <p:confirmDialog global="true" showEffect="fade" hideEffect="explode" >  
       					 <p:commandButton value="Yes" type="button" styleClass="ui-confirmdialog-yes" icon="ui-icon-check" 
       					 	/>  
       					 <p:commandButton value="No" type="button" styleClass="ui-confirmdialog-no" icon="ui-icon-close"/>       
    				</p:confirmDialog>  -->
			
			<p:commandButton value="#{msg.makechange}" rendered="#{patientMedicineManageBean.selectIntervention eq '6'}"
				oncomplete="medication_viewRx.hide();" 
				action="#{patientMedicineManageBean.saveMedicineChangesOnViewRx}" ajax="false">

			</p:commandButton> 
			
			<p:commandButton value="#{msg.cancel}" action="#{patientMedicineManageBean.submitCancelButtonForAnticoag}" immediate="true"
						></p:commandButton>
		
		</p:outputPanel>
		</div>
	</h:form>
</p:dialog>

<!-- end pop up for view RX********************************* -->
		
	<!--  message show when user delete any meds if meds having med action plan.... start.... -->
	<p:dialog widgetVar="confirmBoxShowForHavingMedActionPlan" resizable="true" appendTo="@(body)" modal="true" closable="false"
	 dynamic="true">
	<h:form id="confirmBoxShowFormId">
	<h:outputText value="Do you want to delete the associated med action plan?"></h:outputText>&nbsp;&nbsp;&nbsp;
	<p:commandButton value="Yes"
				
				action="#{patientMedicineManageBean.saveMedicineChangesOnViewRx}" ajax="false" >

				<f:param value="yes" name="status" ></f:param>

			</p:commandButton> 
			
			<p:commandButton value="No"
				
				action="#{patientMedicineManageBean.saveMedicineChangesOnViewRx}">

				<f:param value="no" name="status"></f:param>

			</p:commandButton> 
	</h:form>
	</p:dialog>
	
	
	<!--  message show when user delete any meds if meds having med action plan.... start.... -->
	<p:dialog widgetVar="confirmBoxShowForDontHavingMedActionPlan" resizable="true" appendTo="@(body)" modal="true" closable="false"
	 dynamic="true">
	<h:form id="confirmBoxShowForDontHavingMedActionPlanFormId">
	<h:outputText value="Are you sure you want to modify medicine"></h:outputText>&nbsp;&nbsp;&nbsp;
	<p:commandButton value="Yes"
				
				action="#{patientMedicineManageBean.saveMedicineChangesOnViewRx}" oncomplete="messageUpdateAnticoag" >

			<f:param value="no" name="status"></f:param>

			</p:commandButton> 
			
			<p:commandButton value="No"
				onclick="confirmBoxShowForDontHavingMedActionPlan.hide();"  >
			</p:commandButton> 
	</h:form>
	</p:dialog>
	
	
	<!--  message show pop up start  when user delete any meds..without any med action plan.. -->
	<p:dialog widgetVar="withoutMedActionPlanMessageShowForDelete" resizable="true" appendTo="@(body)"  modal="true" closable="false"
	 dynamic="true">
	<h:form id="withoutMedActionPlanMessageShowForDeleteFormId">
	
		<h:outputText value="Are you sure delete this medicine"></h:outputText>&nbsp;&nbsp;&nbsp;

		<p:commandButton value="Yes"
				action="#{patientMedicineManageBean.saveMedicineChangesOnViewRx}" oncomplete="messageUpdateAnticoag">
			</p:commandButton> 
			<p:commandButton value="No"
				onclick="withoutMedActionPlanMessageShowForDelete.hide();" >
			</p:commandButton> 
	</h:form>
	</p:dialog>
	
	<!--  message show pop up end when user delete any meds..without any med action plan.. -->
	
	
	<!--  message show pop up start  when Meds have med action plan -->
	<p:dialog widgetVar="medActionPlanMessageShowForDelete" resizable="true" appendTo="@(body)"  modal="true" closable="false"
	 dynamic="true">
	<h:form id="medActionPlanMessageShowForDeleteFormId">
		<h:outputText value="Do you want to delete associated med action plan?"></h:outputText>&nbsp;&nbsp;&nbsp;
		
		<p:commandButton value="Yes"
				action="#{patientMedicineManageBean.saveMedicineChangesOnViewRx}" >
			</p:commandButton> 
			
			<p:commandButton value="No"
				onclick="medActionPlanMessageShowForDelete.hide();" >

			</p:commandButton> 
	</h:form>
	</p:dialog>
	
	<!--  message show pop up end when user delete any meds..having med action plan. -->
	
	
	

<!-- ********************************************* Warfarin Maintenace pop up Start....................... in anticoag page***************** -->

<!--Psychopharm Action Flow Process Dialog  -->
				<p:dialog id="psychpharmActionDialogId"
					widgetVar="psychpharmActionDialog" resizable="true" modal="true"
					dynamic="true" closable="true" draggable="true" appendTo="@(body)"  height="360" width="750" >
					 <p:ajax event="close" update="psychpharmActionDialogId" />
					<h:outputText value="Take Action: " />
 					<h:outputText value="#{patientMedicineManageBean.parentMedActionPlan.drugName}" />
					<p:accordionPanel dynamic="true"
						activeIndex="#{patientMedicineManageBean.psychopharmModelDataObj.activeIndexDefault}"
						id="accrdPanelActionId">
						<p:tab title="#{msg.psychopharm_step1_label} (Confirm Lithium Start Date)" id="step1"
							disabled="#{patientMedicineManageBean.psychopharmModelDataObj.dosing_step_1_disabled}">
							<h:form id="step1FormId">
								<table width="100%">
								<tr>
								<td>
								<h:outputText value="#{msg.psychopharm_goal}" />
								</td>
								<td>
								<h:outputText value="#{patientMedicineManageBean.parentMedActionPlan.goalRangeValue}" />
								<h:outputText value=" - " />
								<h:outputText value="#{patientMedicineManageBean.parentMedActionPlan.goalRangeEndValue}" />
								</td>
								</tr>
								<tr>
								<td>
								<h:outputText value="#{msg.psychopharm_lab_label}" />
								</td>
								<td>
								<h:outputText value="#{patientMedicineManageBean.psychopharmLabResult}" >
								
								</h:outputText>
								</td>
								<td>
								<h:outputText value="#{msg.psychopharm_lab_date}" />
								</td>
								<td>
								<h:outputText value="#{patientMedicineManageBean.psychopharmLabDate}" >
								<f:convertDateTime pattern="#{msg.dateFormat}" timeZone="#{userManageBean.loggedUsertimeZone}" dateStyle="full" type="date"/>
								</h:outputText>					
								</td>
								</tr>
								<tr>
								<td>
								<h:outputText value="#{msg.pschpharm_start_date}" />
								</td>
								<td>
								<h:outputText value="#{patientMedicineManageBean.parentMedActionPlan.dosingStartDate}" >
								<f:convertDateTime pattern="#{msg.dateFormat}" dateStyle="full" type="date"/>
								</h:outputText>
								</td>
								<td>
								<h:outputText value="#{msg.psychpharm_days}" />
								</td>
								<td>
								<h:outputText value="#{patientMedicineManageBean.calculateDaysForPsychopharm}" />
								</td>
								</tr>
								<tr>
								<td>
								<h:outputText value="#{msg.psychopharm_initiation_lbl}" />
								</td>
								<td>
								 <p:selectOneMenu value="#{patientMedicineManageBean.genericMedActionPlan.frequencyNo}">
									<f:selectItems value="#{patientMedicineManageBean.psychopharmConfirmList}" var="confirmObj" itemLabel="#{confirmObj}"
									itemValue="#{confirmObj}"/>
									</p:selectOneMenu>
								</td>
								</tr>
								</table>
								
								
								<p:commandButton value="Next"
							actionListener="#{patientMedicineManageBean.psychopharmTakeActionStep1}"
							process="@form"  update=":accrdPanelActionId" style="float:right;"></p:commandButton>
							</h:form>
						</p:tab>
						<p:tab title="#{msg.psychopharm_step2_label} (Patient questionnaire based on Lithium level)" id="step2"
							disabled="#{patientMedicineManageBean.psychopharmModelDataObj.dosing_step_2_disabled}">
							<h:form id="step2FormId">
								<p:dataGrid
									value="#{patientMedicineManageBean.psychopharmQuestions}"
									var="psychopharmVarPhq9" columns="2">
									<!-- <h:outputText value="#{psychopharmVarPhq9.key}" /> -->
									<!-- <br /> -->
									<table width="100%">
										<tr>
											<td><p:dataList
													value="#{psychopharmVarPhq9.value.responseList}"
													var="questionObj" type="none">
													<h:outputText value="#{questionObj}" />
													<br />
												</p:dataList></td>
											<td><p:selectOneMenu
													value="#{psychopharmVarPhq9.value.selectedValue}" rendered="#{psychopharmVarPhq9.value.optionsRendered}">
													<f:selectItems
														value="#{psychopharmVarPhq9.value.responeLinkedMapList.entrySet()}"
														var="question_obj" itemLabel="#{question_obj.value}"
														itemValue="#{question_obj.key}" />
												</p:selectOneMenu></td>
										</tr>
									</table>
								</p:dataGrid>
								<p:commandButton value="Previous"
							actionListener="#{patientMedicineManageBean.psychopharm_previous_button_wizard}"
							process="@form"  update=":accrdPanelActionId" style="float:left;" immediate="true">
							<f:setPropertyActionListener target="#{patientMedicineManageBean.psychopharmModelDataObj}" value="#{patientMedicineManageBean.psychopharmModelDataObj}"></f:setPropertyActionListener>
							</p:commandButton>
							<p:commandButton value="Next"
							actionListener="#{patientMedicineManageBean.psychopharmTakeActionStep2}"
							process="@form"  update=":accrdPanelActionId" style="float:right;"></p:commandButton>
							</h:form>
						</p:tab>
						<p:tab title="#{msg.psychopharm_step3_label} (Recommendations)" id="step3"
							disabled="#{patientMedicineManageBean.psychopharmModelDataObj.dosing_step_3_disabled}">
							<h:form id="step3FormId">
							<table width="100%">
							<tr>
							<td><h:outputText value="Recommendation: " /></td>
							</tr>
							<tr>
							<td>
							<h:outputText value="#{patientMedicineManageBean.psychopharmMessageObj.message}"></h:outputText>
							</td>
							</tr>
							<tr>
							<td>
							<h:outputText value="#{patientMedicineManageBean.psychopharmMessageObj.recomendationMessage}"></h:outputText>
							</td>
							</tr>
							</table>
							<p:commandButton value="Previous"
							actionListener="#{patientMedicineManageBean.psychopharm_previous_button_wizard}"
							process="@form"  update=":accrdPanelActionId" style="float:left;" immediate="true">
							<f:setPropertyActionListener target="#{patientMedicineManageBean.psychopharmModelDataObj}" value="#{patientMedicineManageBean.psychopharmModelDataObj}"></f:setPropertyActionListener>
							</p:commandButton>
							<p:commandButton value="Next"
							actionListener="#{patientMedicineManageBean.psychopharmTakeActionStep3}"
							process="@form"  update=":accrdPanelActionId" style="float:right;"></p:commandButton>
							</h:form>
						</p:tab >
						<p:tab id="step4" title="Step 4  (Ability to select long term monitoring labs for Lithium)" disabled="#{patientMedicineManageBean.psychopharmModelDataObj.dosing_step_4_disabled}">
							<h:form id="step4FormId">
							<h:outputText value="Dose Prescribed: " />
							<h:outputText value="#{patientMedicineManageBean.genericMedActionPlan.strength}" />
							<!-- <h:outputText value="#{patientMedicineManageBean.genericMedActionPlan.unit}" /> -->
							 <p:dataTable value="#{patientMedicineManageBean.parentMedActionPlan.childLabParameters}" var="genericMedActionPlanVarObj"
                  					 id="genericMedActionTableIdforfilterAction"  emptyMessage="#{msg.noMedFound}" selection="#{patientMedicineManageBean.selectedLabParamters}" rowKey="#{genericMedActionPlanVarObj.labParameterObj.labType}">
                   			
                   			 <p:column selectionMode="multiple" style="width:16px;text-align:center"/>
                   			 <p:column headerText="#{msg.monitoring_parameter_label}">
                 			  <h:outputText value="#{genericMedActionPlanVarObj.labParameterObj.labType}"/>
                  			 </p:column>
                  			 <p:column headerText="Frequency">
                  			 <table cellpadding="1" cellspacing="1">
                  <tr>
                  <td style="border:none;">
                  			   <p:selectOneMenu value="#{genericMedActionPlanVarObj.frequencyNumber}" style="width:50px;" id="frequencyNoId">
									<f:selectItems value="#{patientMedicineManageBean.frequencyNoList}" var="frequencyNo" itemLabel="#{frequencyNo.key}"
									itemValue="#{frequencyNo.value}"/>
									<p:ajax    process="@this,frequencyValId"
															listener="#{patientMedicineManageBean.findNextlabDateforTakeActionPsychopharm}"
															update="@form"></p:ajax>
									</p:selectOneMenu>
									</td><td style="border:none;">
									 <p:selectOneMenu value="#{genericMedActionPlanVarObj.frequencyUnit}" style="width:90px;" id="frequencyValId">
									<f:selectItems value="#{patientMedicineManageBean.frequencyList}" var="frequencyRange" itemLabel="#{frequencyRange.key}"
									itemValue="#{frequencyRange.value}"/>
									<p:ajax  process="@this,frequencyNoId"
															listener="#{patientMedicineManageBean.findNextlabDateforTakeActionPsychopharm}"
															update="@form"></p:ajax>
									</p:selectOneMenu>
									</td>
									</tr>
									</table>
                  			 </p:column>
                  			 <p:column headerText="Next Lab Date">
                  			  <h:outputText value="#{genericMedActionPlanVarObj.nextLabDate}" >
                  			  <f:convertDateTime pattern="#{msg.dateFormat}" timeZone="#{userManageBean.loggedUsertimeZone}" dateStyle="full" type="date"/>
                  			  </h:outputText>
                  			 </p:column>
                  			 </p:dataTable>
							<br/>
							<br/>
							<p:commandButton value="Previous"
							actionListener="#{patientMedicineManageBean.psychopharm_previous_button_wizard}"
							process="@form"  update=":accrdPanelActionId" style="float:left;" immediate="true">
							<f:setPropertyActionListener target="#{patientMedicineManageBean.psychopharmModelDataObj}" value="#{patientMedicineManageBean.psychopharmModelDataObj}"></f:setPropertyActionListener>
							</p:commandButton>
							<p:commandButton value="Done"
							actionListener="#{patientMedicineManageBean.psychopharmTakeActionStep4}"
							process="@form"  update=":accrdPanelActionId,:psychopharmFormMedPlansId:psychoPharmDataTableId" style="float:right;"  oncomplete="psychpharmActionDialog.hide()"></p:commandButton>
							</h:form>
						</p:tab>
					</p:accordionPanel>
				</p:dialog>
				<!-- End Psychopharm Action Flow Process Dialog-->
				<!-- pop up statr for showing Message for There is no lab of INR Anticoag.. By Gopal -->
 <p:dialog id="noLithiumMessagePopUp" widgetVar="noLithiumLabMessage" appendTo="@(body)" modal="true">
	<h:form>
		<h:outputText value="Unable to proceed because no new Lithium lab value is available. Please add lab and try again."></h:outputText>
		<p:commandButton value="Close" onclick="noLithiumLabMessage.hide();"></p:commandButton>
	</h:form>

</p:dialog>


	<!-- ******************************** pop up start for general med action plan............................ -->
			 	
			 	<p:dialog id="genericMedActionPlanDialogPsyId"
					widgetVar="editGenericMedicalActionPlan" 
					resizable="true"  modal="true" dynamic="true"
					closable="false" draggable="true"  height="300px" appendTo="@(body)">
					 <p:ajax event="close" update="genericMedActionPlanDialogPsyId" />
					 <p:growl id="growl" showDetail="true"  widgetVar="growlMsg"/> 
					<h:form id="newGenericMedPlanFormIdforfilterPsyId">
					 
					<table>
					<tr>
					<td>
					<h:outputText styleClass="outputtext"  value="#{patientMedicineManageBean.patientMedicationData.drugs}"/>&nbsp; 
					<h:outputText styleClass="outputtext"  value="#{patientMedicineManageBean.patientMedicationData.strengths},"/>&nbsp;
					<h:outputText styleClass="outputtext"  value="#{patientMedicineManageBean.patientMedicationData.unit}"/>&nbsp; 
					<h:outputText styleClass="outputtext"  value="#{patientMedicineManageBean.patientMedicationData.dosageForm}" rendered="#{patientMedicineManageBean.patientMedicationData.dosageForm ne 'Add Sig'}" />&nbsp;
					<h:outputText styleClass="outputtext"  value="#{patientMedicineManageBean.patientMedicationData.directions}" rendered="#{patientMedicineManageBean.patientMedicationData.directions ne 'Add Sig'}"/>
					</td>
					<td></td>
					<!-- <p:spacer width="200px;"></p:spacer> -->
					<td></td>
					</tr>
					<tr>
					<td>
					<h:outputText value="Diagnosis" styleClass="outputtext" />: <h:outputText  id="diagnosisNameIdGMAPObj" value="#{patientMedicineManageBean.patientDiagnosesDetailsObj.code}" /> 
					<!--  <h:outputText id="diagnosisNameId" value="#{patientMedicineManageBean.genericMedActionPlanList.get(0).diagnosisName}" rendered="#{patientMedicineManageBean.genericMedActionPlanList.size()>0}"/>  -->
					</td>
					
					<td>
					
					<p:commandLink rendered="#{patientMedicineManageBean.patientDiagnosesDetailsObj.code ne null}" onclick="deletediagnoses.show();">
					 
					 			<h:graphicImage value="./../../Images/delIcon.jpg"
										width="25px" height="25px" id="delRxId" onmouseover="delRxId.show();" onmouseout="delRxId.hide();"/>
										
										<p:dialog widgetVar="delRxId" position="650,220" closable="false">
										<h:outputText value="delete diagnosis"/>
									</p:dialog>
					 </p:commandLink> 
					  <p:dialog widgetVar="deletediagnoses" id="deletediagnosesisPsy" header="Are you Sure you want to delete?" message="Are you Sure you want to delete?"
                    			 width="260" closable="false" modal="true" appendTo="@(body)" hideEffect="fold">
                    	<h:form>		 
					        <h:panelGroup layout="block" style="text-align: center">
					            <p:commandButton value="Yes" process="@this" actionListener="#{patientMedicineManageBean.clearMedActionPlan1}" update=":newGenericMedPlanFormIdforfilterPsyId"  oncomplete="deletediagnoses.hide();"  />
					            <p:commandButton value="No"  oncomplete="deletediagnoses.hide();" />
					        </h:panelGroup>
					    </h:form>
   					 </p:dialog> 
					 
					  &nbsp;  <p:commandLink  id="addrEditDiagnosesPsyId"  onclick="diagnosisPopUp.show()"  update="diagnosisNameIdGMAPObj">
					 		<h:graphicImage value="./../../Images/editIcon.jpg"
										width="25px" height="25px" />
					 </p:commandLink> 
					 <p:tooltip id="editDiagnosesPsyTool" for="addrEditDiagnosesPsyId" value="Add and update diagnosis"/> 
					
					 </td>
					 </tr>
					 <tr>
					  <td>
					  <h:outputText value="#{msg.dosing_start_date}"/>
					  </td>
					  <td>
					    <p:calendar  value="#{patientMedicineManageBean.parentMedActionPlan.dosingStartDate}" showOn="button"    id="dosingStartDatePsy" pattern="#{msg.dateFormat}">
					    <f:convertDateTime pattern="#{msg.dateFormat}" for="dosingStartDatePsy" dateStyle="full" type="date" timeZone="#{userManageBean.loggedUsertimeZone}" />	
					    </p:calendar>
					  </td>
					 </tr>
					</table>
					 <p:panel header="#{msg.monitoring_parameter_header_label}" id="checkboxPanelPsyId" >
					  <p:selectManyCheckbox id="monitoringParameterPsyId" 
                                                    value="#{patientMedicineManageBean.selectedMonitoringParameters}"
                                                   valueChangeListener="#{patientMedicineManageBean.onParameterChangeMedActionPlan}" >
                 <!--   <f:selectItems value="#{patientMedicineManageBean.monitoringParameters}" var="monitor" itemLabel="#{monitor.key}" 
                  itemValue="#{monitor.value}"></f:selectItems> -->
                  <f:selectItems value="#{patientMedicineManageBean.monitoringParamsList}" var="monitor" itemLabel="#{monitor.parentParameter}" itemValue="#{monitor.parentParameter}"></f:selectItems>
                    <p:ajax partialSubmit="true"  process=":newGenericMedPlanFormIdforfilterPsyId:genericMedActionTableIdforfilterPsyId,monitoringParameterPsyId"
                                  update=":newGenericMedPlanFormIdforfilterPsyId:genericMedActionTableIdforfilterPsyId,monitoringParameterPsyId,:newGenericMedPlanFormIdforfilterPsyId:blockDialog" onstart="showBlockUI()" oncomplete="hideBlockUI()"></p:ajax>
                    </p:selectManyCheckbox>
                    </p:panel> 
                     <p:messages id="messagesLabName"  closable="true"></p:messages>
                   <h:panelGrid columns="3">
                
                   <p:inputText  id="searchLabNamePsyId" value="#{patientMedicineManageBean.loincNumber}" >
                   </p:inputText>
                   <p:commandButton value="#{msg.search_lab_label}" 
                    actionListener="#{patientMedicineManageBean.searchLabInLoincMaster}"  
                      oncomplete="handleSearchLab(xhr, status, args)" process="@this,searchLabNamePsyId,:newGenericMedPlanFormIdforfilterPsyId:genericMedActionTableIdforfilterPsyId" update="searchLabNamePsyId,messagesLabName" partialSubmit="true">
                    </p:commandButton>
                    <p:commandButton value="Clear" actionListener="#{patientMedicineManageBean.clearMedActionPlan}" update=":newGenericMedPlanFormIdforfilterPsyId" />
                  </h:panelGrid> 
                  <p:messages id="messagesValidate"  closable="true"/>  
                  <p:dataTable value="#{patientMedicineManageBean.parentMedActionPlan.childLabParameters}" var="genericMedActionPlanVar"
                   id="genericMedActionTableIdforfilterPsyId" binding="#{patientMedicineManageBean.genericMedActionPlanPropertyforPsypage}" emptyMessage="#{msg.noMedFound}">
                    <p:column>
                    <p:commandLink process="@this,genericMedActionTableIdforfilterPsyId"  update="genericMedActionTableIdforfilterPsyId"   
                    actionListener="#{patientMedicineManageBean.removeSelectedMonitoringParameterPsychopharm}" title="#{msg.deleteallergy}">
									<h:graphicImage value="./../../Images/delIcon.jpg"
										width="25px" height="30px" id="editMedActionPlanId" />
									  <p:tooltip for="editMedActionPlanId">
										  <h:outputText value="#{msg.deleteallergy}" />  
									</p:tooltip>  
					
					</p:commandLink>
                    </p:column>
                   <p:column headerText="#{msg.monitoring_parameter_label}">
                 <h:outputText value="#{genericMedActionPlanVar.labParameterObj.labType} #{genericMedActionPlanVar.labParameterObj.units}"/>  
                   </p:column>
                    <p:column headerText="#{msg.goal}">
                  <table cellpadding="1" cellspacing="1">
                  <tr>
                  <td style="border:none;">
                   <p:selectOneMenu value="#{genericMedActionPlanVar.goalLowRangeSymbol}">
									<f:selectItems value="#{patientMedicineManageBean.alertSymbolsList}" var="goalRange" itemLabel="#{goalRange.key}"
									itemValue="#{goalRange.value}"/>
									</p:selectOneMenu>
					</td>
					<td style="border:none;">
									<p:inputText value="#{genericMedActionPlanVar.goalLowRangeValue}" size="2" label="#{genericMedActionPlanVar.labParameterObj.labType} Goal " style="width:50px"></p:inputText>
					</td>
					<td style="border: none;">
					<h:outputText	value="#{msg.or_label}" />
					</td>
					 <td style="border:none;">
                   <p:selectOneMenu value="#{genericMedActionPlanVar.goalHighRangeSymbol}" >
									<f:selectItems value="#{patientMedicineManageBean.alertSymbolsList}" var="goalRangeEnd" itemLabel="#{goalRangeEnd.key}"
									itemValue="#{goalRangeEnd.value}"/>
									</p:selectOneMenu>
					</td>
					<td style="border:none;">
									<p:inputText value="#{genericMedActionPlanVar.goalHighRangeValue}" size="2" label="#{genericMedActionPlanVar.labParameterObj.labType} Goal " style="width:50px"></p:inputText>
					</td>
									</tr>
                  </table>
                   </p:column>  
                  <p:column headerText="#{msg.frequency_label}" >
                   
                   <table ><tr><td style="border:none;">
                    <p:selectOneMenu value="#{genericMedActionPlanVar.frequencyNumber}" style="width:50px;">
									<f:selectItems value="#{patientMedicineManageBean.frequencyNoList}" var="frequencyNo" itemLabel="#{frequencyNo.key}"
									itemValue="#{frequencyNo.value}"/>
									</p:selectOneMenu>
                   </td>
                   <td style="border:none;"></td>
                   <td style="border:none;">
                   <p:selectOneMenu value="#{genericMedActionPlanVar.frequencyUnit}" style="width:90px;">
									<f:selectItems value="#{patientMedicineManageBean.frequencyList}" var="frequencyRange" itemLabel="#{frequencyRange.key}"
									itemValue="#{frequencyRange.value}"/>
									</p:selectOneMenu>
									
						</td></tr></table>
                   </p:column> 
                  <p:column headerText="#{msg.alert_level_label}">
								<table>
								<tr>
								<td style="border:none;">
									<h:graphicImage value="./../../Images/red1.jpg" height="15px"
										width="20px" />
								</td>
									<td style="border:none;">
									<p:selectOneMenu value="#{genericMedActionPlanVar.alertSevereLowRangeSymbol}">
									<f:selectItems value="#{patientMedicineManageBean.alertSymbolsList}" var="symSevereLowRange" itemLabel="#{symSevereLowRange.key}"
									itemValue="#{symSevereLowRange.value}"/>
									</p:selectOneMenu>
									</td>
									<td style="border:none;">
									<p:inputText value="#{genericMedActionPlanVar.alertSevereLowRangeValue}" size="2" label="#{genericMedActionPlanVar.labParameterObj.labType} Alert " style="width:50px"></p:inputText>
									</td>
									<td style="border:none;">
									<h:outputText value="#{msg.or_label}" />
									</td>
									<td style="border:none;">
									<p:selectOneMenu value="#{genericMedActionPlanVar.alertSevereHighRangeSymbol}">
									<f:selectItems value="#{patientMedicineManageBean.alertSymbolsList}" var="symSevereHighRange" itemLabel="#{symSevereHighRange.key}"
									itemValue="#{symSevereHighRange.value}"/>
									</p:selectOneMenu>
									</td>
									<td style="border:none;">
									<p:inputText value="#{genericMedActionPlanVar.alertSevereHighRangeValue}" size="2" label="#{genericMedActionPlanVar.labParameterObj.labType} Alert " style="width:50px"></p:inputText>
									</td>
									</tr>
									<tr>
									<td style="border:none;">
									<h:graphicImage value="./../../Images/orange1.jpg"
										height="15px" width="20px" />
									</td>
									<td style="border:none;">
									<p:selectOneMenu value="#{genericMedActionPlanVar.alertMediumLowRangeSymbol}">
									<f:selectItems value="#{patientMedicineManageBean.alertSymbolsList}" var="symMediumLowRange" itemLabel="#{symMediumLowRange.key}"
									itemValue="#{symMediumLowRange.value}"/>
									</p:selectOneMenu>
									</td>
									<td style="border:none;">
									<p:inputText value="#{genericMedActionPlanVar.alertMediumLowRangeValue}" size="2" label="#{genericMedActionPlanVar.labParameterObj.labType} Alert " style="width:50px" ></p:inputText>
									</td>
									<td style="border:none;">
									<h:outputText value="#{msg.or_label}" />
									</td>
									<td style="border:none;">	
									<p:selectOneMenu value="#{genericMedActionPlanVar.alertMediumHighRangeSymbol}">
									<f:selectItems value="#{patientMedicineManageBean.alertSymbolsList}" var="symMediumHighRange" itemLabel="#{symMediumHighRange.key}"
									itemValue="#{symMediumHighRange.value}"/>
									</p:selectOneMenu>
									</td>
									<td style="border:none;">
									<p:inputText value="#{genericMedActionPlanVar.alertMediumHighRangeValue}" size="2" label="#{genericMedActionPlanVar.labParameterObj.labType} Alert " style="width:50px"></p:inputText>
									</td>
									</tr>
							 </table>

							</p:column> 
                   <p:column headerText="#{msg.action}">
                  <!--  <p:commandButton value="#{msg.alert_physician_label}"></p:commandButton> -->
								<p:selectOneMenu style="width:150px;">
									<f:selectItem itemLabel="#{msg.alert_physician_label}"
										itemValue="#{msg.alert_physician_label}" />
								</p:selectOneMenu>
							</p:column>
                  </p:dataTable>
               	<table width="100%">
               	<tr>
               	<td align="right">
                  <p:commandButton value="#{msg.cancel}"   
                   onclick="editGenericMedicalActionPlan.hide()"    process="@this"  update=":genericMedActionPlanDialogPsyId">
                    <p:resetInput target=":genericMedActionPlanDialogPsyId"></p:resetInput>
                   </p:commandButton></td>
                    <td >
                   <p:commandButton id="medplan" value="#{msg.done}" process="@this,genericMedActionTableIdforfilterPsyId,dosingStartDatePsy"  
                    actionListener="#{patientMedicineManageBean.saveGenericMedActionPlan}" oncomplete="genericMedActionPlanComplete(xhr, status, args)" ajax="true" update="messagesValidate">
                   
                    </p:commandButton>
                     <p:commandButton id="medplanwithout_diagonosesId" value="#{msg.done}" process="@this,genericMedActionTableIdforfilterPsyId,dosingStartDatePsy" 
                    actionListener="#{patientMedicineManageBean.saveGenericMedActionPlanwithoutdiagnoses}" oncomplete="genericMedActionPlanComplete(xhr, status, args)" ajax="true" update="messagesValidate" style="display:none;">
                    
                    </p:commandButton> 
                    
                     <p:commandButton id="medplanwith_graeter_inrId" value="#{msg.done}" process="@this,genericMedActionTableIdforfilterPsyId,dosingStartDatePsy" 
                    actionListener="#{patientMedicineManageBean.saveGenericMedActionPlanforgreaterinrvalue}" oncomplete="genericMedActionPlanComplete(xhr, status, args)" ajax="true" update="messagesValidate" style="display:none;">
                    
                    </p:commandButton> 
                    </td>
                 </tr>
                  	</table>
                  	 <p:blockUI  id="blockDialog" widgetVar="blockUI"  block=":newGenericMedPlanFormIdforfilterPsyId:genericMedActionTableIdforfilterPsyId">  
                               LOADING ...<br />
							<p:graphicImage value="./../../Images/ajax_loader.gif" width="40" height="40"  />
						</p:blockUI> 
                   </h:form>
                   
				</p:dialog> 
				<!-- ******************************** pop up end for general med action plan............................ -->
					<!-- ******************************** pop up start for Search Lab Monitoring parameters ............................ -->
				<p:dialog id="searchLabGMAPId"
					widgetVar="searchLabMAPDialog" height="300" width="60%"
					resizable="true" appendTo="@(body)" modal="true" dynamic="true"
					closable="true" >
				<p:ajax event="close" update="searchLabGMAPId" />
				<h:form id="searchLabFormId" prependId="false">
				<p:dataTable value="#{patientMedicineManageBean.labLOINCsearchResultSet}" 
				id="searchLabResultsId" var="searchLOINCdataVar" binding="#{patientMedicineManageBean.loincBindingObjPsypage}" emptyMessage="#{msg.noMedFound}">
				<p:column headerText="#{msg.lab_list_label}" style="width:40px">
				<p:commandLink value="#{searchLOINCdataVar.shortName}" 
				actionListener="#{patientMedicineManageBean.addToGeneralMedActionForPsypage}" update=":genericMedActionPlanDialogPsyId" oncomplete="labComplete(xhr, status, args)" style="font-weight: bold;text-decoration:underline;">
				
				</p:commandLink>
				</p:column>
				
				 <p:column style="width:40px">
							<f:facet name="header">
								<h:outputText value="#{msg.loinc}" />
							</f:facet>
							<h:outputText value="#{searchLOINCdataVar.loincNumber}" />
						 </p:column>
						 <p:column style="width:80px">
							<f:facet name="header">
								<h:outputText value="#{msg.short_name}" />
							</f:facet>
							<h:outputText value="#{searchLOINCdataVar.shortName}" />
						 </p:column>
						 
						 <p:column style="width:180px">
							<f:facet name="header">
								<h:outputText value="#{msg.long_name}" />
							</f:facet>
							<h:outputText value="#{searchLOINCdataVar.longCommonName}" />
						 </p:column>
				</p:dataTable>
				</h:form>
				</p:dialog>
				<!-- ******************************** pop up end for Search Lab Monitoring parameters............................ -->
					<!-- 	>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>pop up for diagnosis>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> -->
			
			
				<p:dialog id="searchdiagnosisOvwPopUpId" header="#{msg.diagnosis}" widgetVar="diagnosisPopUp" modal="true" appendTo="@(body)" hideEffect="fold" resizable="true"
					dynamic="false" width="800" position="430,100" closable="false">
					<p:ajax event="close" update=":searchdiagnosisOvwPopUpId" />
				 <h:form id="searchdiagosisPopUpFormId">	
					<table>
					
					<tr>
						<td> <p:selectOneRadio id="options"
							value="#{patientManageBean.selectIntervention}">
							<f:selectItem itemLabel="Search According Diagnosis Name" itemValue="1" />
							<f:selectItem itemLabel="Search According ICD Code" itemValue="2" noSelectionOption="false"/>
							
						</p:selectOneRadio> 
						
						<!-- 	<input type="radio" name="c1" checked="checked" onclick="hidediv('div2', this)"/>Search According Diagnosis Name
            				<input type="radio" name="c1" onclick="showMe('div2', this)"/>Search According Icd_Code -->
						<!-- <h:outputText id="aaa" value="#{patientMedicineManageBean.showRxTab}" /> -->
						</td>
					</tr>
					</table>
					
				
					<table>
					  <tr>
					    <td>
							<h:outputText value="#{msg.diagnosisname} :" style="font-size:10px;" />
						</td>
						<td align="left">
							<p:inputText size="55"  value="#{patientManageBean.userInputForIcdDiagnosisSearchTable}" id="codeForSearch"  >
	 						
	 						 <p:ajax update="codeForSearch"></p:ajax>  
	 						</p:inputText>
	 						<p:watermark value="#{msg.diagnosiname} According Name and icd_Code" for="codeForSearch"></p:watermark> 
						</td>
						
						<!-- <td>
							<h:outputText value="icd_code :" style="font-size:10px;" />
						</td>
						<td align="right">
							<p:inputText value="#{patientManageBean.userInputForIcdCode}" id="codeForSearch1"  >
	 						
	 						 <p:ajax update="codeForSearch1"></p:ajax>  
	 						</p:inputText>
	 						<p:watermark value="icd_code" for="codeForSearch1"></p:watermark> 
						</td> -->
						</tr>
						
						<tr>
						<td>
							<h:outputText value="#{msg.select_icd_Format} :" style="font-size:10px;" />
						</td>
						<td>
						  <p:selectOneMenu id="icd_drpDown" value="#{patientManageBean.selectedIcdFormat}" immediate="true"
		                        required="true" style="width:137px;">
								 <f:selectItem itemLabel="#{msg.icd9}" itemValue="#{msg.icd9}" />
								 <f:selectItem itemLabel="#{msg.icd10}" itemValue="#{msg.icd10}" />
							 <p:ajax update="icd_drpDown"/>
							</p:selectOneMenu>
						</td>
						</tr>
						
						
						<tr>
						 <td colspan="2" align="left">
							 <p:commandButton value="#{msg.search}" actionListener="#{patientManageBean.searchMasterDiagnosisData}" 
								 update="searchdiagosisPopUpFormId:panel_dignosis"/> 
						 	<p:commandButton value="#{msg.cancel}" actionListener="#{patientManageBean.cleanDiagnosisForm}" oncomplete="diagnosisPopUp.hide();"/> 
						</td>
						</tr>
					</table>
					<br></br>
				<p:outputPanel id="panel_dignosis">
		         
		          <p:outputPanel id="panel_icd10dignosis" rendered="#{patientManageBean.selectedIcdFormat eq 'ICD10'}"> 
		          
		          
		           <p:dataTable value="#{patientManageBean.dignosisdetailsList}" var="searchDiagnosis"  id="searchdatatable"
	 			      scrollable="true" resizableColumns="false" scrollHeight="400" lazy="true" emptyMessage="#{msg.noMedFound}"
							 >
							
							<f:facet name="header">
           									 ICD 10 Details
       						 </f:facet>
							
							
				  		<p:column width="2%" headerText="Short Description" >
								<p:commandLink value="#{searchDiagnosis.shortDesc}" action="#{patientManageBean.findDiagnosisICD10NameOverview}" style="text-decoration:underline;" ajax="true" update=":genericMedActionPlanDialogPsyId" oncomplete="diagnosisPopUp.hide();editGenericMedicalActionPlan.show();">
										<f:setPropertyActionListener target="#{patientManageBean.selectedDiagonisObj}" value="#{searchDiagnosis}" />
								</p:commandLink>
				    	</p:column>
				    	
					    	<p:column width="5%">
									<f:facet name="header">
										<h:outputText value="Long Description" style="text-align:left"/>
								</f:facet>
										<h:outputText value="#{searchDiagnosis.longDesc}" />
						</p:column>
						
					    	<p:column width="5%">
									<f:facet name="header">
										<h:outputText value="ICD Code" style="text-align:left"/>
								</f:facet>
										<h:outputText value="#{searchDiagnosis.formattedDxCode}" />
						</p:column>
						
				  </p:dataTable>
				  
				  
				 </p:outputPanel>
				 
				 <p:outputPanel id="panel_icd9dignosis" rendered="#{patientManageBean.selectedIcdFormat eq 'ICD9'}">
				 
				   <p:dataTable value="#{patientManageBean.icd9DiagnosisList}" var="searchDiagnosis"  id="searchicd9datatable"
	 			        scrollable="true" resizableColumns="false" scrollHeight="400" lazy="true" emptyMessage="#{msg.noMedFound}"
						>
							
					
					<f:facet name="header">
           									 ICD 9 Details
       						 </f:facet>
       						 		
				  	<p:column width="2%" headerText="Short Description" >
								<p:commandLink value="#{searchDiagnosis.shortDescription}" action="#{patientManageBean.setIcd9DiagnosisNameOverview}" style="text-decoration:underline;"  ajax="true" update=":genericMedActionPlanDialogPsyId" oncomplete="diagnosisPopUp.hide();editGenericMedicalActionPlan.show();">
								<f:setPropertyActionListener target="#{patientManageBean.selectedDiagonsisICD9Obj}" value="#{searchDiagnosis}" />
					</p:commandLink>
					
				    </p:column>
				    
				    <p:column width="5%">
								<f:facet name="header">
									<h:outputText value="Long Description" style="text-align:left"/>
							</f:facet>
									<h:outputText value="#{searchDiagnosis.longDiscription}" />
					</p:column>
				    
				    <p:column width="5%">
								<f:facet name="header">
									<h:outputText value="ICD Code" style="text-align:left"/>
							</f:facet>
									<h:outputText value="#{searchDiagnosis.formatedCode}" />
					</p:column>
					
				  </p:dataTable>
			    </p:outputPanel>
			   </p:outputPanel>
			</h:form>	
</p:dialog>
	<!-- ******************************** pop up start for diagnoses confirmation............................ -->
					
				<p:dialog widgetVar="confirmfordiagnoses" header="Do you want to enter a diagnosis?" appendTo="@(body)" global="true" showEffect="fade" hideEffect="explode" > 
<h:form> 
    <p:commandButton value="Yes" styleClass="ui-confirmdialog-yes" icon="ui-icon-check" onclick="diagnosisPopUp.show();confirmfordiagnoses.hide();"/>  
    <p:commandButton value="No"  styleClass="ui-confirmdialog-no" icon="ui-icon-close" onclick="onmedplanclick();confirmfordiagnoses.hide();"/>
       					 </h:form>       
    		</p:dialog> 
					
					<!-- ********************************  pop up end for diagnoses confirmation............................ -->
					<p:dialog id="medPlanMessagesPsyId"  widgetVar="medPlanExistsWidgetVar" appendTo="@(body)" hideEffect="fold" resizable="true"
					dynamic="true" closable="true" >
		<p:ajax event="close" update="medPlanMessagesPsyId"></p:ajax>
		<h:form>
		<h:outputText value="Following parameters already contain Med Action Plan in the below table"></h:outputText>
<p:dataList value="#{patientMedicineManageBean.medPlanSelectedParams}" var="selectedParam" type="definition">
#{selectedParam}
</p:dataList>

		<p:dataTable value="#{patientMedicineManageBean.medPlanMessages}" var="parentMAPobj">
		
		<p:column headerText="Med">
		<h:outputText value="#{parentMAPobj.drugName}"></h:outputText>
		</p:column>
		<p:column>
		  <p:dataTable value="#{parentMAPobj.childLabParameters}" var="labParameterVar"  >
									 	 <p:column headerText="#{msg.monitoring_parameter_label}">
									 	 <h:outputText value="#{labParameterVar.labType}"></h:outputText>
									 	 </p:column>
											<p:column headerText="Goal">
											<h:outputText value="#{labParameterVar.goalRange}"></h:outputText>
											</p:column>
										
									
										</p:dataTable>
		</p:column>
		</p:dataTable>
		<h:outputText value="#{msg.medPlanLabel2}"></h:outputText>
	<table width="100%">
	<tr><td align="center">
				<p:commandButton  oncomplete="editGenericMedicalActionPlan.show();medPlanExistsWidgetVar.hide()" value="ok" actionListener="#{patientMedicineManageBean.clearMAPUI}" ></p:commandButton>
				</td>
				</tr>
				</table>
		</h:form>
		</p:dialog> 
</p:layoutUnit>
		</p:layout>

			
			<!-- >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> CENTER LAYOUT ENDS  >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>  -->
		
	</f:view>
</h:body>
</html>

