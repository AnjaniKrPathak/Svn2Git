<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui" template="../templates/ui.xhtml">

<h:body onload="#{patientMedicineManageBean.resetHepCAlertMedActiopnPlan()}">

	<f:view contentType="text/html">
		<h:head>
			<f:facet name="first">
				<meta http-equiv="X-UA-Compatible" content="EmulateIE8" />
				<meta content='text/html; charset=UTF-8' http-equiv="Content-Type" />
				<title><h:outputText value="#{msg.clinakos}" /></title>
			</f:facet>
			<link type="text/css" rel="stylesheet" href="../../CSS/style.css" />
			<script language="javascript" src="../js/basicMethod.js"></script>
			<script type="text/javascript" language="javascript">
			$(document).ready(function() {
		        noBack();
		   });

		   function noBack() {
			   window.location.hash="no-back-button";
				window.location.hash="Again-No-back-button";//again because google chrome don't insert first hash into history
				window.onhashchange=function(){window.location.hash="";} 
		       }
		   
			function labComplete(xhr, status, args){
				if(args.selectedLab==true){
					searchLabMAPDialog.hide();
					editGenericMedicalActionPlan.show();
					if(args.validateMAP==true){
						medPlanExistsWidgetVar.show();
					}
					}
			}
		function handleSearchLab(xhr, status, args){
			if(args.searchResultSet==true){
				searchLabMAPDialog.show();
				}
			}

		 
		 function showBlockUI(){
				//	alert("block UI show");
					blockUI.show();
					} 
		 
		 function hideBlockUI(){
				//	alert("block UI hide");
					blockUI.hide();
					}
		 
		 function onmedplanclick(){
			 document.getElementById('newGenericMedPlanFormIdforfilterHepId:medplanwithout_diagonosesId').click();
			
					}
		 
		 function onmedplanclickforinr() {
			 
			 document.getElementById('newGenericMedPlanFormIdforfilterHepId:medplanwith_graeter_inrId').click();	
		}
			
		
		 function genericMedActionPlanComplete(xhr,status,args){
				if(args.savedOrNotDb==true){
					editGenericMedicalActionPlan.hide();
					
					/* growlMsg.show([{summary:'', detail: 'Med Action Plan Saved Successfully', severity: 'info'}]) */
					
					
					
					}
				else{
					editGenericMedicalActionPlan.show();
					}
				}
</script>
		</h:head>

		<p:layout fullPage="true">
		
		

			<!-- >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> DOCTOR HEADER >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>  -->
			<p:layoutUnit position="north" size="93" minSize="60">
				<ui:include src="doctorHeader.xhtml" />
			</p:layoutUnit>
			<!-- >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> BOTTOM INCLUDE >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>  -->

			<p:layoutUnit id="bottom" position="south" size="24">

				<ui:include src="../core/footer.xhtml"></ui:include>

			</p:layoutUnit>

			<!-- >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> LEFT INCLUDE >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>  -->

			<p:layoutUnit id="left" position="west" size="0" closable="false"
				collapsible="true" minSize="0" style="border:none;">
				  <ui:include src="anticoagleftmenu.xhtml">
				</ui:include>
			</p:layoutUnit>



			<!-- >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> CENTER LAYOUT >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>  -->

			<p:layoutUnit position="center">
				<h:form id="msgVarId">
			 <p:growl id="growlMsgId" showDetail="true"  widgetVar="growlMsgWidgetVar" sticky="false"/>
			 </h:form>
					<!-- <div align="center"><p:graphicImage url="images/commingSoon.jpg"></p:graphicImage></div> -->
					
					<table width="100%" class="secContentBorder" cellpadding="0" cellspacing="0">
					<tr>
					 <td class="secHeadPart">
					 Specialty Drug 
					 </td>
					</tr>
					<tr>
					 <td>
					 <p:dataList value="#{patientMedicineManageBean.hepCAlertMedActionPlanList}"
						var="alertHepCMedPlans"  type="definition" emptyMessage="" id="alertSpecialtyDrugLabsMsgDataList" styleClass="datalist-noborder" >
						
						
                                                     <h:graphicImage value="./../../Images/red1.jpg"
                                                    height="20px" width="20px" id="highSeverityLevelToolFilter"
                                                            rendered="#{alertHepCMedPlans.severityLevel eq 'High'}" />
                                                        <h:graphicImage value="./../../Images/orange1.jpg"
                                                     height="20px" width="20px" id="midSeverityLevelToolFilter"
                                                            rendered="#{alertHepCMedPlans.severityLevel eq 'Medium'}" />
                                                    <h:graphicImage value="./../../Images/green1.jpg"
                                                height="20px" width="20px" id="lowSeverityLevelToolFilter"
                                                            rendered="#{alertHepCMedPlans.severityLevel eq 'Low'}" />
                               						       <h:outputText value=" #{alertHepCMedPlans.labType}" /> 
                               						       &nbsp;
                     
                     <h:outputText value="#{alertHepCMedPlans.labUnit}" />
                     <h:outputText value=" Value " />
                     <h:outputText value="#{alertHepCMedPlans.labResultValue}" />    
                     <h:outputText value=" on " />   
                     <h:outputText value=" #{alertHepCMedPlans.labDateResult}" /> 
                     <h:outputText value=" for " />    
                     <h:outputText value="#{alertHepCMedPlans.drugName}" />    
                     <h:outputText value=" Goal " />        
                     <h:outputText value="#{alertHepCMedPlans.lowValue}" rendered="#{alertHepCMedPlans.lowValue>0.0}"/>  
                      <h:outputText value=" - " rendered="#{(alertHepCMedPlans.lowValue>0.0) and (alertHepCMedPlans.highValue>0.0)}"/>  
                       <h:outputText value="#{alertHepCMedPlans.highValue}" rendered="#{alertHepCMedPlans.highValue>0.0}"/>                     
						<p:spacer height="22px;"></p:spacer>
						</p:dataList>
					 
					 </td>
					</tr>
					
					<tr>
					<td align="left">
					 <h:form id="hepCMedActionPlanFrm"> 
					 <p:dataTable  scrollable="auto" scrollHeight="105" 
				value="#{patientMedicineManageBean.hepatitisCMedActionPlanList}" id="hepCMedActionPlan"
				var="psychoPharmMedAction" binding="#{patientMedicineManageBean.hepCMedPlanDataTable}">

				 <p:column>
					<f:facet name="header">
						<h:outputText value="#{msg.med} " />
					</f:facet>
					<div align="left">
					<h:outputText value="#{psychoPharmMedAction.drugName}" />&nbsp;
					<h:outputText value="#{psychoPharmMedAction.strength}" />&nbsp;
					<h:outputText value="#{psychoPharmMedAction.unit}" />&nbsp;
					<h:outputText value="#{psychoPharmMedAction.dosageForm}" rendered="#{psychoPharmMedAction.dosageForm ne 'Add Sig'}" />&nbsp;
					<h:outputText value="#{psychoPharmMedAction.regimen}" rendered="#{psychoPharmMedAction.regimen ne 'Add Sig'}" />&nbsp;
					 
			        
					
					</div>
				</p:column>
				
				<p:column width="8%">
					<f:facet name="header">
						<h:outputText value=" Prescription Date"/>
					</f:facet>
				<div align="center">
				<h:outputText value="#{psychoPharmMedAction.prescriptionDate}" id="medplandate">
				<f:convertDateTime pattern="#{msg.dateFormat}" timeZone="#{userManageBean.loggedUsertimeZone}" for="medplandate" type="date" dateStyle="full" locale="pl"/></h:outputText>
				</div>
				</p:column>
				
				<p:column width="8%">
					<f:facet name="header">
						<h:outputText value="Prescribed By" />
					</f:facet>
					<div align="left">
					<h:outputText value="#{psychoPharmMedAction.prescribedBy}" />
					</div>
				</p:column>
				
				

				<p:column>
					<f:facet name="header">
						<h:outputText value="#{msg.diagnosis}" />
					</f:facet>
					<div align="left">
					<h:outputText value="N/A" rendered="#{psychoPharmMedAction.patientDiagnosisName eq null}"/>
					<h:outputText value="#{psychoPharmMedAction.patientDiagnosisName}" />
					</div>
				</p:column>
				
				
				
			

				 <p:column width="20%">
					<f:facet name="header">
						<!-- <h:outputText value="#{msg.monitoringpara}" /> -->
					</f:facet>
					<div align="left">
					<!-- <h:outputText value="#{psychoPharmMedAction.monitoringParameter}" /> -->
						  <p:dataTable value="#{psychoPharmMedAction.childLabParameters}" var="labParameterVar"  >
									 	 <p:column headerText="#{msg.monitoring_parameter_label}">
									 	 <h:outputText value="#{labParameterVar.labParameterObj.labType}"></h:outputText>
									 	 </p:column>
											<p:column headerText="Goal">
										<div align="right">
										<h:outputText value=" #{labParameterVar.goalLowRangeSymbol} " rendered="#{labParameterVar.goalLowRangeValue>0.0}" />
										<h:outputText value=" #{labParameterVar.goalLowRangeValue} " rendered="#{labParameterVar.goalLowRangeValue>0.0}" />
										<h:outputText value=" - " rendered="#{(labParameterVar.goalLowRangeValue>0.0) and (labParameterVar.goalHighRangeValue>0.0)}" />
										<h:outputText value=" #{labParameterVar.goalHighRangeSymbol} " rendered="#{labParameterVar.goalHighRangeValue>0.0}" />
										<h:outputText value=" #{labParameterVar.goalHighRangeValue} " rendered="#{labParameterVar.goalHighRangeValue>0.0}" />
										<!-- <h:outputText value="#{labParameterVar.goalRangeSymbol} #{labParameterVar.goalRangeValue} - #{labParameterVar.goalRangeEndSymbol} #{labParameterVar.goalRangeEndValue}" /> -->
										</div>
										</p:column>
											<p:column headerText="#{msg.labfrequency}">
										<div align="left">
										<h:outputText value="#{labParameterVar.frequencyNumber}" />
										<p:spacer width="5px"></p:spacer>
										<h:outputText value="#{labParameterVar.frequencyUnit}" />
										</div>
										</p:column>
										</p:dataTable>  
					</div>
				</p:column>

			
				
				<p:column width="7%">
					<f:facet name="header">
						<h:outputText value="#{msg.last_update_by}" />
					</f:facet>
					<div align="left">
					<h:outputText value="#{psychoPharmMedAction.updatedByName}" />
					</div>
				</p:column>
				
				 <p:column width="8%">
					<f:facet name="header">
						<h:outputText value="#{msg.last_update_date}" />
					</f:facet>
					<div align="center"><h:outputText value="#{psychoPharmMedAction.updatedDate}" id="psycho_pharm_last_updated_date">
						 <f:convertDateTime pattern="#{msg.dateFormat}" timeZone="#{userManageBean.loggedUsertimeZone}" for="update_date" type="date" dateStyle="full" locale="pl"/>
					</h:outputText>
					</div>
				</p:column> 

				
				
				<p:column>
					<f:facet name="header">
						<h:outputText value="#{msg.create_by}" />
					</f:facet>
				<div align="left">
				<h:outputText value="#{psychoPharmMedAction.createdByName}" /></div>
				</p:column>
				
				<p:column width="9%">
					<f:facet name="header">
						<h:outputText value="#{msg.create_date}" />
					</f:facet>
					<div align="center"><h:outputText value="#{psychoPharmMedAction.createdDate}" id="created_date">
					<f:convertDateTime pattern="#{msg.dateFormat}" timeZone="#{userManageBean.loggedUsertimeZone}" for="action_date" type="date" dateStyle="full" locale="pl"/>
					</h:outputText></div>
				</p:column>
				<p:column width="9%">
					<f:facet name="header">
						<h:outputText value="#{msg.dosing_start_date}"/>
					</f:facet>
					<div align="center"><h:outputText value="#{psychoPharmMedAction.dosingStartDate}" id="doisng_start_date">
						 <f:convertDateTime pattern="#{msg.dateFormat}" for="doisng_start_date" dateStyle="full" type="date" />
					</h:outputText>
					</div>
				</p:column>
				
				<p:column headerText="#{msg.action}" >
										<center>
											<p:commandLink
												actionListener="#{patientMedicineManageBean.editHepCMedActionPlan}"
												oncomplete="editGenericMedicalActionPlan.show();" rendered="#{userManageBean.rolePrivillegeUtil.isEnable('specialityDrug_editMap')}">
												
												<h:graphicImage value="./../../Images/editIcon.jpg"
													width="25px" height="20px" id="editMedActionPlan1_HepC" />
												<p:tooltip for="editMedActionPlan1_HepC">
													<h:outputText value="#{msg.edit}" />
												</p:tooltip>
											</p:commandLink>

											 <p:commandLink
												actionListener="#{patientMedicineManageBean.removeHepCMedActionPlanData}"
												oncomplete="deleteHepCMedActionPlan.show();"
												rendered="#{userManageBean.rolePrivillegeUtil.isEnable('specialityDrug_deleteMap')}">
													
												<h:graphicImage value="./../../Images/delIcon.jpg"
													width="25px" height="20px" id="deleteGenericMedActionPlan1_HepC" />
												<p:tooltip for="deleteGenericMedActionPlan1_HepC">
													<h:outputText value="#{msg.delete}" />
												</p:tooltip>
											</p:commandLink> 
										</center>
										</p:column>
				
			</p:dataTable>
			</h:form>
					</td>
					
					</tr>
					</table>
					<br/>
					<table width="100%">
					<tr>
					<td	>
					<!--**************  Hep C current Med List *****************************************  -->
	 <p:outputPanel id="curntMed">
	 <h:form id="hepCCurrentMed">
        <p:dataTable   scrollable="auto" scrollHeight="105"
						value="#{patientMedicineManageBean.currentHepatitsCMedList}" rowIndexVar="rowNum"
						var="hepCClinicCurrentMeds" >

						<f:facet name="header" >
							
						</f:facet>

						<p:column>
							<f:facet name="header">
								<h:outputText value="#{msg.medication}"/>
							</f:facet>
							<div align="left">
							<h:outputText value="#{hepCClinicCurrentMeds.drugs}" />&nbsp;
						
							
							<h:graphicImage value="./../../Images/new-icon.png" styleClass="imgIcon" id="NewImg"
							rendered="#{hepCClinicCurrentMeds.iconForNewMedAdd}" />
							 <p:tooltip for="NewImg" >
										<h:outputText value="New Med"/>
									</p:tooltip>	
							
						    &nbsp;<!-- <h:graphicImage value="./../../Images/actionNeeded.jpg" styleClass="imgIcon"  id="actionNeeded"
						   /> -->
						    
						   <!--  <p:tooltip for="actionNeeded" >
										<h:outputText value="Action Needed"/>
									</p:tooltip>	 -->		
						     &nbsp;
						    <!--  <h:graphicImage value="./../../Images/actionSuggest.jpg" styleClass="imgIcon"  id="actionSuggest"
						    />
						     
						 
						      <p:tooltip for="actionSuggest" >
										<h:outputText value="Action Suggested"/>
									</p:tooltip> -->	
									
						<!-- <p:commandLink actionListener="#{patientMedicineManageBean.creatMedActionPlanForAnticoag}"
					update=":warfarinheaderIdValue,:DabigatranHeader,:ApixabanHeader,:RivaroxabanHeader,
					:FondaparinuxHeader,:DesirudinHeader,:dalteparinHeader,:EnoxaparinHeader"
					
						rendered="#{hepCClinicCurrentMeds.showMedActionPlanCreateOrNot}">
							<h:graphicImage value="./../../Images/medActionIcon.jpg"
										width="15px" height="20px" id="editMedActionPlanId" />
									<p:tooltip for="editMedActionPlanId" >
										<h:outputText value="No Med Action Plan Exists."/>
									</p:tooltip>
						</p:commandLink> 	 -->
						    </div>
						</p:column>

						<p:column>
							<f:facet name="header">
								<h:outputText value="#{msg.datePrescribed}"/>
							</f:facet>
							<div align="center"><h:outputText value="#{hepCClinicCurrentMeds.startDate}">
								<f:convertDateTime pattern="#{msg.dateFormat}" timeZone="#{userManageBean.loggedUsertimeZone}" dateStyle="full" type="date"/>
							</h:outputText></div>
						</p:column>

						<p:column>
							<f:facet name="header">
								<h:outputText value="#{msg.dose}"/>
							</f:facet>
							<div align="left">
							<h:outputText value="#{hepCClinicCurrentMeds.strengths}" />
							</div>
						</p:column>

						<p:column>
							<f:facet name="header">
								<h:outputText value="#{msg.regimen}" />
							</f:facet>
							<div align="left">
							<h:outputText value="#{hepCClinicCurrentMeds.unit}" />&nbsp;
							<h:outputText value="#{hepCClinicCurrentMeds.directions}" /></div>
						</p:column>
						

						<p:column >
							<f:facet name="header">
								<h:outputText value="#{msg.last_fill}"/>
							</f:facet>
						<div align="center">
							<h:outputText value="#{hepCClinicCurrentMeds.lastFillDate}">
								<f:convertDateTime pattern="#{msg.dateFormat}" timeZone="#{userManageBean.loggedUsertimeZone}" dateStyle="full" type="date" />
							</h:outputText>
							</div>
						</p:column>
						
						 <p:column width="7%">
							<f:facet name="header">
								<h:outputText value="#{msg.complianc}"/>
							</f:facet>
							<center><h:graphicImage value="./../../Images/green1.jpg" height="20px" id="complanceforgreen"
								width="20px"
								rendered="#{hepCClinicCurrentMeds.compliancePercentage gt 80	}" />
								
							<h:graphicImage value="./../../Images/orange1.j pg" height="20px"
								width="20px"
								rendered="#{hepCClinicCurrentMeds.compliancePercentage gt 60 and  hepCClinicCurrentMeds.compliancePercentage le 80}" />
								
							<h:graphicImage value="./../../Images/red1.jpg" height="20px" id="complanceforred"
								width="20px"
								rendered="#{hepCClinicCurrentMeds.compliancePercentage gt 0 and hepCClinicCurrentMeds.compliancePercentage le 60}" />
								
						
							<h:outputText value="N/A" id="complanceforwhite"
								width="20px"
								rendered="#{hepCClinicCurrentMeds.compliancePercentage eq 0}" /></center>
						
						 <p:tooltip for="complanceforgreen"  showEffect="clip" hideEffect="explode" >
				  <h:outputText value="Compliance=#{hepCClinicCurrentMeds.compliancePercentage}%" /><br />
				</p:tooltip>
						
						<p:tooltip for="complanceforred"  showEffect="clip" hideEffect="explode" >
				 
			
				  <h:outputText value="Compliance=#{hepCClinicCurrentMeds.compliancePercentage}%" /><br />
				</p:tooltip>
				
			
						</p:column>
						
						 <p:column>
						<f:facet name="header">
								<h:outputText value="#{msg.action}"/>
							</f:facet>
							
							
							<div align="center">
							<p:commandLink 
										action="#{patientMedicineManageBean.editClinicMeds}"
										oncomplete="medication_viewRx.show()">
									<f:setPropertyActionListener target="#{patientMedicineManageBean.clinicViewPatientMedicationData}" value="#{hepCClinicCurrentMeds}"></f:setPropertyActionListener>
							    <h:graphicImage value="./../../Images/editIcon.jpg"
										width="25px" height="20px" id="editanticogmedRX" />
									<p:tooltip for="editanticogmedRX" >
										<h:outputText value="#{msg.editRx}"/>
									</p:tooltip>			
							</p:commandLink>
							</div>
						</p:column>  
						</p:dataTable>
						</h:form> 
						</p:outputPanel>
						</td>
						</tr>
						</table>
						
					<br/>
					<!--Lab section:Start  -->
						<table>
						<tr>
							<td valign="top" style="width:50%;" >
							  <table width="100%" style="min-height:450px" class="secContentBorder" cellpadding="0" cellspacing="0">
							    <tr >
							      <td class="secHeadPart">#{msg.labs_label}</td>
							    </tr>
							    <tr class="secContentBorder">
							      <td>
							      
								
									<p:dataTable
											value="#{labManageBean.hepCLabResultList}"
											var="hepatitisCLabResult" id="hepatitisCLabDataTable"
											resizableColumns="true" scrollable="true" scrollHeight="305">
											<p:column headerText="#{msg.datePrescribed}">
												<div align="center">
													 <h:outputText value="#{hepatitisCLabResult.dateResult}">
														<f:convertDateTime pattern="#{msg.dateFormat}" />
													</h:outputText>
												</div>
											</p:column>
											<p:column headerText="#{msg.recent_lab}">
												<div align="left">
													<h:outputText value="#{hepatitisCLabResult.labName}" />
												</div>
											</p:column>
											<p:column headerText="#{msg.value}">
												<div align="right">
													<h:outputText value="#{hepatitisCLabResult.result}" />
												</div>
											</p:column>
											<p:column headerText="Acceptable Range">
												<div align="left">
													<h:outputText
														value="#{hepatitisCLabResult.labRange} #{hepatitisCLabResult.labUnit}"
														rendered="#{hepatitisCLabResult.labRange eq ''}" />
												</div>
											</p:column>
										</p:dataTable>
										
                                    
									</td>
							 </tr>
							 </table>
							 </td>
							 
							 
							<td   valign="top" style="width:70%;">
							 
							 
					
					  <table width="100%" class="secContentBorder" cellpadding="0" cellspacing="0">
					 
					  <tr>
							   <td class="secHeadPart">
							     
							      Drug Dose Response Curve
							     </td>
							   </tr>
                  <tr class="secContentBorder">
                  
                    <td >
                     <h:form id="hepCDrugDoseResponseCurveFrm" prependId="false">
          <table width="100%" >
        
              <tr style="background-color:rgb(174,208,234);">
				  <!--  <p:growl  id="p" showDetail="false" style="color:red;margin:8px;" closable="true" /> -->
				    					  
				<td   style="background-color:rgb(174,208,234);">
					<h:outputText value="Parameter:" style="font-family:verdana;font-size:12px;font-weight:bold;" /><br></br>
					
			
				<p:selectOneMenu  value="#{labManageBean.medandGenricmed.lab}"	   style="width:170px;"										
							     required="true" requiredMessage="Select Monitoring Parameter" >
									
										
										<f:selectItem itemLabel="Monitoring Parameter" />  
									
											<f:selectItems value="#{patientMedicineManageBean.hepCChartLabMonitoringParameterList}" 
												var="hepatitisCLab" itemLabel="#{hepatitisCLab.monitoringParameter} #{hepatitisCLab.labUnit}"
												itemValue="#{hepatitisCLab.monitoringParameter}"  />
										
									
									
									
										</p:selectOneMenu>
				</td>
				<td   style="background-color:rgb(174,208,234);">
										<h:outputText value="#{msg.drugs}:"
											style="font-family:Verdana;font-size:12px;font-weight:bold;" /><br></br>
											
										

												
						  <p:selectOneMenu value="#{labManageBean.medandGenricmed.medicinename}" 
											style="vertical-align: top;width:170px;"
							             required="true" requiredMessage="Select Drug" 	>
									
										  <f:selectItem itemLabel="#{msg.sedrug}" />  
									
											<f:selectItems value="#{patientMedicineManageBean.currentHepatitsCMedList}"
												var="hepatitisCMedAction" itemLabel="#{hepatitisCMedAction.drugs}"
												itemValue="#{hepatitisCMedAction.drugs}+ #{hepatitisCMedAction.drugNameId}"  />
									
										</p:selectOneMenu> 
									
				</td>
				  <td   style="background-color:rgb(174,208,234);"><h:outputText
											value="#{msg.time_duration}:"
											style="font-family:Verdana;font-size:12px;font-weight:bold;"/><br></br> 
				
									<p:selectOneMenu
											value="#{labManageBean.chartPeriod}"
											style="font-family:Verdana;width:140px;"
		                                  required="true" requiredMessage="Select Time Duration">
		                                  
								  <f:selectItem itemLabel="#{msg.select_time_duration}"/>  
											<f:selectItem itemLabel="#{msg.one_month}" itemValue="1m" />
											<f:selectItem itemLabel="#{msg.three_month}" itemValue="3m" />
											<f:selectItem itemLabel="#{msg.six_month}" itemValue="6m" />
											<f:selectItem itemLabel="#{msg.one_yr}" itemValue="1y" />
										</p:selectOneMenu>
					</td>
					
										 <td align="center" valign="bottom">
										 <p:commandButton
											value="#{msg.show_chart}"
												actionListener="#{labManageBean.getHepCMedActionPlanChartValue}"
								  	     oncomplete="handleComplete(xhr, status, args)"  update="hepCDrugDoseResponseCurveFrm" 
										style="valign:top;" /> 
					</td> 
					  <td align="center" valign="bottom">
					 <p:commandButton value="ShowLab" onclick="hepCMedActionPlanLabData.show()" style="valign:top;"  /></td>
					<td align="center" valign="bottom" width="15%">
					<p:commandButton value="ShowDose" onclick="hepCMedActionPlanDoseDetailData.show()" style="valign:top;"  /> 
					</td>   
					</tr>
					
					
					<tr>
					<td colspan="7">
          
     				
     				<script src="http://code.highcharts.com/highcharts.js"></script>
                  <script src="http://code.highcharts.com/modules/exporting.js"></script>

     <div id="container"  style=" height:350px; margin: 0 auto"></div> 
  <script>
//<![CDATA[
function handleComplete(xhr, status, args){
	                          
								$("#container").empty();
								
						        if(args.jsonDataSet !=null)
						        {
								//console.log("data set from bean "+args.jsonDataSet);
								
							 	var dataSetBar=args.jsonDataSet;
							 	
								var barchartDataSet=$.parseJSON(dataSetBar);
								
								
								 $.each(barchartDataSet, function(index, data) {
									// alert(barchartDataSet);
							        });
								
						
								  var dataset=barchartDataSet; 
								
								 var processed_json = new Array();
								 var inr = dataset.Lab;
                               
								 for(var i in inr)
								 {
									
								 var date= inr[i].longStartDate;
								
								 var reslt = inr[i].result;
								  // alert("result "+reslt) 
								  processed_json.push([(date),parseFloat(reslt)]);
								
								 }
								 var processed_json1 = new Array();
								var dose=dataset.Dose;
								for(var j in dose){
									var startDate=dose[j].longStartDate;
									var strength=dose[j].strength;
									 processed_json1.push([(startDate),parseFloat(strength)]);
									
								}
								
    
              
								 
								   var chart, defaultOptions, options;
								   //options.xAxis.categories = [];
						
                                   
							        $('#container').highcharts({
							            chart: {
							                zoomType: 'xy',
							                type: 'line'
							            },
							            title: {
							                text: ' '
							            },
							            subtitle: {
							                text: ' '
							            },
							            xAxis: {
							            	
							            	
						 	            	
						                type: "datetime",  
							              // categories: [processed_json] 
						                
						                   
						                dateTimeLabelFormats: { // don't display the dummy year
						                    month: '%e. %b. %y',
						                   
						                }

						                
						                   
						                
						                  
							            
							          		 
							                 
							            	 
							            },
							            yAxis: [{ // Primary yAxis
							            	showFirstLabel : true,
							                labels: {
							                	min: 0, 
							                    format:'{value}',
							                    style: {
							                        color: '#89A54E'
							                    }
							                },
							                title: {
							                    text: '#{labManageBean.medandGenricmed.medicinenameforgraph} (mg)',
							                    style: {
							                        color: '#89A54E'
							                    }
							                },
							                opposite: true
							               
							            },
							           
							            
							            { // Secondary yAxis
							                title: {
							                    text: '#{labManageBean.medandGenricmed.lab}  #{labManageBean.medandGenricmed.labUnit}',
							                    style: {
							                        color: '#4572A7'
							                    }
							                },
							              
							                    
							                labels: {
							                	min: 0,
							                    format: '{value}',
							                  
							                    style: {
							                        color: '#4572A7'
							                    }
							                
							                },
							               
							                
							            }],
							            tooltip: {
							            	
							            },
							            /*  legend: {
							                layout: 'vertical',
							                align: 'left',
							                x:12,
							                verticalAlign: 'top',
							                y:1,
							                floating: true,
							                backgroundColor: '#FFFFFF'
							            },  */
							            series: [{
							                name: 'Lab Value',
							                color: '#4572A7',
							                type: 'line',
							                yAxis: 1,
							                data: processed_json,
							              
							                tooltip: {
							                    valueSuffix: ''
							                }
							    
							            }, {
							                name: 'Dose',
							                color: '#89A54E',
							                step:true,
							              //  type: 'spline',
							               
							                
							                data: processed_json1,
							               
							          
							                tooltip: {
							                    valueSuffix: ''
							                }

							           
							            
							                
							            }]
							        }); 
							   
}

}
//]]>
							   </script>
     				
     				 
							  </td>
							  </tr>
							  </table> 
							    </h:form>
							  </td>
							  
					  </tr>
					
					</table>
					
					</td>
					</tr>
					
					</table>
					
				
							 
							
					
				
					
					
					<!-- ******************************** pop up start for Hepatitis C Edit  med action plan............................ -->
					
			<!-- 	<p:dialog id="editHepCMedActionPlanDialogId"
					widgetVar="editHepCActionPlan" 
					resizable="true" appendTo="@(body)" modal="true" dynamic="true"
					closable="false">
					<p:ajax event="close" update="editHepCMedActionPlanDialogId" />
					<h:form id="editHepCMedPlanFormId" prependId="false">
						<h:outputText value="#{patientMedicineManageBean.genericMedActionPlan.drugName} 
					#{patientMedicineManageBean.genericMedActionPlan.strength} 
					#{patientMedicineManageBean.genericMedActionPlan.regimen}"/>
						<table width="100%" style="border:1px solid;" >
							<tr style="border:1px solid;">
								<td>
								<h:outputText value="#{msg.monitoring_parameter_label}" />
								</td>
								<h:outputText value="#{patientMedicineManageBean.genericMedActionPlan.monitoringParameter}"></h:outputText>
								
								<td align="center">
								<h:outputText value="#{msg.goal}" />
								</td>
								
								<td >
								<h:outputText value="#{msg.frequency_no}" />
								</td>
								<td align="center">
								 <h:outputText value="#{msg.frequency_unit}"></h:outputText>
								</td>
								 <td>
							 <h:outputText value="#{msg.dosing_start_date}"/>
							</td> 
								<td  align="center">
								<h:outputText value="#{msg.alert_level_label}" />
							</td>
							
							</tr>
							<tr style="border:1px solid;">						
								<td>
								<h:outputText value="#{patientMedicineManageBean.genericMedActionPlan.parameterShortName}" />
								</td>
								  <td style="border:none;">
									<table>
									<tr>
									<td>
									<p:selectOneMenu value="#{patientMedicineManageBean.genericMedActionPlan.goalRangeSymbol}">
									<f:selectItems value="#{patientMedicineManageBean.alertSymbolsList}" var="goalRange" itemLabel="#{goalRange.key}"
									itemValue="#{goalRange.value}"/>
									</p:selectOneMenu>
									</td>
									<td>
									<p:inputText value="#{patientMedicineManageBean.genericMedActionPlan.goalRangeValue}" size="2"></p:inputText>
									</td>
									<td>
									<h:outputText value="#{msg.or_label}" />
									</td>
									<td>
									   <p:selectOneMenu value="#{patientMedicineManageBean.genericMedActionPlan.goalRangeEndSymbol}">
												<f:selectItems
													value="#{patientMedicineManageBean.alertSymbolsList}"
													var="goalRangeEndObj" itemLabel="#{goalRangeEndObj.key}"
													itemValue="#{goalRangeEndObj.value}" />
										</p:selectOneMenu>
									</td>
									<td>
									   <p:inputText value="#{patientMedicineManageBean.genericMedActionPlan.goalRangeEndValue}" size="2"></p:inputText>
									</td>
									</tr>
									</table>
								</td>
								<td>
								<p:selectOneMenu value="#{patientMedicineManageBean.genericMedActionPlan.frequencyNo}" style="width:50px;">
									<f:selectItems value="#{patientMedicineManageBean.frequencyNoList}" var="frequencyNo" itemLabel="#{frequencyNo.key}"
									itemValue="#{frequencyNo.value}"/>
									</p:selectOneMenu>
								</td>							 
								<td>
								  <p:selectOneMenu value="#{patientMedicineManageBean.genericMedActionPlan.frequencyUnit}"  >
									<f:selectItems value="#{patientMedicineManageBean.frequencyList}" var="frequencyRange" itemLabel="#{frequencyRange.key}"
									itemValue="#{frequencyRange.value}"/>
									</p:selectOneMenu> 
								</td>
								<td >
													<p:calendar value="#{patientMedicineManageBean.genericMedActionPlan.dosingStartDate}"></p:calendar>
													</td>
								
									<td style="border:none;">
<table>
										<tr>
											<td><h:graphicImage value="./../../Images/red1.jpg"
													height="15px" width="20px" /></td>
											<td><p:selectOneMenu
													value="#{patientMedicineManageBean.genericMedActionPlan.alertSevereLowRangeSymbol}">
													<f:selectItems
														value="#{patientMedicineManageBean.alertSymbolsList}"
														var="symSevereLowRange"
														itemLabel="#{symSevereLowRange.key}"
														itemValue="#{symSevereLowRange.value}" />
												</p:selectOneMenu></td>
											<td><p:inputText
													value="#{patientMedicineManageBean.genericMedActionPlan.alertSevereLowRangeValue}"
													size="2"></p:inputText></td>
											<td><h:outputText value="#{msg.or_label}" /></td>
											<td><p:selectOneMenu
													value="#{patientMedicineManageBean.genericMedActionPlan.alertSevereHighRangeSymbol}">
													<f:selectItems
														value="#{patientMedicineManageBean.alertSymbolsList}"
														var="symSevereHighRange"
														itemLabel="#{symSevereHighRange.key}"
														itemValue="#{symSevereHighRange.value}" />
												</p:selectOneMenu></td>
											<td><p:inputText
													value="#{patientMedicineManageBean.genericMedActionPlan.alertSevereHighRangeValue}"
													size="2"></p:inputText></td>
													
													
										
										</tr>
										<tr>
											<td><h:graphicImage value="./../../Images/orange1.jpg"
													height="15px" width="20px" /></td>
											<td><p:selectOneMenu
													value="#{patientMedicineManageBean.genericMedActionPlan.alertMediumLowRangeSymbol}">
													<f:selectItems
														value="#{patientMedicineManageBean.alertSymbolsList}"
														var="symMediumLowRange"
														itemLabel="#{symMediumLowRange.key}"
														itemValue="#{symMediumLowRange.value}" />
												</p:selectOneMenu></td>
											<td><p:inputText
													value="#{patientMedicineManageBean.genericMedActionPlan.alertMediumLowRangeValue}"
													size="2"></p:inputText></td>
											<td><h:outputText value="#{msg.or_label}" /></td>
											<td><p:selectOneMenu
													value="#{patientMedicineManageBean.genericMedActionPlan.alertMediumHighRangeSymbol}">
													<f:selectItems
														value="#{patientMedicineManageBean.alertSymbolsList}"
														var="symMediumHighRange"
														itemLabel="#{symMediumHighRange.key}"
														itemValue="#{symMediumHighRange.value}" />
												</p:selectOneMenu></td>
											<td><p:inputText
													value="#{patientMedicineManageBean.genericMedActionPlan.alertMediumHighRangeValue}"
													size="2"></p:inputText></td>
													
										</tr>
									
										
									</table>


								</td>
							
							</tr>

						</table>
						<table align="center">
						<tr>
						<td>
							 <p:commandButton value="#{msg.cancel}"
										onclick="editGenericMedicalActionPlan.hide()"
										update=":editHepCMedActionPlanDialogId"></p:commandButton> 
						</td>
						<td>
					
										<p:commandButton value="#{msg.done}"
										action="#{patientMedicineManageBean.updateGenericMedActionPlan}"
										oncomplete="editGenericMedicalActionPlan.hide()" update=":hepCMedActionPlanFrm:hepCMedActionPlan"
										></p:commandButton>
						</td>
						</tr>
						</table>
					</h:form>
				</p:dialog> -->
				<!-- ******************************** pop up End for Hepatitis C Edit med  action plan............................ -->
				
				<!--*********************   Pop up start for Hepatitis C Delete Med Action Plan  ********************** -->
				<p:dialog widgetVar="deleteHepCMedActionPlan" id="deleteDialogHepCMedAction"
					header="Are you Sure you want to delete?"
					message="Are you Sure you want to delete?" width="260"
					closable="false" modal="true" appendTo="@(body)"  dynamic="true">
					<p:ajax event="close" update="" />
					<h:form id="deleteHepCMedActionPlanFormId" prependId="false">
					 <h:panelGroup layout="block" style="text-align: center"> 
						<p:commandButton value="Yes" 
							actionListener="#{patientMedicineManageBean.deleteGenericMedActionPlan}"
							oncomplete="deleteHepCMedActionPlan.hide();"
							 update=":hepCMedActionPlanFrm:hepCMedActionPlan"/>
						<p:commandButton value="No" oncomplete="deleteHepCMedActionPlan.hide();" />
					 </h:panelGroup> 
					</h:form>
				</p:dialog>
				<!--************************  Pop up end  for HEP C  delete Med Action Plan *****************   -->
				
				<!-- *********************************pop up start for display of view RX..... -->
  <p:dialog widgetVar="medication_viewRx" resizable="fales"
	appendTo="@(body)" modal="true" header="#{msg.editRx}" position="center"
	dynamic="true" height="380" width="1000"  
	draggable="true" closable="false">
	<h:form id="medviewRx1">

		
		<p:panelGrid id="panel" columns="4" border="1">
			<h:outputText value="#{msg.currentmedicine}"
				style="font-size: 10px; font-family: verdana;font-weight: bold" />
			<h:outputText
				value="#{patientMedicineManageBean.patientMedicationData.drugs}" />
			<h:outputText
				value="#{patientMedicineManageBean.patientMedicationData.strengths}" />
			<h:outputText
				value="#{patientMedicineManageBean.patientMedicationData.directions}" />
		</p:panelGrid>
		
			
			<p:outputPanel deferred="true" deferredMode="visible" rendered="#{patientMedicineManageBean.pharmacogenomicInteractionDetailList.size() ge 1}">
						
							
							<table>	
							<tr>
							
							<td><h:outputText value="Pharmacogenomics:"  style="font-weight:bold;color:red;"/></td>
								<td>
									
										<p:commandLink id="grow3"   style="text-decoration:underline;" onmouseover="showDetails3.show();" onmouseout="showDetails3.hide();">
											<h:outputText value="#{patientMedicineManageBean.pharmacogenomicInteractionDetailList.size()}" escape="false" style="color:red;"/>		
								             &nbsp;<h:outputText value="Interactions detected" style="color:red;"/>
								          </p:commandLink>  
								          
								          <!-- <p:tooltip for="grow3"  showEffect="clip" style="width:44%; position:relative; margin-left:-8%;" > -->
								          
								          <p:dialog widgetVar="showDetails3" showEffect="clip" hideEffect="clip" width="600"
								              			closable="false" appendTo="@(body)">
								             		
								             	<f:facet name="header">
								             					<h:outputText value="Pharmacogenomics"></h:outputText>
								             				</f:facet>
								             
								             					<p:dataTable value="#{patientMedicineManageBean.pharmacogenomicInteractionDetailList}" var="pharmacogenomicInteractionDetail" >
										
																	<p:column styleClass="wrap">
																		<f:facet name="header">
																			<h:outputText value="Gene" />
																		</f:facet>
																		<h:outputText value="#{pharmacogenomicInteractionDetail.gene1}"  />  
																	</p:column> 
																	
																	<p:column styleClass="wrap">
																		<f:facet name="header">
																			<h:outputText value="Phenotype" />
																		</f:facet>
																		<h:outputText value="#{pharmacogenomicInteractionDetail.phenotype}"  />  
																	</p:column> 
																	
																	<p:column styleClass="wrap">
																		<f:facet name="header">
																			<h:outputText value="Impact" />
																		</f:facet>
																		<h:outputText value="#{pharmacogenomicInteractionDetail.impact}"  />  
																	</p:column>
																	
																	<p:column styleClass="wrap">
																		<f:facet name="header">
																			<h:outputText value="Implications" />
																		</f:facet>
																		<h:outputText value="#{pharmacogenomicInteractionDetail.implications}"  />  
																	</p:column>
																	
																	<p:column styleClass="wrap">
																		<f:facet name="header">
																			<h:outputText value="Recommendation" />
																		</f:facet>
																		<h:outputText value="#{pharmacogenomicInteractionDetail.recommendation}"  />  
																	</p:column>
																	
																	
																</p:dataTable>
								             			
								             	 <!-- </p:tooltip> -->
								             	 
								             	 </p:dialog>
								             	 
								        
								      
								</td>
								
								<td>
										<h:outputText value="Hightest Severity:"  style="font-weight:bold;color:red;"/>&nbsp;
										
										<h:outputText value="#{patientMedicineManageBean.highestServityForpharmacogenomic}" rendered="#{patientMedicineManageBean.highestServityForpharmacogenomic eq 'High'}"
										style="text-decoration:none;color:red;"/>
										<h:outputText value="#{patientMedicineManageBean.highestServityForpharmacogenomic}" rendered="#{patientMedicineManageBean.highestServityForpharmacogenomic eq 'Medium'}"
										style="text-decoration:none;color:orange;"/>
										<h:outputText value="#{patientMedicineManageBean.highestServityForpharmacogenomic}" rendered="#{patientMedicineManageBean.highestServityForpharmacogenomic eq 'Low'}"
										style="text-decoration:none;color:green;"/>	
												
												<!-- <ui:repeat var="drugServityDetail" 
														value="#{patientMedicineManageBean.drugPharmaInterectionListDetail}"
														varStatus="loop">
											         #{drugServityDetail.severityLevel}
											              #{!loop.last ? ', ' : ''} 
								            
										</ui:repeat> -->
								</td>
							</tr>
					</table>
							
				</p:outputPanel>
			
		<br />

		
 
 <table>
			<tr>
				<th>
					<h:outputText value="#{msg.reasonforchange}"
						style="font-size: 10px; font-family: verdana;font-weight: bold" />
				</th>
				
				<th>
					 <h:outputText value="#{msg.suggestedalternatives}"
						style="font-size: 10px; font-family: verdana;font-weight: bold;" />
				</th>
			</tr>
			
			<tr>
				<td>
					<h:outputText value="#{msg.formulary}" />
				</td>
				
				<td>
					<h:outputText value="#{msg.not_applicable}"  rendered="#{patientMedicineManageBean.patientMedicationData.formularySymbol eq 'Tier 1' || patientMedicineManageBean.patientMedicationData.formularySymbol eq 'On Formulary'}"/>
					<h:outputText value="#{msg.formulary_alternative}" rendered="#{(patientMedicineManageBean.patientMedicationData.formularySymbol eq 'tier 3' || patientMedicineManageBean.patientMedicationData.formularySymbol eq 'Non Formulary' || patientMedicineManageBean.patientMedicationData.formularySymbol eq 'Not Reimbursed') and (patientMedicineManageBean.alternativeMedicine.size() eq 0)}">
					</h:outputText>
				
				 	<p:outputPanel  rendered="#{(patientMedicineManageBean.patientMedicationData.formularySymbol eq 'tier 3' || patientMedicineManageBean.patientMedicationData.formularySymbol eq 'Non Formulary' || patientMedicineManageBean.patientMedicationData.formularySymbol eq 'Not Reimbursed') and (patientMedicineManageBean.alternativeMedicine.size() ge 1)}">
							<ui:repeat var="alternativeMed" 
								value="#{patientMedicineManageBean.alternativeMedicine}" 	varStatus="loop1">
			                   		#{alternativeMed} 
			                      		#{!loop1.last ? ', ' : ''} 
                 		 	</ui:repeat> 
    				 </p:outputPanel>
       
					<h:outputText value="#{msg.no_suggetion}" rendered="#{(patientMedicineManageBean.patientMedicationData.formularySymbol eq 'Tier 2' || patientMedicineManageBean.patientMedicationData.formularySymbol eq 'Unlisted Drug') and (patientMedicineManageBean.alternativeMedicine.size() eq 0)}">
			  			<ui:repeat var="alternativeMed" 
							value="#{patientMedicineManageBean.alternativeMedicine}" varStatus="loop1">
			                   #{alternativeMed} 
			                      #{!loop1.last ? ', ' : ''} 
			         	</ui:repeat> 
         			</h:outputText>
				
				</td>
			</tr>
			
			<tr>
				<td>
					<h:outputText value="#{msg.pharmacogenomicinteraction}" />
				</td>
				
				<td>
					<h:outputText value="#{patientMedicineManageBean.patientMedicationData.recomendation}" rendered="#{patientMedicineManageBean.patientMedicationData.attentionRating eq 'High' || patientMedicineManageBean.patientMedicationData.attentionRating eq 'Medium'}"/>
					 <h:outputText value="#{msg.no_recomendation}" rendered="#{patientMedicineManageBean.patientMedicationData.attentionRating eq 'Low' || patientMedicineManageBean.patientMedicationData.attentionRating eq null}"/> 
					
				</td>
			</tr>
			
			<tr>
				<td>
					<h:outputText value="#{msg.compliance}" />
				</td>
				 
				<td>
						<h:outputText value="Consider investigating formulary and/or regimen issues and conducting patient education." rendered="#{patientMedicineManageBean.patientMedicationData.formularySymbol ne 'tier 3'}"/>
						<h:outputText value="#{msg.consider_for_compliance}" 
							rendered="#{(patientMedicineManageBean.patientMedicationData.formularySymbol eq 'tier 3' || patientMedicineManageBean.patientMedicationData.formularySymbol eq 'Non Formulary' || patientMedicineManageBean.patientMedicationData.formularySymbol eq 'Not Reimbursed' || patientMedicineManageBean.patientMedicationData.formularySymbol eq 'Unlisted Drug') and (patientMedicineManageBean.patientMedicationData.compliancePercentage gt 0 and  patientMedicineManageBean.patientMedicationData.compliancePercentage  le 60 || patientMedicineManageBean.patientMedicationData.compliancePercentage gt 60 and  patientMedicineManageBean.patientMedicationData.compliancePercentage  le 80) }"/>	
				
				</td>
			</tr>
		</table>
 
 
 
		<p:panel>
			<table>
				<tr>
					<td><h:outputText value="#{msg.intervention}" /></td>
					<td><p:selectOneRadio id="options"
							value="#{patientMedicineManageBean.selectIntervention}">
							<f:selectItem itemLabel="Discontinue Med" itemValue="1" />
							<f:selectItem itemLabel="Change Med" itemValue="2" />
							<f:selectItem itemLabel="Send Message To" itemValue="6" />
							
							
		


							<p:ajax event="click"
								listener="#{patientMedicineManageBean.checkSelectIntervention}"
								execute="@this" update=":medviewRx1,ShowRxTab"></p:ajax>
						</p:selectOneRadio>
					
						</td>
                              <td>
						
						
							<p:selectOneMenu 
										value="#{patientMedicineManageBean.sendMessageEditRx.sendMsgToDocName}" 
										 style="width:200px;">
										
										<f:selectItems value="#{patientManageBean.careTeamListForPatient}"
											var="unitList" itemLabel="#{unitList.fName} #{unitList.lName}" itemValue="#{unitList.fName} #{unitList.lName}" />
											
									</p:selectOneMenu>
									
								
						</td> 
				</tr>

			</table>
		</p:panel>

		<br />
	<p:outputPanel id="ShowRxTab">
		<p:fieldset rendered="#{patientMedicineManageBean.showRxTab}"
			>
			<table>
				<tr>
					<td>
						<table border="1">
							<tr>
								<td bgcolor="grey" align="center"><h:outputText
										value="#{msg.med}" /></td>

								<td bgcolor="grey" align="center"><h:outputText
										value="Strength" /></td>
										
										<td bgcolor="grey" align="center"><h:outputText
										value="Unit" /></td>
										
										<td bgcolor="grey" align="center"><h:outputText
										value="Dosage form" /></td>
										
										<!-- <td bgcolor="grey" align="center"><h:outputText
										value=" Package" /></td> -->
										
										<td bgcolor="grey" align="center"><h:outputText
										value="Route" /></td>
										
								<td bgcolor="grey" align="center"><h:outputText
										value="#{msg.regimen}" /></td>		

								<td bgcolor="grey" align="center"><h:outputText
										value="Dispense" /></td>
										
										<td bgcolor="grey" align="center"><h:outputText
											value="Days Supply" /></td>
										

								 <td bgcolor="grey" align="center">
											<h:outputText value="Refill" />
											</td> 

								<td bgcolor="grey" align="center"><h:outputText
										value="#{msg.clinic}" /></td>
										
							</tr>

							<tr>
								<td>
									
									<p:inputText
										value="#{patientMedicineManageBean.patientMedicationData.drugs}"
										readonly="true" style="width:100px;"
										rendered="#{patientMedicineManageBean.selectIntervention eq 3 || patientMedicineManageBean.selectIntervention eq 4}" />
									<p:selectOneMenu
										rendered="#{patientMedicineManageBean.selectIntervention eq 2 || patientMedicineManageBean.selectIntervention eq 5}"
										value="#{patientMedicineManageBean.patientMedicationData.drugs}"
										style="width:100px;">
										<!-- <p:ajax
											listener="#{patientMedicineManageBean.checkMedicineForMedActionPlanForViewRx}"
											></p:ajax> -->
								 <f:selectItem
											itemLabel="#{patientMedicineManageBean.patientMedicationData.drugs}"
											itemValue="#{patientMedicineManageBean.patientMedicationData.drugs}" />
										<f:selectItems
											value="#{patientMedicineManageBean.alternativeMedicine}"
											var="altMedname" itemLabel="#{altMedname}"
											itemValue="#{altMedname}" />

									</p:selectOneMenu>
								</td>
								
								<td>
										<p:selectOneMenu  id="strengthId"
										value="#{patientMedicineManageBean.patientMedicationData.strengths}"
										styleClass="viewRxTable">
										<!-- <f:selectItem
											itemLabel="#{patientMedicineManageBean.patientMedicationData.strengths}"
											itemValue="#{patientMedicineManageBean.patientMedicationData.strengths}" /> -->
										<f:selectItems value="#{patientMedicineManageBean.doseDetailList}"
											var="doseList" itemLabel="#{doseList.dose}" itemValue="#{doseList.dose}" />
											
												<p:ajax listener="#{patientMedicineManageBean.findParticularDrugId}"  update="strengthId"></p:ajax>	
									</p:selectOneMenu>
							
										</td>
							
								
								<td>
	 	 	 	 					<p:selectOneMenu 
										value="#{patientMedicineManageBean.patientMedicationData.unit}" 
										 style="width:80px;">
										
										<f:selectItems value="#{patientMedicineManageBean.unitSummaryList}"
											var="unitList" itemLabel="#{unitList.unit}" itemValue="#{unitList.unit}" />
											
											<p:ajax listener="#{patientMedicineManageBean.calculateTotalDispence}" update="dispenceNumber"></p:ajax>	
									</p:selectOneMenu>
	 	 	 	 			</td>
	 	 	 	 			
	 	 	 	 			<td>
	 	 	 	 			
	 	 	 	 			
									
								<p:inputText  value="#{patientMedicineManageBean.patientMedicationData.dosageForm}" readonly="true"></p:inputText>		
								
	 	 	 	 		</td>
	 	 	 	 		
	 	 	 	 		<td>
	 	 	 	 			
									<p:inputText  value="#{patientMedicineManageBean.patientMedicationData.byRoute}" readonly="true"></p:inputText>
	 	 	 	 		</td>
	 	 	 	 		
	 	 	 	 		<td>
										<p:selectOneMenu  id="updateRegimen"
											value="#{patientMedicineManageBean.patientMedicationData.directions}" 
											style="width:90px;"  >
											<f:selectItem itemLabel="" itemValue=""  />
											<f:selectItems value="#{patientMedicineManageBean.regimenList}" 
												var="regimen" itemLabel="#{regimen}" itemValue="#{regimen}" />
											
										<p:ajax listener="#{patientMedicineManageBean.calculateTotalDispence}"  update="medviewRx1:dispenceNumber" ></p:ajax>	
									</p:selectOneMenu>
								</td>
	 	 	 	 	
	 	 	 	 	<td>
							<p:inputText id="dispenceNumber" style="width:40px;" converter="#{Integer}" maxlength="3" 
										value="#{patientMedicineManageBean.patientMedicationData.quantity}" >
								<f:convertNumber  pattern="#0" integerOnly="true"  minFractionDigits="3" maxIntegerDigits="3" type="number"/>
							</p:inputText>
						</td>
						
						
						
						<td>
							<p:selectOneMenu 
										value="#{patientMedicineManageBean.patientMedicationData.daySupply}"
										style="width:80px;">
										<!-- <f:selectItem itemLabel="#{patientMedicineManageBean.patientMedicationData.daySupply}" itemValue="#{patientMedicineManageBean.patientMedicationData.daySupply}"  /> -->
										<f:selectItems value="#{patientMedicineManageBean.daySupplyList}"
											var="daySupplyDetailList" itemLabel="#{daySupplyDetailList}" itemValue="#{daySupplyDetailList}" />
										
										<p:ajax listener="#{patientMedicineManageBean.calculateTotalDispence}" update="dispenceNumber"></p:ajax>	
										
									</p:selectOneMenu>
						</td>
						
						
						<td>
						
									
						
						<p:selectOneMenu required="true" 
										value="#{patientMedicineManageBean.patientMedicationData.reffils}"
										style="width:60px;">
										
										<f:selectItems value="#{patientMedicineManageBean.refillDetailsList}"
											var="refillList" itemLabel="#{refillList}" itemValue="#{refillList}" />
										
									</p:selectOneMenu>
						</td>
						
						<td>
									
									<p:selectOneMenu style="width:100px;"
										value="#{patientMedicineManageBean.patientMedicationData.clinicName}"
										styleClass="viewRxTable">
										 <f:selectItem itemLabel="" itemValue="" /> 
										<f:selectItems value="#{patientManageBean.clinicMasterList}"
											var="clinicList" itemLabel="#{clinicList.clinicName}"
											itemValue="#{clinicList.clinicName}" />
									</p:selectOneMenu>
								</td>

							</tr>

						</table>
						
					</td>
				</tr>
			</table>

			<br />
		</p:fieldset>
	</p:outputPanel>
		<table>
				<tr>
					<td>
					<h:outputText value="#{msg.coment}"
					styleClass="fontsize" /></td></tr>
					<tr>
					<td>
					<p:inputTextarea cols="134" rows="5"
							value="#{patientMedicineManageBean.patientMedicationData.drugsNotes}"></p:inputTextarea>
						
					</td>
				</tr>
			</table>
		<div style="text-align: center;"> 
		<p:outputPanel id="makeChangeUpdate">
		<p:commandButton value="#{msg.makechange}" 
			actionListener ="#{patientMedicineManageBean.checkMessageForEDITMedsHavingMedActionPlanOrNot}" oncomplete="medication_viewRx.hide();"
			rendered="#{patientMedicineManageBean.selectIntervention eq '2'}" ></p:commandButton>
			
			<p:commandButton value="#{msg.makechange}" actionListener ="#{patientMedicineManageBean.checkMessageForMedActionPlanOrNot}"
			
				rendered="#{patientMedicineManageBean.selectIntervention eq '0' or patientMedicineManageBean.selectIntervention eq '1'}"
				 
				>
				<!-- <p:confirm   header="Confirmation" message="Are you sure you want to permanently delete this medication?" icon="ui-icon-alert"  /> -->  

			</p:commandButton>

			<!--  <p:confirmDialog global="true" showEffect="fade" hideEffect="explode" >  
       					 <p:commandButton value="Yes" type="button" styleClass="ui-confirmdialog-yes" icon="ui-icon-check" 
       					 	/>  
       					 <p:commandButton value="No" type="button" styleClass="ui-confirmdialog-no" icon="ui-icon-close"/>       
    				</p:confirmDialog>  -->
			
			<p:commandButton value="#{msg.makechange}" rendered="#{patientMedicineManageBean.selectIntervention eq '6'}"
				 
				action="#{patientMedicineManageBean.saveMedicineChangesOnViewRx}"  ajax="false">

			</p:commandButton> 
			
			<p:commandButton value="#{msg.cancel}" action="#{patientMedicineManageBean.submitCancelButtonForAnticoag}" immediate="true">
						</p:commandButton>
		
		</p:outputPanel>
		</div>
	</h:form>
</p:dialog>

<!--****************** end pop up for view RX               ********************************* -->

<!--  message show when user delete any meds if meds having med action plan.... start.... -->
	<p:dialog widgetVar="confirmBoxShowForHavingMedActionPlan" resizable="true" appendTo="@(body)" modal="true" closable="false"
	 dynamic="true">
	<h:form id="confirmBoxShowFormId">
	<h:outputText value="Do you want to delete the associated med action plan?"></h:outputText>&nbsp;&nbsp;&nbsp;
	<p:commandButton value="Yes"
				
				action="#{patientMedicineManageBean.saveMedicineChangesOnViewRx}" ajax="false" >

				<f:param value="yes" name="status" ></f:param>

			</p:commandButton> 
			
			<p:commandButton value="No"
				
				action="#{patientMedicineManageBean.saveMedicineChangesOnViewRx}">

				<f:param value="no" name="status"></f:param>

			</p:commandButton> 
	</h:form>
	</p:dialog>
	
	
	<!--  message show when user modifie  any meds if meds having med action plan.... start.... -->
	<p:dialog widgetVar="confirmBoxShowForDontHavingMedActionPlan" resizable="true" appendTo="@(body)" modal="true" closable="false"
	 dynamic="true">
	<h:form id="confirmBoxShowForDontHavingMedActionPlanFormId">
	<h:outputText value="Are you sure you want to modify medicine"></h:outputText>&nbsp;&nbsp;&nbsp;
	<p:commandButton value="Yes"
				
				action="#{patientMedicineManageBean.saveMedicineChangesOnViewRx}" ajax="false" >

			<f:param value="no" name="status"></f:param>

			</p:commandButton> 
			
			<p:commandButton value="No"
				onclick="confirmBoxShowForDontHavingMedActionPlan.hide();"  >
			</p:commandButton> 
	</h:form>
	</p:dialog>
	
	
	<!--  message show pop up start  when user modifie  any meds..without any med action plan.. -->
	<p:dialog widgetVar="withoutMedActionPlanMessageShowForDelete" resizable="true" appendTo="@(body)"  modal="true" closable="false"
	 dynamic="true">
	<h:form id="withoutMedActionPlanMessageShowForDeleteFormId">
	
		<h:outputText value="Are you sure delete this medicine"></h:outputText>&nbsp;&nbsp;&nbsp;

		<p:commandButton value="Yes"
				action="#{patientMedicineManageBean.saveMedicineChangesOnViewRx}" ajax="false">
			</p:commandButton> 
			<p:commandButton value="No"
				onclick="withoutMedActionPlanMessageShowForDelete.hide();" >
			</p:commandButton> 
	</h:form>
	</p:dialog>
	
	<!--  message show pop up end when user delete any meds..without any med action plan.. -->
	
	
	<!--  message show pop up start  when Meds have med action plan -->
	<p:dialog widgetVar="medActionPlanMessageShowForDelete" resizable="true" appendTo="@(body)"  modal="true" closable="false"
	 dynamic="true">
	<h:form id="medActionPlanMessageShowForDeleteFormId">
		<h:outputText value="Do you want to delete associated med action plan?"></h:outputText>&nbsp;&nbsp;&nbsp;
		
		<p:commandButton value="Yes"
				action="#{patientMedicineManageBean.saveMedicineChangesOnViewRx}" ajax="false">
			</p:commandButton> 
			
			<p:commandButton value="No"
				onclick="medActionPlanMessageShowForDelete.hide();" >

			</p:commandButton> 
	</h:form>
	</p:dialog>
	
	<!--  message show pop up end when user delete any meds..having med action plan. -->
	
	
	 <!-- pop up start for show lab data for drug response chart -->
				
				<p:dialog widgetVar="hepCMedActionPlanLabData" header="#{msg.lab_detail}" appendTo="@(body)" hideEffect="fold" resizable="true" 
					dynamic="true" position="450,70" styleClass="contentPan" closable="true" height="250" width="400" id="labDetailDialogId">
					<p:ajax event="close" update="labDetailDialogId"></p:ajax>
					
					 <p:dataTable value="#{labManageBean.hepCMedActionPlanLabDataList}" var="labresult" styleClass="contentArea" scrollHeight="150" emptyMessage="#{msg.noMedFound}">
					 
					 
					  <p:column styleClass="contentPan">
					   <f:facet name="header">
                                <h:outputText value="#{msg.lab_date}"/>
                                                    </f:facet>
					   <h:outputText value="#{labresult.dateResult}">
					 <f:convertDateTime pattern="#{msg.dateFormat}"  timeZone="#{userManageBean.loggedUsertimeZone}"  dateStyle="full" type="date"/> 
					   </h:outputText>
					  </p:column>
					  
					  <p:column styleClass="contentPan">
					   <f:facet name="header">
                                <h:outputText value="#{msg.lab_result}"/>
                                                    </f:facet>
					   <h:outputText value="#{labresult.result}"> 
					   </h:outputText>
					  </p:column>
					 </p:dataTable>
				 
					</p:dialog>
				<!-- pop up end for show lab data for drug response chart -->
				
				
				<!-- pop up start for show drug dose for drug response chart -->
				
				<p:dialog widgetVar="hepCMedActionPlanDoseDetailData" header="#{msg.dose_detail}"  appendTo="@(body)" hideEffect="fold" resizable="true" 
					dynamic="true" position="450,70" styleClass="contentPan" closable="true" height="250" width="400" id="doseDetailDialogId">
					
						<p:ajax event="close" update="doseDetailDialogId" />
					
					 <p:dataTable value="#{labManageBean.medicineDetailForGraphList}" var="doseresult" styleClass="contentArea" scrollHeight="150" emptyMessage="#{msg.noMedFound}">
					  
					  <p:column styleClass="contentPan">
					  <f:facet name="header">
                                <h:outputText value="#{msg.date}"/>
                                                    </f:facet>
					   <h:outputText value="#{doseresult.startDate}">
					 <f:convertDateTime pattern="#{msg.dateFormat}"  dateStyle="full" type="date"/> 
					   </h:outputText>
					  </p:column>
					  
					  <p:column styleClass="contentPan">
					  <f:facet name="header">
                                <h:outputText value="#{msg.directions}"/>
                                                    </f:facet>
					   <h:outputText value="#{doseresult.direction}">
					   </h:outputText>
					  </p:column>
					  
					  <p:column styleClass="contentPan">
					  <f:facet name="header">
                                <h:outputText value="#{msg.direction_value}"/>
                                                    </f:facet>
					   <h:outputText value="#{doseresult.directionvalue}">
					   </h:outputText>
					  </p:column>
					  
					  <p:column styleClass="contentPan">
					  <f:facet name="header">
                                <h:outputText value="#{msg.dose}"/>
                                                    </f:facet>
					   <h:outputText value="#{doseresult.dose}">
					   </h:outputText>
					  </p:column>
					  
					  <p:column styleClass="contentPan">
					   <f:facet name="header">
                                <h:outputText value="#{msg.result}"/>
                                                    </f:facet>
					   <h:outputText value="#{doseresult.directionvalue}*#{doseresult.dose}="> 
					   </h:outputText>
					   <h:outputText value="#{doseresult.strength}">
					   </h:outputText>
					  </p:column>
					 </p:dataTable>
				 
					</p:dialog>
				<!-- pop up end for show drug dose for drug response chart -->
				
				
				
	<!-- ******************************** pop up start for general med action plan............................ -->
			 	
			 	<p:dialog id="genericMedActionPlanDialogHepId"
					widgetVar="editGenericMedicalActionPlan" 
					resizable="true"  modal="true" dynamic="true"
					closable="false" draggable="true"  height="300px" appendTo="@(body)">
					 <p:ajax event="close" update="genericMedActionPlanDialogHepId" />
					 <p:growl id="growl" showDetail="true"  widgetVar="growlMsg"/> 
					<h:form id="newGenericMedPlanFormIdforfilterHepId">
					 
					<table>
					<tr>
					<td>
					<h:outputText styleClass="outputtext"  value="#{patientMedicineManageBean.patientMedicationData.drugs}"/>&nbsp; 
					<h:outputText styleClass="outputtext"  value="#{patientMedicineManageBean.patientMedicationData.strengths},"/>&nbsp;
					<h:outputText styleClass="outputtext"  value="#{patientMedicineManageBean.patientMedicationData.unit}"/>&nbsp; 
					<h:outputText styleClass="outputtext"  value="#{patientMedicineManageBean.patientMedicationData.dosageForm}" rendered="#{patientMedicineManageBean.patientMedicationData.dosageForm ne 'Add Sig'}" />&nbsp;
					<h:outputText styleClass="outputtext"  value="#{patientMedicineManageBean.patientMedicationData.directions}" rendered="#{patientMedicineManageBean.patientMedicationData.directions ne 'Add Sig'}"/>
					</td>
					<td></td>
					<!-- <p:spacer width="200px;"></p:spacer> -->
					<td></td>
					</tr>
					<tr>
					<td>
					<h:outputText value="Diagnosis" styleClass="outputtext" />: <h:outputText  id="diagnosisNameIdGMAPObj" value="#{patientMedicineManageBean.patientDiagnosesDetailsObj.code}" /> 
					<!--  <h:outputText id="diagnosisNameId" value="#{patientMedicineManageBean.genericMedActionPlanList.get(0).diagnosisName}" rendered="#{patientMedicineManageBean.genericMedActionPlanList.size()>0}"/>  -->
					</td>
					
					<td>
					
					<p:commandLink rendered="#{patientMedicineManageBean.patientDiagnosesDetailsObj.code ne null}" onclick="deletediagnoses.show();">
					 
					 			<h:graphicImage value="./../../Images/delIcon.jpg"
										width="25px" height="25px" id="delRxId" onmouseover="delRxId.show();" onmouseout="delRxId.hide();"/>
										
										<p:dialog widgetVar="delRxId" position="650,220" closable="false">
										<h:outputText value="delete diagnosis"/>
									</p:dialog>
					 </p:commandLink> 
					  <p:dialog widgetVar="deletediagnoses" id="deletediagnosesisHep" header="Are you Sure you want to delete?" message="Are you Sure you want to delete?"
                    			 width="260" closable="false" modal="true" appendTo="@(body)" hideEffect="fold">
                    	<h:form>		 
					        <h:panelGroup layout="block" style="text-align: center">
					            <p:commandButton value="Yes" process="@this" actionListener="#{patientMedicineManageBean.clearMedActionPlan1}" update=":newGenericMedPlanFormIdforfilterHepId"  oncomplete="deletediagnoses.hide();"  />
					            <p:commandButton value="No"  oncomplete="deletediagnoses.hide();" />
					        </h:panelGroup>
					    </h:form>
   					 </p:dialog> 
					 
					  &nbsp;  <p:commandLink  id="addrEditDiagnosesHepId"  onclick="diagnosisPopUp.show()"  update="diagnosisNameIdGMAPObj">
					 		<h:graphicImage value="./../../Images/editIcon.jpg"
										width="25px" height="25px" />
					 </p:commandLink> 
					 <p:tooltip id="editDiagnosesPsyTool" for="addrEditDiagnosesHepId" value="Add and update diagnosis"/> 
					
					 </td>
					 </tr>
					 <tr>
					  <td>
					  <h:outputText value="#{msg.dosing_start_date}"/>
					  </td>
					  <td>
					    <p:calendar  value="#{patientMedicineManageBean.parentMedActionPlan.dosingStartDate}" showOn="button"    id="dosingStartDateHep" pattern="#{msg.dateFormat}">
					    <f:convertDateTime pattern="#{msg.dateFormat}" for="dosingStartDateHep" dateStyle="full" type="date" timeZone="#{userManageBean.loggedUsertimeZone}" />	
					    </p:calendar>
					  </td>
					 </tr>
					</table>
					 <p:panel header="#{msg.monitoring_parameter_header_label}" id="checkboxPanelHepId" >
					  <p:selectManyCheckbox id="monitoringParameterHepId" 
                                                    value="#{patientMedicineManageBean.selectedMonitoringParameters}"
                                                   valueChangeListener="#{patientMedicineManageBean.onParameterChangeMedActionPlan}" >
                 <!--   <f:selectItems value="#{patientMedicineManageBean.monitoringParameters}" var="monitor" itemLabel="#{monitor.key}" 
                  itemValue="#{monitor.value}"></f:selectItems> -->
                  <f:selectItems value="#{patientMedicineManageBean.monitoringParamsList}" var="monitor" itemLabel="#{monitor.parentParameter}" itemValue="#{monitor.parentParameter}"></f:selectItems>
                    <p:ajax partialSubmit="true"  process=":newGenericMedPlanFormIdforfilterHepId:genericMedActionTableIdforfilterHepId,monitoringParameterHepId"
                                  update=":newGenericMedPlanFormIdforfilterHepId:genericMedActionTableIdforfilterHepId,monitoringParameterHepId,:newGenericMedPlanFormIdforfilterHepId:blockDialog" onstart="showBlockUI()" oncomplete="hideBlockUI()"></p:ajax>
                    </p:selectManyCheckbox>
                    </p:panel> 
                     <p:messages id="messagesLabName"  closable="true"></p:messages>
                   <h:panelGrid columns="3">
                
                   <p:inputText  id="searchLabNameHepId" value="#{patientMedicineManageBean.loincNumber}" >
                   </p:inputText>
                   <p:commandButton value="#{msg.search_lab_label}" 
                    actionListener="#{patientMedicineManageBean.searchLabInLoincMaster}"  
                      oncomplete="handleSearchLab(xhr, status, args)" process="@this,searchLabNameHepId,:newGenericMedPlanFormIdforfilterHepId:genericMedActionTableIdforfilterHepId" update="searchLabNameHepId,messagesLabName" partialSubmit="true">
                    </p:commandButton>
                    <p:commandButton value="Clear" actionListener="#{patientMedicineManageBean.clearMedActionPlan}" update=":newGenericMedPlanFormIdforfilterHepId" />
                  </h:panelGrid> 
                  <p:messages id="messagesValidate"  closable="true"/>  
                  <p:dataTable value="#{patientMedicineManageBean.parentMedActionPlan.childLabParameters}" var="genericMedActionPlanVar"
                   id="genericMedActionTableIdforfilterHepId" binding="#{patientMedicineManageBean.genericMedActionPlanPropertyforHepatatispage}" emptyMessage="#{msg.noMedFound}">
                    <p:column>
                    <p:commandLink process="@this,genericMedActionTableIdforfilteHepId"  update="genericMedActionTableIdforfilterHepId"   
                    actionListener="#{patientMedicineManageBean.removeSelectedMonitoringParameterHepatatis}" title="#{msg.deleteallergy}">
									<h:graphicImage value="./../../Images/delIcon.jpg"
										width="25px" height="30px" id="editMedActionPlanId" />
									  <p:tooltip for="editMedActionPlanId">
										  <h:outputText value="#{msg.deleteallergy}" />  
									</p:tooltip>  
					
					</p:commandLink>
                    </p:column>
                   <p:column headerText="#{msg.monitoring_parameter_label}">
                 <h:outputText value="#{genericMedActionPlanVar.labParameterObj.labType} #{genericMedActionPlanVar.labParameterObj.units}"/>  
                   </p:column>
                    <p:column headerText="#{msg.goal}">
                  <table cellpadding="1" cellspacing="1">
                  <tr>
                  <td style="border:none;">
                   <p:selectOneMenu value="#{genericMedActionPlanVar.goalLowRangeSymbol}">
									<f:selectItems value="#{patientMedicineManageBean.alertSymbolsList}" var="goalRange" itemLabel="#{goalRange.key}"
									itemValue="#{goalRange.value}"/>
									</p:selectOneMenu>
					</td>
					<td style="border:none;">
									<p:inputText value="#{genericMedActionPlanVar.goalLowRangeValue}" size="2" label="#{genericMedActionPlanVar.labParameterObj.labType} Goal " style="width:50px"></p:inputText>
					</td>
					<td style="border: none;">
					<h:outputText	value="#{msg.or_label}" />
					</td>
					 <td style="border:none;">
                   <p:selectOneMenu value="#{genericMedActionPlanVar.goalHighRangeSymbol}" >
									<f:selectItems value="#{patientMedicineManageBean.alertSymbolsList}" var="goalRangeEnd" itemLabel="#{goalRangeEnd.key}"
									itemValue="#{goalRangeEnd.value}"/>
									</p:selectOneMenu>
					</td>
					<td style="border:none;">
									<p:inputText value="#{genericMedActionPlanVar.goalHighRangeValue}" size="2" label="#{genericMedActionPlanVar.labParameterObj.labType} Goal " style="width:50px"></p:inputText>
					</td>
									</tr>
                  </table>
                   </p:column>  
                  <p:column headerText="#{msg.frequency_label}" >
                   
                   <table ><tr><td style="border:none;">
                    <p:selectOneMenu value="#{genericMedActionPlanVar.frequencyNumber}" style="width:50px;">
									<f:selectItems value="#{patientMedicineManageBean.frequencyNoList}" var="frequencyNo" itemLabel="#{frequencyNo.key}"
									itemValue="#{frequencyNo.value}"/>
									</p:selectOneMenu>
                   </td>
                   <td style="border:none;"></td>
                   <td style="border:none;">
                   <p:selectOneMenu value="#{genericMedActionPlanVar.frequencyUnit}" style="width:90px;">
									<f:selectItems value="#{patientMedicineManageBean.frequencyList}" var="frequencyRange" itemLabel="#{frequencyRange.key}"
									itemValue="#{frequencyRange.value}"/>
									</p:selectOneMenu>
									
						</td></tr></table>
                   </p:column> 
                  <p:column headerText="#{msg.alert_level_label}">
								<table>
								<tr>
								<td style="border:none;">
									<h:graphicImage value="./../../Images/red1.jpg" height="15px"
										width="20px" />
								</td>
									<td style="border:none;">
									<p:selectOneMenu value="#{genericMedActionPlanVar.alertSevereLowRangeSymbol}">
									<f:selectItems value="#{patientMedicineManageBean.alertSymbolsList}" var="symSevereLowRange" itemLabel="#{symSevereLowRange.key}"
									itemValue="#{symSevereLowRange.value}"/>
									</p:selectOneMenu>
									</td>
									<td style="border:none;">
									<p:inputText value="#{genericMedActionPlanVar.alertSevereLowRangeValue}" size="2" label="#{genericMedActionPlanVar.labParameterObj.labType} Alert " style="width:50px"></p:inputText>
									</td>
									<td style="border:none;">
									<h:outputText value="#{msg.or_label}" />
									</td>
									<td style="border:none;">
									<p:selectOneMenu value="#{genericMedActionPlanVar.alertSevereHighRangeSymbol}">
									<f:selectItems value="#{patientMedicineManageBean.alertSymbolsList}" var="symSevereHighRange" itemLabel="#{symSevereHighRange.key}"
									itemValue="#{symSevereHighRange.value}"/>
									</p:selectOneMenu>
									</td>
									<td style="border:none;">
									<p:inputText value="#{genericMedActionPlanVar.alertSevereHighRangeValue}" size="2" label="#{genericMedActionPlanVar.labParameterObj.labType} Alert " style="width:50px"></p:inputText>
									</td>
									</tr>
									<tr>
									<td style="border:none;">
									<h:graphicImage value="./../../Images/orange1.jpg"
										height="15px" width="20px" />
									</td>
									<td style="border:none;">
									<p:selectOneMenu value="#{genericMedActionPlanVar.alertMediumLowRangeSymbol}">
									<f:selectItems value="#{patientMedicineManageBean.alertSymbolsList}" var="symMediumLowRange" itemLabel="#{symMediumLowRange.key}"
									itemValue="#{symMediumLowRange.value}"/>
									</p:selectOneMenu>
									</td>
									<td style="border:none;">
									<p:inputText value="#{genericMedActionPlanVar.alertMediumLowRangeValue}" size="2" label="#{genericMedActionPlanVar.labParameterObj.labType} Alert " style="width:50px" ></p:inputText>
									</td>
									<td style="border:none;">
									<h:outputText value="#{msg.or_label}" />
									</td>
									<td style="border:none;">	
									<p:selectOneMenu value="#{genericMedActionPlanVar.alertMediumHighRangeSymbol}">
									<f:selectItems value="#{patientMedicineManageBean.alertSymbolsList}" var="symMediumHighRange" itemLabel="#{symMediumHighRange.key}"
									itemValue="#{symMediumHighRange.value}"/>
									</p:selectOneMenu>
									</td>
									<td style="border:none;">
									<p:inputText value="#{genericMedActionPlanVar.alertMediumHighRangeValue}" size="2" label="#{genericMedActionPlanVar.labParameterObj.labType} Alert " style="width:50px"></p:inputText>
									</td>
									</tr>
							 </table>

							</p:column> 
                   <p:column headerText="#{msg.action}">
                  <!--  <p:commandButton value="#{msg.alert_physician_label}"></p:commandButton> -->
								<p:selectOneMenu style="width:150px;">
									<f:selectItem itemLabel="#{msg.alert_physician_label}"
										itemValue="#{msg.alert_physician_label}" />
								</p:selectOneMenu>
							</p:column>
                  </p:dataTable>
               	<table width="100%">
               	<tr>
               	<td align="right">
                  <p:commandButton value="#{msg.cancel}"   
                   onclick="editGenericMedicalActionPlan.hide()"    process="@this"  update=":genericMedActionPlanDialogHepId">
                    <p:resetInput target=":genericMedActionPlanDialogHepId"></p:resetInput>
                   </p:commandButton></td>
                    <td >
                   <p:commandButton id="medplan" value="#{msg.done}" process="@this,genericMedActionTableIdforfilterHepId,dosingStartDateHep"  
                    actionListener="#{patientMedicineManageBean.saveGenericMedActionPlan}" oncomplete="genericMedActionPlanComplete(xhr, status, args)" ajax="true" update="messagesValidate">
                   
                    </p:commandButton>
                     <p:commandButton id="medplanwithout_diagonosesId" value="#{msg.done}" process="@this,genericMedActionTableIdforfilterHepId,dosingStartDateHep" 
                    actionListener="#{patientMedicineManageBean.saveGenericMedActionPlanwithoutdiagnoses}" oncomplete="genericMedActionPlanComplete(xhr, status, args)" ajax="true" update="messagesValidate" style="display:none;">
                    
                    </p:commandButton> 
                    
                     <p:commandButton id="medplanwith_graeter_inrId" value="#{msg.done}" process="@this,genericMedActionTableIdforfilterHepId,dosingStartDateHep" 
                    actionListener="#{patientMedicineManageBean.saveGenericMedActionPlanforgreaterinrvalue}" oncomplete="genericMedActionPlanComplete(xhr, status, args)" ajax="true" update="messagesValidate" style="display:none;">
                    
                    </p:commandButton> 
                    </td>
                 </tr>
                  	</table>
                  	 <p:blockUI  id="blockDialog" widgetVar="blockUI"  block=":newGenericMedPlanFormIdforfilterHepId:genericMedActionTableIdforfilterHepId">  
                               LOADING ...<br />
							<p:graphicImage value="./../../Images/ajax_loader.gif" width="40" height="40"  />
						</p:blockUI> 
                   </h:form>
                   
				</p:dialog> 
				<!-- ******************************** pop up end for general med action plan............................ -->
					<!-- ******************************** pop up start for Search Lab Monitoring parameters ............................ -->
				<p:dialog id="searchLabGMAPId"
					widgetVar="searchLabMAPDialog" height="300" width="60%"
					resizable="true" appendTo="@(body)" modal="true" dynamic="true"
					closable="true" >
				<p:ajax event="close" update="searchLabGMAPId" />
				<h:form id="searchLabFormId" prependId="false">
				<p:dataTable value="#{patientMedicineManageBean.labLOINCsearchResultSet}" 
				id="searchLabResultsId" var="searchLOINCdataVar" binding="#{patientMedicineManageBean.loincBindingObjPsypage}" emptyMessage="#{msg.noMedFound}">
				<p:column headerText="#{msg.lab_list_label}" style="width:40px">
				<p:commandLink value="#{searchLOINCdataVar.shortName}" 
				actionListener="#{patientMedicineManageBean.addToGeneralMedActionForHepatitspage}" update=":genericMedActionPlanDialogHepId" oncomplete="labComplete(xhr, status, args)" style="font-weight: bold;text-decoration:underline;">
				
				</p:commandLink>
				</p:column>
				
				 <p:column style="width:40px">
							<f:facet name="header">
								<h:outputText value="#{msg.loinc}" />
							</f:facet>
							<h:outputText value="#{searchLOINCdataVar.loincNumber}" />
						 </p:column>
						 <p:column style="width:80px">
							<f:facet name="header">
								<h:outputText value="#{msg.short_name}" />
							</f:facet>
							<h:outputText value="#{searchLOINCdataVar.shortName}" />
						 </p:column>
						 
						 <p:column style="width:180px">
							<f:facet name="header">
								<h:outputText value="#{msg.long_name}" />
							</f:facet>
							<h:outputText value="#{searchLOINCdataVar.longCommonName}" />
						 </p:column>
				</p:dataTable>
				</h:form>
				</p:dialog>
				<!-- ******************************** pop up end for Search Lab Monitoring parameters............................ -->
					<!-- 	>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>pop up for diagnosis>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> -->
			
			
				<p:dialog id="searchdiagnosisOvwPopUpId" header="#{msg.diagnosis}" widgetVar="diagnosisPopUp" modal="true" appendTo="@(body)" hideEffect="fold" resizable="true"
					dynamic="false" width="800" position="430,100" closable="false">
					<p:ajax event="close" update=":searchdiagnosisOvwPopUpId" />
				 <h:form id="searchdiagosisPopUpFormId">	
					<table>
					
					<tr>
						<td> <p:selectOneRadio id="options"
							value="#{patientManageBean.selectIntervention}">
							<f:selectItem itemLabel="Search According Diagnosis Name" itemValue="1" />
							<f:selectItem itemLabel="Search According ICD Code" itemValue="2" noSelectionOption="false"/>
							
						</p:selectOneRadio> 
						
						<!-- 	<input type="radio" name="c1" checked="checked" onclick="hidediv('div2', this)"/>Search According Diagnosis Name
            				<input type="radio" name="c1" onclick="showMe('div2', this)"/>Search According Icd_Code -->
						<!-- <h:outputText id="aaa" value="#{patientMedicineManageBean.showRxTab}" /> -->
						</td>
					</tr>
					</table>
					
				
					<table>
					  <tr>
					    <td>
							<h:outputText value="#{msg.diagnosisname} :" style="font-size:10px;" />
						</td>
						<td align="left">
							<p:inputText size="55"  value="#{patientManageBean.userInputForIcdDiagnosisSearchTable}" id="codeForSearch"  >
	 						
	 						 <p:ajax update="codeForSearch"></p:ajax>  
	 						</p:inputText>
	 						<p:watermark value="#{msg.diagnosiname} According Name and icd_Code" for="codeForSearch"></p:watermark> 
						</td>
						
						<!-- <td>
							<h:outputText value="icd_code :" style="font-size:10px;" />
						</td>
						<td align="right">
							<p:inputText value="#{patientManageBean.userInputForIcdCode}" id="codeForSearch1"  >
	 						
	 						 <p:ajax update="codeForSearch1"></p:ajax>  
	 						</p:inputText>
	 						<p:watermark value="icd_code" for="codeForSearch1"></p:watermark> 
						</td> -->
						</tr>
						
						<tr>
						<td>
							<h:outputText value="#{msg.select_icd_Format} :" style="font-size:10px;" />
						</td>
						<td>
						  <p:selectOneMenu id="icd_drpDown" value="#{patientManageBean.selectedIcdFormat}" immediate="true"
		                        required="true" style="width:137px;">
								 <f:selectItem itemLabel="#{msg.icd9}" itemValue="#{msg.icd9}" />
								 <f:selectItem itemLabel="#{msg.icd10}" itemValue="#{msg.icd10}" />
							 <p:ajax update="icd_drpDown"/>
							</p:selectOneMenu>
						</td>
						</tr>
						
						
						<tr>
						 <td colspan="2" align="left">
							 <p:commandButton value="#{msg.search}" actionListener="#{patientManageBean.searchMasterDiagnosisData}" 
								 update="searchdiagosisPopUpFormId:panel_dignosis"/> 
						 	<p:commandButton value="#{msg.cancel}" actionListener="#{patientManageBean.cleanDiagnosisForm}" oncomplete="diagnosisPopUp.hide();"/> 
						</td>
						</tr>
					</table>
					<br></br>
				<p:outputPanel id="panel_dignosis">
		         
		          <p:outputPanel id="panel_icd10dignosis" rendered="#{patientManageBean.selectedIcdFormat eq 'ICD10'}"> 
		          
		          
		           <p:dataTable value="#{patientManageBean.dignosisdetailsList}" var="searchDiagnosis"  id="searchdatatable"
	 			      scrollable="true" resizableColumns="false" scrollHeight="400" lazy="true" emptyMessage="#{msg.noMedFound}"
							 >
							
							<f:facet name="header">
           									 ICD 10 Details
       						 </f:facet>
							
							
				  		<p:column width="2%" headerText="Short Description" >
								<p:commandLink value="#{searchDiagnosis.shortDesc}" action="#{patientManageBean.findDiagnosisICD10NameOverview}" style="text-decoration:underline;" ajax="true" update=":genericMedActionPlanDialogHepId" oncomplete="diagnosisPopUp.hide();editGenericMedicalActionPlan.show();">
										<f:setPropertyActionListener target="#{patientManageBean.selectedDiagonisObj}" value="#{searchDiagnosis}" />
								</p:commandLink>
				    	</p:column>
				    	
					    	<p:column width="5%">
									<f:facet name="header">
										<h:outputText value="Long Description" style="text-align:left"/>
								</f:facet>
										<h:outputText value="#{searchDiagnosis.longDesc}" />
						</p:column>
						
					    	<p:column width="5%">
									<f:facet name="header">
										<h:outputText value="ICD Code" style="text-align:left"/>
								</f:facet>
										<h:outputText value="#{searchDiagnosis.formattedDxCode}" />
						</p:column>
						
				  </p:dataTable>
				  
				  
				 </p:outputPanel>
				 
				 <p:outputPanel id="panel_icd9dignosis" rendered="#{patientManageBean.selectedIcdFormat eq 'ICD9'}">
				 
				   <p:dataTable value="#{patientManageBean.icd9DiagnosisList}" var="searchDiagnosis"  id="searchicd9datatable"
	 			        scrollable="true" resizableColumns="false" scrollHeight="400" lazy="true" emptyMessage="#{msg.noMedFound}"
						>
							
					
					<f:facet name="header">
           									 ICD 9 Details
       						 </f:facet>
       						 		
				  	<p:column width="2%" headerText="Short Description" >
								<p:commandLink value="#{searchDiagnosis.shortDescription}" action="#{patientManageBean.setIcd9DiagnosisNameOverview}" style="text-decoration:underline;"  ajax="true" update=":genericMedActionPlanDialogHepId" oncomplete="diagnosisPopUp.hide();editGenericMedicalActionPlan.show();">
								<f:setPropertyActionListener target="#{patientManageBean.selectedDiagonsisICD9Obj}" value="#{searchDiagnosis}" />
					</p:commandLink>
					
				    </p:column>
				    
				    <p:column width="5%">
								<f:facet name="header">
									<h:outputText value="Long Description" style="text-align:left"/>
							</f:facet>
									<h:outputText value="#{searchDiagnosis.longDiscription}" />
					</p:column>
				    
				    <p:column width="5%">
								<f:facet name="header">
									<h:outputText value="ICD Code" style="text-align:left"/>
							</f:facet>
									<h:outputText value="#{searchDiagnosis.formatedCode}" />
					</p:column>
					
				  </p:dataTable>
			    </p:outputPanel>
			   </p:outputPanel>
			</h:form>	
</p:dialog>
	<!-- ******************************** pop up start for diagnoses confirmation............................ -->
					
				<p:dialog widgetVar="confirmfordiagnoses" header="Do you want to enter a diagnosis?" appendTo="@(body)" global="true" showEffect="fade" hideEffect="explode" > 
<h:form> 
    <p:commandButton value="Yes" styleClass="ui-confirmdialog-yes" icon="ui-icon-check" onclick="diagnosisPopUp.show();confirmfordiagnoses.hide();"/>  
    <p:commandButton value="No"  styleClass="ui-confirmdialog-no" icon="ui-icon-close" onclick="onmedplanclick();confirmfordiagnoses.hide();"/>
       					 </h:form>       
    		</p:dialog> 
					
					<!-- ********************************  pop up end for diagnoses confirmation............................ -->
					<p:dialog id="medPlanMessagesHepId"  widgetVar="medPlanExistsWidgetVar" appendTo="@(body)" hideEffect="fold" resizable="true"
					dynamic="true" closable="true" >
		<p:ajax event="close" update="medPlanMessagesHepId"></p:ajax>
		<h:form>
		<h:outputText value="Following parameters already contain Med Action Plan in the below table"></h:outputText>
<p:dataList value="#{patientMedicineManageBean.medPlanSelectedParams}" var="selectedParam" type="definition">
#{selectedParam}
</p:dataList>

		<p:dataTable value="#{patientMedicineManageBean.medPlanMessages}" var="parentMAPobj">
		
		<p:column headerText="Med">
		<h:outputText value="#{parentMAPobj.drugName}"></h:outputText>
		</p:column>
		<p:column>
		  <p:dataTable value="#{parentMAPobj.childLabParameters}" var="labParameterVar"  >
									 	 <p:column headerText="#{msg.monitoring_parameter_label}">
									 	 <h:outputText value="#{labParameterVar.labType}"></h:outputText>
									 	 </p:column>
											<p:column headerText="Goal">
											<h:outputText value="#{labParameterVar.goalRange}"></h:outputText>
											</p:column>
										
									
										</p:dataTable>
		</p:column>
		</p:dataTable>
		<h:outputText value="#{msg.medPlanLabel2}"></h:outputText>
	<table width="100%">
	<tr><td align="center">
				<p:commandButton  oncomplete="editGenericMedicalActionPlan.show();medPlanExistsWidgetVar.hide()" value="ok" actionListener="#{patientMedicineManageBean.clearMAPUI}"></p:commandButton>
				</td>
				</tr>
				</table>
		</h:form>
		</p:dialog> 
					
        </p:layoutUnit>
		</p:layout>

			
			<!-- >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> CENTER LAYOUT ENDS  >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>  -->
		
	</f:view>
</h:body>
</html>

