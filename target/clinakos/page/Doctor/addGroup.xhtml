<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui" template="../templates/ui.xhtml">
<h:body onload="#{dashBoardManageBean.reset()}">
	<f:view contentType="text/html">
		<h:head>
			<f:facet name="first">
				<meta http-equiv="X-UA-Compatible" content="EmulateIE8" />
				<meta content='text/html; charset=UTF-8' http-equiv="Content-Type" />
				<title><h:outputText value="#{msg.clinakos}" /></title>
			</f:facet>
			<link type="text/css" rel="stylesheet" href="../../CSS/style.css" />
	 <script type="text/javascript">
     </script>
     </h:head>
       <p:layout fullPage="true">

			<!-- >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> DOCTOR HEADER >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>  -->
			<p:layoutUnit position="north" size="85" minSize="60">
				<ui:include src="doctorheader2.xhtml" />
			</p:layoutUnit>

			<!-- >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> BOTTOM INCLUDE >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>  -->

			<p:layoutUnit id="bottom" position="south" size="27">
				<h:form>
					<ui:include src="../core/footer.xhtml"></ui:include>
				</h:form>
			</p:layoutUnit>
			
				<!-- >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> LEFT INCLUDE >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>  -->

			<p:layoutUnit id="left" position="west" size="0" closable="false"
				collapsible="true" minSize="0" style="border:none;">
				<h:form class="tab">
					<ui:include src="doctor_profile_leftmenu.xhtml">
					</ui:include>
				</h:form>
				</p:layoutUnit>
				
			<p:layoutUnit  position="center">
			
			 <h:form id="addGroupFrm">
                   <p:growl id="messages" showDetail="true" />
                   <h:outputText value="Add Group Page :" styleClass="outputtext"/>
			<fieldset class="dataField" style="padding-top: .5em; padding-bottom: .5em; padding-left: 1em;">
			<p:panel id="addGroup">
                   <table >
                   <tr>
                    <td style="padding-top: .5em; padding-bottom: .5em; ">
                    <h:outputText value="Step 1:" style="border:1px solid ;padding:5px " styleClass="outputtext"/>
                    </td>
                   
                   </tr>
                    <tr>
                     <td style="font-size: 15px;">
                       <h:outputText value="Select File From :"/>
                     </td>
                     </tr>
                     <tr>
                     <td style="padding-top: .5em; padding-bottom: .5em; " >
                       <p:fileUpload  mode="advanced"  fileUploadListener="#{dashBoardManageBean.uploadFile}" allowTypes="/(\.|\/)(csv)$/" update="messages" />
                     </td>
                    </tr>
                    <tr>
                     <td style="padding-top: .5em; padding-bottom: .5em; ">
                     <h:outputText value="Step 2: " style="border:1px solid ;padding:5px ;" styleClass="outputtext"/>
                     </td>
                     
                    </tr>
                   
                    <tr>
                     <td style="padding-top: .5em; padding-bottom: .5em; ">
                      <p:commandButton value="Validate File Data" actionListener="#{dashBoardManageBean.checkFormatOfPatientUploadedCsvFileData}" update="uploadedErrorMsgs" ajax="false"/>
                     </td>
                    
                    </tr>
                    
                    <tr >
                     <td style="padding-top: .5em; padding-bottom: .5em; ">

                      <p:dataTable id="uploadedErrorMsgs" value="#{dashBoardManageBean.patientUploadedDataErrorMessageList}" var="patUploadedError" >
                      <f:facet name="header">
								  <div align="left"><h:outputText value="Issues with Load"
									styleClass="outputtext" /></div>
								 </f:facet>
                       <p:column headerText="Source Patient Id">
                        <h:outputText value="#{patUploadedError.sourceEmrPatientId}"/>
                       </p:column>
                       <p:column headerText="Error Message">
                        <h:outputText value="#{patUploadedError.errorMessage}"></h:outputText>
                       </p:column>
                      
                      </p:dataTable>
                     </td>
                    </tr>
                    <tr>
                    <td/>
                    <td/>
                    </tr>
                    <tr>
                      <td style="padding-top: .5em; padding-bottom: .5em; ">
                       <h:outputText value="Step 3 :" style="border:1px solid ;padding:5px " styleClass="outputtext"/>
                      </td>
                    
                    </tr>
                   
                    <tr>
                   
                     <td style="padding-top: .5em; padding-bottom: .5em; ">
                      <p:commandButton id="savePatBtn" value="Save Patient Data" actionListener="#{dashBoardManageBean.saveUploadedPatientCsvFileData}" update="messages" ajax="true" />
                     </td>
                    
                    </tr>
                    <tr>
                    <!-- <td>
                     <p:progressBar widgetVar="pbAjax" value="#{dashBoardManageBean.progress}" ajax="true" labelTemplate="{value}%"  >
                      <p:ajax event="complete" 
                      oncomplete="startSaveBtn.enable()"/>
                    </p:progressBar> 
                    </td> -->
                    <td>
                     
                    </td>
                    </tr>
                    <tr>
                    
                    </tr>
                   </table>
                   </p:panel>
                   
                   </fieldset>
                    <p:blockUI block="addGroup" trigger="savePatBtn">  
                              LOADING DATA ...<br />
								<p:graphicImage value="./../../Images/ajax_loader.gif"
									width="40" height="40" />
							</p:blockUI>
                   </h:form>
                 
			</p:layoutUnit>
			
			</p:layout>
     
     
     </f:view>
     </h:body>
     </html>
    