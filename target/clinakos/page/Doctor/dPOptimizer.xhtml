<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui" template="../templates/ui.xhtml">

<h:body>


	<f:view contentType="text/html">
		<h:head>
			<f:facet name="first">
				<meta http-equiv="X-UA-Compatible" content="EmulateIE8" />
				<meta content='text/html; charset=UTF-8' http-equiv="Content-Type" />
				<title><h:outputText value="#{msg.clinakos}" /></title>
				
			</f:facet>
			<link type="text/css" rel="stylesheet" href="../../CSS/style.css" />
			<script language="javascript" src="../js/basicMethod.js"></script>
		</h:head>

		<p:layout fullPage="true">

			<!-- >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> DOCTOR HEADER >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>  -->
			<p:layoutUnit position="north" size="93" minSize="60">
				<ui:include src="doctorHeader.xhtml" />
			</p:layoutUnit>

			<!-- >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> BOTTOM INCLUDE >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>  -->

			<p:layoutUnit id="bottom" position="south" size="24">
				<h:form>
					<ui:include src="../core/footer.xhtml"></ui:include>
				</h:form>
			</p:layoutUnit>

			<!-- >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> LEFT INCLUDE >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>  -->

			  <p:layoutUnit id="left" position="west" size="0" closable="false" collapsible="true" minSize="0" style="border:none;">
				  <ui:include src="toolleftmenu.xhtml">
				</ui:include>
			</p:layoutUnit>
			

			<!-- >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> CENTER LAYOUT >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>  -->

			<p:layoutUnit position="center" resizable="true" >
				<!-- <ui:include src="../Doctor/patientTabHeader.xhtml"></ui:include> -->
				<p:accordionPanel dynamic="true" activeIndex="1">
						<p:tab
							title="#{dashBoardManageBean.userLoginDetail.firstName} #{dashBoardManageBean.userLoginDetail.lastName}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #{dashBoardManageBean.userLoginDetail.age} yo #{dashBoardManageBean.userLoginDetail.gender}">

							<ui:include src="../Doctor/patientDetailsHeader.xhtml"></ui:include>
						</p:tab>
					</p:accordionPanel>
				
						<h:form>
						
							
					
					<table width="100%" class="secContentBorder">
						<tr>
							<td colspan="2">
								<p:dataTable
									emptyMessage="#{msg.nodataavailable}"  paginator="true" paginatorPosition="bottom" paginatorAlwaysVisible="false" rowsPerPageTemplate="25,50,100,200" rows="50"
									value="#{patientMedicineManageBean.fetchforumlarymedList}"
									var="formmedList" id="dpOptimizeDrugDataTable"
									selection="#{patientMedicineManageBean.selectedFDetel}"
									 rowKey="#{formmedList.medicineId}" >
									<f:facet name="Header"></f:facet>
                                    <p:ajax event="rowSelectCheckbox" update="dpOptimizeDrugDataTable" /> 
                                    <p:ajax event="rowUnselectCheckbox" update="dpOptimizeDrugDataTable" />
                                     <p:ajax event="rowSelect" update="dpOptimizeDrugDataTable" />
                                    <p:ajax event="rowUnselect" update="dpOptimizeDrugDataTable" /> 
									<p:column selectionMode="multiple" style="width:3%; text-align:center;align:center;" />
					
									
									<p:column headerText="#{msg.currentDrug}">
									<div align="left">
										<h:outputText value="#{formmedList.medicineName}  #{formmedList.medStrength}" />
									</div>
									</p:column>

									<!-- <p:column headerText="#{msg.isItontheFormulary}">
										<h:outputText value="#{formmedList.isFormulary}" />
									</p:column> -->

									<p:column headerText="#{msg.formularyTier}">
										<div align="left">
										<h:outputText value="#{formmedList.formulayTier}" /></div>
									</p:column>
									<p:column headerText="#{msg.patientCopay}">
										<div align="left">
										<h:outputText value="#{formmedList.patientCopay}" /></div>
									</p:column>
									<f:facet name="footer" style="align:left">
										<table width="100%">
											<tr style="border: 0px; border-color: transparent;">
												<td align="left" width="10%">
												 <h:outputText value="#{msg.otherMedicine}"
														style="font-weight:bold;font-size:11px" />
												</td>
												<td align="left"> 
												<p:inputText value="#{patientMedicineManageBean.otherMed}" size="30"/>
												</td>
											</tr>
										</table>
									</f:facet>
								</p:dataTable></td>
						</tr>
						<tr>
							<td align="right" colspan="2">
							<p:commandButton
									value="Optimize"
									actionListener="#{patientMedicineManageBean.optimizeDrugPrice}" update="updateOptimizeDrugstable" 
									></p:commandButton></td>
						</tr>
						
						<tr>
							<td colspan="2">
							<p:outputPanel id="updateOptimizeDrugstable">  
							   <p:dataTable   id="optimizeDrugstableID" 
									value="#{patientMedicineManageBean.dpOptimizerDrugList}" 
									var="dpoList" emptyMessage="#{msg.nooptimizationfound}"  paginator="true" 
									rendered="#{patientMedicineManageBean.showOptimizer}" paginatorAlwaysVisible="false" paginatorPosition="bottom"  >
									<p:column headerText="#{msg.originalDrug}">
										<div align="left">
										<p:outputLabel value="#{dpoList.medicineName}"></p:outputLabel></div>
									</p:column>
									 <p:column headerText="#{msg.patientCopay}">
									 	<div align="left">
										<p:outputLabel value="#{dpoList.pharmacyTypeDesc}  #{dpoList.patientCopay}  "></p:outputLabel></div>
									</p:column> 
									<p:column headerText="#{msg.alternativeMedicine}">
										<div align="left">
										<p:outputLabel value="#{dpoList.alternateMedicine}"></p:outputLabel></div>
									</p:column>
									<p:column headerText="#{msg.formularyTier}">
										<div align="left">
										<p:outputLabel value="#{dpoList.formulayTier}"></p:outputLabel></div>
									</p:column>
								</p:dataTable>
								</p:outputPanel>
								
								</td>
						</tr>
						
						<tr/>
						<tr/>
						<tr>
						<td>
                   
						</td>
						</tr>
						
					</table>
				</h:form>
				
				
			</p:layoutUnit>

			<!-- >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> CENTER LAYOUT ENDS  >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>  -->

		</p:layout>

	</f:view>

</h:body>
</html>
