<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui" template="../templates/ui.xhtml">

<h:body onload="#{dashBoardManageBean.setVisitSummaryIndex()}">

	<f:view contentType="text/html">
		<h:head>
			<f:facet name="first">
				<meta http-equiv="X-UA-Compatible" content="EmulateIE8" />
				<meta content='text/html; charset=UTF-8' http-equiv="Content-Type" />
				<title><h:outputText value="#{msg.clinakos}" /></title>
			</f:facet>
			<link type="text/css" rel="stylesheet" href="../../CSS/style.css" />
			<script language="javascript" src="../js/basicMethod.js"></script>
			<script type="text/javascript" language="javascript">
			$(document).ready(function() {
		        noBack();
		   });

		   function noBack() {
			   window.location.hash="no-back-button";
				window.location.hash="Again-No-back-button";//again because google chrome don't insert first hash into history
				window.onhashchange=function(){window.location.hash="";} 
		       }
		   
		   function openWin()
			{
			myWindow=window.open("printdataforvisitsummary.jsf","","width=800,height=600");
			
			}
</script>
		</h:head>

		<p:layout fullPage="true">
		
		

			<!-- >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> DOCTOR HEADER >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>  -->
			<p:layoutUnit position="north" size="93" minSize="60">
				<ui:include src="doctorHeader.xhtml" />
			</p:layoutUnit>
			<!-- >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> BOTTOM INCLUDE >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>  -->

			<p:layoutUnit id="bottom" position="south" size="24">

				<ui:include src="../core/footer.xhtml"></ui:include>

			</p:layoutUnit>

			<!-- >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> LEFT INCLUDE >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>  -->

			<p:layoutUnit id="left" position="west" size="0" closable="false"
				collapsible="true" minSize="0" style="border:none;">
				  <ui:include src="anticoagleftmenu.xhtml">
				</ui:include>
			</p:layoutUnit>



			<!-- >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> CENTER LAYOUT >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>  -->

			<p:layoutUnit position="center">
			
					<!-- <div align="center"><p:graphicImage url="images/commingSoon.jpg"></p:graphicImage></div> -->



								<p:accordionPanel dynamic="true" activeIndex="1">
						<p:tab
							title="#{dashBoardManageBean.userLoginDetail.firstName} #{dashBoardManageBean.userLoginDetail.lastName}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #{dashBoardManageBean.userLoginDetail.age} yo #{dashBoardManageBean.userLoginDetail.gender}">

							<ui:include src="../Doctor/patientDetailsHeader.xhtml"></ui:include>
						</p:tab>
					</p:accordionPanel>
     <h:form id="visitCurrent">
     
     <p:outputPanel id="currentValue">
     
     <table   style="width: 100%;">
							<tr>
								<td class="contentTextPan"><h:outputText
										value="#{msg.patientvdate} :" style="font-weight: bold;" />&nbsp;<h:outputText
										value="#{dashBoardManageBean.getDate()}">
										<f:convertDateTime pattern="#{msg.dateFormat}"  timeZone="#{userManageBean.loggedUsertimeZone}" dateStyle="full" type="date" />
									</h:outputText></td>
     </tr>
     <tr>
     <td class="contentTextPan">
      <h:outputText value="#{msg.patientName}:" style="font-weight: bold;"/>&nbsp;
      <h:outputText value="#{dashBoardManageBean.userLoginDetail.firstName} #{dashBoardManageBean.userLoginDetail.lastName}"/>
     </td>
     <td>
     
     </td>
     <td class="contentTextPan">
      <h:outputText value="#{msg.dob}" style="font-weight: bold;"/>&nbsp;
      <h:outputText value="#{dashBoardManageBean.userLoginDetail.dateOfBirth}">
      <f:convertDateTime pattern="#{msg.dateFormat}"/>
      </h:outputText>
      </td>
     </tr>
     
     <tr>
    
      <td class="contentTextPan">
       <h:outputText value="#{msg.vitals} :" style="font-weight: bold;"/>&nbsp;&nbsp;
     
       <h:outputText value="#{msg.over_height}" style="font-weight: bold;"/>&nbsp;
       <h:outputText value="NA" rendered="#{dashBoardManageBean.patientVital.height eq 0.0}"/>
      <h:outputText	value="#{dashBoardManageBean.patientVital.height.replaceAll('\\.',' ft ')}''"  
	  rendered="#{dashBoardManageBean.patientVital.height ne 0.0}"/>
      </td>
      <td class="contentTextPan">
       <h:outputText value="#{msg.weight}" style="font-weight: bold;" />&nbsp;
       <h:outputText value="NA" rendered="#{dashBoardManageBean.patientVital.weight eq 0 ||dashBoardManageBean.patientVital.weight eq ''}" ></h:outputText>
       <h:outputText value="#{dashBoardManageBean.patientVital.weight}" rendered="#{dashBoardManageBean.patientVital.weight ne 0}"/>
      </td>
      <td class="contentTextPan">
       <h:outputText value="#{msg.bmi}" style="font-weight: bold;"/>&nbsp;
       <h:outputText value="#{dashBoardManageBean.patientVital.bodyMassIndex}" rendered="#{dashBoardManageBean.patientVital.bodyMassIndex ne 0}"/>
       <h:outputText value="NA" rendered="#{dashBoardManageBean.patientVital.bodyMassIndex eq 0.0}"></h:outputText>
      </td>
      </tr>
      <tr>
      <td class="contentTextPan">
       <h:outputText /><h:outputText value="#{msg.temperature}" style="font-weight: bold;"/>&nbsp;
       <h:outputText value=""/>
      </td>
      <td class="contentTextPan">
       <h:outputText value="#{msg.pulse}" style="font-weight: bold;"/>&nbsp;
       <h:outputText value=""></h:outputText>
      </td>
      <td class="contentTextPan">
      <h:outputText value="#{msg.blood_pressure}" style="font-weight: bold;"/>&nbsp;
      <h:outputText value=""/>
      </td>
     </tr>
     
     <tr>
      <td>
     <h:outputText value="#{msg.reason_for_encounter}" style="font-weight: bold;"/>&nbsp;&nbsp;
     <p:selectOneMenu value="#{patientMedicineManageBean.encounterSummary.reasonForEncounter}" valueChangeListener="#{patientMedicineManageBean.checkReasonForEncounterValueForDisableInputText}">
      <f:selectItem itemLabel="Select Reason for Encounter" />
      <f:selectItem itemLabel="Comprensive Med Review (CMR)" itemValue="Comprensive Med Review (CMR)"/>
      <f:selectItem itemLabel="Targeted Med Review (TMR)" itemValue="Targeted Med Review (TMR)"/>
      <f:selectItem itemLabel="Routine Visit" itemValue="Routine Visit"/>
      <f:selectItem itemLabel="Oncology Chronic Medication Management" itemValue="Oncology Chronic Medication Management"/>
      <f:selectItem itemLabel="Adverse Reactor/Emergency" itemValue="Adverse Reactor/Emergency"/>
      <f:selectItem itemLabel="Other" itemValue="Other"/>
      <p:ajax process="@this" update="reasonForEncounterInput" />
     </p:selectOneMenu>
     </td>
     <td class="contentTextPan"><h:outputText value="If other Please Specify It" style="font-weight: bold;" />&nbsp;&nbsp;
     <p:inputTextarea id="reasonForEncounterInput" value="#{patientMedicineManageBean.encounterSummary.reasonForEncounter}"    disabled="#{patientMedicineManageBean.reasonForEncounterInputEnabledForOther}" />
     </td>
     </tr>
     </table>
     
     </p:outputPanel>
     <p:outputPanel>
     <!-- <table width="100%">
							<tr>
								<td>
									
									
								</td>
							</tr>
						</table> -->
						<table width="100%">
							<tr height="1px"></tr>

							<tr>

								<td colspan="2">
									
									<table width="100%">
									  <tr>
									    <td class="socHeadPart" style="font-weight: bold;">#{msg.listofinterventions}</td>
									  </tr>
									  <tr class="secContentBorder">
									   <td>
										<table id="visitSummaryTable" width="100%"  style="border-top-left-radius:5px;border-top-right-radius:5px;border:1px solid rgb(154,197,228);">
										<tr style="height:20px">
										<td>
										 <h:outputText value="#{msg.med_reconciled_by}"  style="font-weight: bold;"/>&nbsp;&nbsp;&nbsp;
										 <h:outputText  value="NA" rendered="#{(auditManageBean.reconcileInfo.lastReconciledByName eq null)}" />
										  <h:outputText  value="#{auditManageBean.reconcileInfo.lastReconciledByName}" rendered="#{auditManageBean.reconcileInfo.lastReconciledByName ne null}" />
										</td>
										<td>
									<!-- 	<h:outputText value="#{msg.date}:" style="font-weight: bold;"   />&nbsp;
										 		<h:outputText id="visitReconcile" value="NA" rendered="#{(patientMedicineManageBean.lastReconcileInfo.size() eq 0)}" />
							                    <h:outputText id="visitReconcileDate" value="#{patientMedicineManageBean.lastReconcileInfo.get(1)} " rendered="#{!(patientMedicineManageBean.lastReconcileInfo.size() eq 0)}" /> -->
										  
										 </td>
										</tr>
										<tr style="height:20px">
										<!-- <td width="0.9%"></td> -->
										<td>	
												   <!-- <h:outputText id="visitReconcileMedNot" value = "#{msg.medicationreconcilationcompleted}" rendered="#{!(patientMedicineManageBean.lastReconcileInfo.size() eq 'NA')}"  /> -->
												  <!--   <p:ajax event="outputText" listener="#{patientMedicineManageBean.reconcileMessage}" update="visitReconcileMedNot"></p:ajax>	  -->
							                    <h:outputText id="visitReconcileMed" value="#{patientMedicineManageBean.reconcilieMedicine}" /> 
							                 
										</td>
										</tr>
										</table>
										
									
										  <table width="100%"  style="border-top-left-radius:5px;border-top-right-radius:5px;border:1px solid rgb(154,197,228);">
										   <tr  class="secContentBorder" >
										    <td  style="font-weight: bold;">
										    <h:outputText value="#{msg.point_review_system_completed}"/>
										    </td>
										    <td>
										   
										     <p:selectOneRadio id="tenPointOfReview" value="#{patientMedicineManageBean.encounterSummary.tenPointReviewOfSytemCompleted}">
										     <f:selectItem itemLabel="Yes" itemValue="Yes"/>&nbsp;
										     <f:selectItem itemLabel="No" itemValue="No"/>
										     <p:ajax event="change"  listener="#{patientMedicineManageBean.checkTenPointSytemReviewCompletedValue}"  execute="@this"   update="ifYesinput"></p:ajax>
										     </p:selectOneRadio>
										     </td>
										    
										   </tr>
										   <tr>
										    <td style="font-weight: bold;">
										    <h:outputText value="#{msg.if_yes}" />&nbsp;&nbsp;
										    </td>
										    <td>
										      <p:inputTextarea id="ifYesinput" value="#{patientMedicineManageBean.encounterSummary.ifYes}" disabled="#{patientMedicineManageBean.ifYesInputDisabled}" styleClass=""/>
										    </td>
										   </tr>
										  </table>
										
										 									 
										<table width="100%">
											<tr>
												<td><p:dataTable id="diScontinueMedsList"
														value="#{patientMedicineManageBean.disContinueMedicationListForVisit}"
														var="modify" emptyMessage="#{msg.noMedFound}">

														<f:facet name="header">
															<div align="left"><h:outputText value="#{msg.discontinuedmeds}"
																styleClass="outputtext" /></div>
														</f:facet>
														
														<p:column>
															<f:facet name="header">
																<div>
																	<h:outputText value="#{msg.date}"/>
																</div>

															</f:facet>
															<div align="center">
																<h:outputText value="#{modify.actionDate}" id="actiondate">
																	<f:convertDateTime pattern="#{msg.dateFormat}" for="actiondate" timeZone="#{userManageBean.loggedUsertimeZone}" dateStyle="full" type="date"/>
																</h:outputText>
															</div>
														</p:column>

														<p:column>
															<f:facet name="header">
																<h:outputText value="#{msg.status}"/>

															</f:facet>
															<div align="left">
															<h:outputText value="#{modify.medicineStatus}" /></div>
														</p:column>

														<p:column>
															<f:facet name="header">
																<h:outputText value="#{msg.med}"/>
															</f:facet>
															<div align="left">
															<h:outputText value="#{modify.drugs}" /></div>
														</p:column>

														<p:column>
															<f:facet name="header">
																<h:outputText value="#{msg.strength1}"/>
															</f:facet>
															<div align="left">
															<h:outputText value="#{modify.strength}" /></div>
														</p:column>

														<p:column>
															<f:facet name="header">
																<h:outputText value="#{msg.directions1}"/>
															</f:facet>
															<div align="left">
							            	  	  <p:outputPanel rendered="#{modify.direction ne 'Select Frequency' }">
			 <p:outputPanel  rendered="#{modify.direction.length() ge 2}">
			 <h:outputText value="#{modify.unit}" rendered="#{modify.dosageForm ne 'Add Sig'}"/>
			<h:outputText value="#{modify.dosageForm}" rendered="#{modify.dosageForm ne 'Add Sig'}" style="margin-left:2px;"/>
			<h:outputText value="#{modify.direction}" style="margin-left:2px;"/>
			
			</p:outputPanel> 
			</p:outputPanel>
							            	  	    
	<h:outputText value="#{msg.regimen_not_availale}" rendered="#{((modify.direction.length() eq 1) || (modify.direction eq 'Select Frequency'))}"></h:outputText> 
							            	  	    </div>
															<!-- <div align="left">
															<h:outputText value="#{modify.direction}" /></div> -->
														</p:column>

														<p:column>
															<f:facet name="header">
																<h:outputText value="#{msg.quantity}"/>
															</f:facet>
															<div align="right">
															<h:outputText value="#{modify.quantity}" /></div>
														</p:column>

														<p:column>
															<f:facet name="header">
																<h:outputText value="#{msg.refills}"/>

															</f:facet>
															<div align="right">
															<h:outputText value="#{modify.reffils}" /></div>
														</p:column>

													</p:dataTable></td>
											</tr>
											<tr>
												<td><p:dataTable id="changeMedsList"
														value="#{patientMedicineManageBean.addedOrChangedMedicationListForCurrentDatePatient}"
														var="modify" emptyMessage="#{msg.noMedFound}">

														<f:facet name="header">
															<div align="left"><h:outputText value="#{msg.addedorchangemeds}"
																styleClass="outputtext" /></div>
														</f:facet>

														
														<p:column >
															<f:facet name="header">
																<div>
																	<h:outputText value="#{msg.date}"/>
																</div>

															</f:facet>
															<div align="center">
																<h:outputText value="#{modify.startDate}" id="modify">
																<f:convertDateTime pattern="#{msg.dateFormat}" timeZone="#{userManageBean.loggedUsertimeZone}"  for="modify" dateStyle="full" type="date"/>
																</h:outputText>
															</div>
														</p:column>

														<p:column>
															<f:facet name="header">
																<h:outputText value="#{msg.status}"/>

															</f:facet>
															<div align="left">
															<!-- <h:outputText value="#{modify.causeOfAddMeds}" /> -->
																<h:outputText value="#{modify.causeOfAddMeds}"  rendered="#{modify.flagForVisit}"/>
																<h:outputText value="#{modify.causeOfTransmittedMeds}" rendered="#{(!(modify.flagForVisit))}"  />
															</div>
														</p:column>

														<p:column>
															<f:facet name="header">
																<h:outputText value="#{msg.med}"/>
															</f:facet>
															<div align="left">
															<h:outputText value="#{modify.drugs}" /></div>
														</p:column>

														<p:column>
															<f:facet name="header">
																<h:outputText value="#{msg.strength1}"/>
															</f:facet>
															<div align="left">
															<h:outputText value="#{modify.strengths}" /></div>
														</p:column>

														<p:column>
															<f:facet name="header">
																<h:outputText value="#{msg.directions1}"/>
															</f:facet>
															<!-- <div align="left">
															<h:outputText value="#{modify.directions}" /></div> -->
															<div align="left">
							            	  	  <p:outputPanel rendered="#{modify.directions ne 'Select Frequency' }">
			 <p:outputPanel  rendered="#{modify.directions.length() ge 2}">
			 <h:outputText value="#{modify.unit}" rendered="#{modify.dosageForm ne 'Add Sig'}"/>
			<h:outputText value="#{modify.dosageForm}" rendered="#{modify.dosageForm ne 'Add Sig'}" style="margin-left:2px;"/>
			<h:outputText value="#{modify.directions}" style="margin-left:2px;"/>
			
			</p:outputPanel> 
			</p:outputPanel>
							            	  	    
     	<h:outputText value="#{msg.regimen_not_availale}" rendered="#{((modify.directions.length() eq 1) || (modify.directions eq 'Select Frequency'))}"></h:outputText> 
							            	  	    </div>
														</p:column>

														<p:column>
															<f:facet name="header">
																<h:outputText value="#{msg.quantity}"/>
															</f:facet>
															<div align="right">
															<h:outputText value="#{modify.quantity}" /></div>
														</p:column>

														<p:column>
															<f:facet name="header">
																<h:outputText value="#{msg.refills}"/>

															</f:facet>
															<div align="right">
															<h:outputText value="#{modify.reffils}" /></div>
														</p:column>




													</p:dataTable></td>

											</tr>
											<!-- <tr>
												<td><p:dataTable id="modifyLab"
														value="#{patientMedicineManageBean.medicalActionPlanList}"
														var="modifyLab">

														<f:facet name="header">
															<div align="left"><h:outputText value="Labs:" styleClass="outputtext" /></div>
														</f:facet>
														<p:column style="text-align:center;">
															<f:facet name="header">
																<div align="center">
																	<h:outputText value="#{msg.date}"
																		style="font-size:9px;" />
																</div>
															</f:facet>
															<div align="right">
																<h:outputText value="#{modifyLab.actionDate}">
																	<f:convertDateTime pattern="#{msg.dateFormat}" />
																</h:outputText>
															</div>
														</p:column>

														<p:column>
															<f:facet name="header">
																<h:outputText value="#{msg.lab}" style="font-size:9px;" />
															</f:facet>
															<h:outputText value="#{modifyLab.lab}" />
														</p:column>

														<p:column>
															<f:facet name="header">
																<h:outputText value="#{msg.freq}" style="font-size:9px;" />
															</f:facet>
															<h:outputText value="#{modifyLab.labFrequency}" />
														</p:column>

														<p:column style="text-align:center;">
															<f:facet name="header">
																<h:outputText value="#{msg.nextlab}"
																	style="font-size:9px;" />
															</f:facet>
															<div align="right">
																<h:outputText value="#{modifyLab.nextLabDate}">
																	<f:convertDateTime pattern="#{msg.dateFormat}" />
																</h:outputText>
															</div>
														</p:column>

													</p:dataTable></td>
											</tr> -->

											<!-- added by vinod -->
											<tr>
												<td><p:dataTable id="visitSummaryMedActinPlan"
														value="#{patientMedicineManageBean.medicalActionPlanListForCurrentDate}"
														var="antiCoagGoals" emptyMessage="#{msg.noMedFound}">

														<!--  <f:facet name="header">  
			                                                 <h:outputText value="New Medication Action Plans" styleClass="outputtext" />
			                                             </f:facet> -->
														<f:facet name="header">
															<div align="left"><h:outputText value="#{msg.newmedicationactionplans}"
																styleClass="outputtext" /></div>
														</f:facet>

														<p:column>
															<f:facet name="header">
																<div align="center">
																	<h:outputText value="#{msg.date}"/>
																</div>
															</f:facet>
															<div align="center">
																<h:outputText value="#{antiCoagGoals.lastupdatedate}" id="anticog">
																 <f:convertDateTime pattern="#{msg.dateFormat}" for="anticog" timeZone="#{userManageBean.loggedUsertimeZone}" type="date" dateStyle="full" locale="pl"></f:convertDateTime>
																</h:outputText>
															</div>
														</p:column>

														<p:column>
															<f:facet name="header">
																<h:outputText value="#{msg.med}"/>
															</f:facet>
															<div align="left">
															<h:outputText value="#{antiCoagGoals.medicinename}" /></div>
														</p:column>

														<p:column>
															<f:facet name="header">
																<h:outputText value="#{msg.goal}"/>
															</f:facet>
															<div align="left">
															<h:outputText value="Keep" rendered="#{antiCoagGoals.lab != null}" />&nbsp;
															<h:outputText value="#{antiCoagGoals.lab}"  />&nbsp;
															
															<h:outputText value="#{antiCoagGoals.acceptablerange}"  /></div>
															<!-- <h:outputText
																value="Keep #{antiCoagGoals.lab}  range #{antiCoagGoals.acceptablerange}" /> -->
														</p:column>
														
														<p:column>
												<f:facet name="header">
													<h:outputText value="#{msg.last_update_by}"/>
														</f:facet>
														<div align="left">
												<h:outputText value="#{antiCoagGoals.lastupdateby}" /></div>
													</p:column>
														

													</p:dataTable></td>
											</tr>

										</table>
									  </td>
									 </tr>
									</table>
									<!-- </fieldset> -->
								</td>
							</tr>
							
							<tr>
							 <td colspan="2">
							  <table width="100%">
							   <tr>
							    <td>
							     <p:dataTable value="#{patientManageBean.patientICDDiagnosisList}" var="patDiagnosis">
							     <f:facet name="header">
								  <div align="left"><h:outputText value="#{msg.added_diagnosis}"
									styleClass="outputtext" /></div>
								 </f:facet>
							      <p:column>
							       <f:facet name="header">
							        <h:outputText value="#{msg.icd_10_code}"/>
							       </f:facet>
							        <h:outputText value="#{patDiagnosis.icdId}"/>
							      </p:column>
							      <p:column>
							       <f:facet name="header">
							        <h:outputText value="#{msg.name1}"></h:outputText>
							       </f:facet>
							       <h:outputText value="#{patDiagnosis.codeDescription}"/>
							      </p:column>
							      <p:column>
							       <f:facet name="header">
							        <h:outputText value="#{msg.source}"/>
							       </f:facet>
							       <h:outputText value="#{patDiagnosis.icdCodeType}"/>
							      </p:column>
							      <p:column headerText="#{msg.date}">
							       <h:outputText value="#{patDiagnosis.date}">
							        <f:convertDateTime pattern="#{msg.dateFormat}"></f:convertDateTime>
							       </h:outputText>
							      </p:column>
							     
							     </p:dataTable>
							    
							    </td>
							   
							   </tr>
							  
							  </table>
							 
							 </td>
							
							</tr>
							
							<tr>
							 <td colspan="2">
							   <p:dataTable>
							    <f:facet name="header">
								  <div align="left"><h:outputText value="#{msg.added_devices}"
									styleClass="outputtext" /></div>
								 </f:facet>
								 <p:column headerText="#{msg.device_name}">
								  <h:outputText value=""/>
								 </p:column>
								 <p:column headerText="#{msg.source_name}">
								  <h:outputText value=""/>
								 </p:column>
							   </p:dataTable>
							 
							 </td>
							
							</tr>
							
							<tr>
							 <td colspan="2">
							  	<table width="100%" class="secContentBorder" cellpadding="0" cellspacing="0">
										   <!-- <tr>
										     <td class="secHeadPart">#{msg.editRxmsg}</td>
										   </tr> -->
											<tr class="secContentBorder">
												<td><p:dataTable id="editmsg"
														value="#{patientMedicineManageBean.sendMessageCurrentEditRxList}"
														var="editmsg1" emptyMessage="#{msg.nodataavailable}" rendered="#{patientMedicineManageBean.sendMessageEditRx.messageSentDate ==patientMedicineManageBean.sendMessageEditRx.messageSentDate}">
														
														<f:facet name="header">
								                          <div align="left"><h:outputText value="#{msg.editRxmsg}"
									                        styleClass="outputtext" /></div>
								                            </f:facet>
													
														<p:column>
															<f:facet name="header">
																<div>
																	<h:outputText value="#{msg.date}" />
																</div>
															</f:facet>
															<div align="center">
																<h:outputText value="#{editmsg1.messageSentDate}" id="editDate" >
																	<f:convertDateTime pattern="#{msg.dateFormat}"  for="editDate" dateStyle="full" type="date"/>
																 </h:outputText>
															</div>
														</p:column>

														<p:column>
															<f:facet name="header">
																<div>
																	<h:outputText value="#{msg.message}" />
																</div>
															</f:facet>
															<div align="left">
																<h:outputText value="#{editmsg1.drugsNotes}" />
															</div>
														</p:column>

														<p:column>
															<f:facet name="header">
																<div>
																	<h:outputText value="#{msg.fromdoctor}" />
																</div>
															</f:facet>
															<div align="left">
																<h:outputText value="Dr #{editmsg1.sendMsgFromDocname}" />
															</div>
														</p:column>

														<p:column>
															<f:facet name="header">

																<div>
																	<h:outputText value="#{msg.todoctor}" />
																</div>
															</f:facet>
															<div align="left">
																<h:outputText value="Dr #{editmsg1.sendMsgToDocName}" />
															</div>
														</p:column>

													</p:dataTable></td>
											</tr>
										</table>
									 
							 
							 </td>
							
							</tr>
							
							<tr>
							   <td colspan="2"> 
							   <!-- <fieldset class="dataField">
							        <legend class="legendField">#{msg.updatedlistofcurrentmeds}</legend> -->
							        
							            <table width="100%" class="secContentBorder" cellpadding="0" cellspacing="0">
							            <tr>
							             <td class="secHeadPart">#{msg.updatedlistofcurrentmeds}</td>
							            </tr>
							            
							            <tr class="secContentBorder">
							            	<td>
							            	  <p:dataTable id="updatedlistofcurrentmeds"  value="#{patientMedicineManageBean.patientMedicationListForVisit}"
							            	             var="updatedlist" emptyMessage="#{msg.noMedFound}">
							            	  
							            	  	<p:column>
							            	  	   <f:facet name="header">
							            	  	      <h:outputText value="#{msg.date}" />
							            	  	   </f:facet>
							            	  	   <div align="center"><h:outputText value="#{updatedlist.startDate}" >
				                                                         <f:convertDateTime pattern="#{msg.dateFormat}" timeZone="#{userManageBean.loggedUsertimeZone}" dateStyle="full" type="date"/>
			                                                         </h:outputText></div>
							            	  	</p:column>
							            	  	
							            	  	<!-- <p:column>
							            	  	    <f:facet name="header">
							            	  	       <h:outputText value="#{msg.diagnoses}" />
							            	  	    </f:facet>
							            	  	    <div align="left"><h:outputText value="#{patientMedicineManageBean.medicalActionPlanList.diagnosis}" /></div>
							            	  	</p:column> -->
							            	  	
							            	  	<p:column>
							            	  	    <f:facet name="header">
							            	  	        <h:outputText value="#{msg.med}" />
							            	  	    </f:facet>
							            	  	    <div align="left"><h:outputText value="#{updatedlist.drugs}" /></div>
							            	  	</p:column>
							            	  	
							            	  	<p:column>
							            	  	    <f:facet name="header">
							            	  	        <h:outputText value="#{msg.visitstrenghts}" />
							            	  	    </f:facet>
							            	  	    <div align="left"><h:outputText value="#{updatedlist.strengths}" /></div>
							            	  	</p:column>
							            	  	
							            	  	<p:column>
							            	  	    <f:facet name="header">
							            	  	        <h:outputText value="#{msg.directions}" />
							            	  	    </f:facet>
							            	  	    <div align="left">
							            	  	  <p:outputPanel rendered="#{updatedlist.directions ne 'Select Frequency' }">
			 <p:outputPanel  rendered="#{updatedlist.directions.length() ge 2}">
			 <h:outputText value="#{updatedlist.unit}" rendered="#{updatedlist.dosageForm ne 'Add Sig'}"/>
			<h:outputText value="#{updatedlist.dosageForm}" rendered="#{updatedlist.dosageForm ne 'Add Sig'}" style="margin-left:2px;"/>
			<h:outputText value="#{updatedlist.directions}" style="margin-left:2px;"/>
			
			</p:outputPanel> 
			</p:outputPanel>
							            	  	    
	      <h:outputText value="#{msg.regimen_not_availale}" rendered="#{((updatedlist.directions.length() eq 1) || (updatedlist.directions eq 'Select Frequency'))}"></h:outputText> 
							            	  	    </div>
							            	  	</p:column>
							            	  	
							            	  	<p:column>
							            	  	    <f:facet name="header">
							            	  	        <h:outputText value="#{msg.quantity}" />
							            	  	    </f:facet>
							            	  	    <div align="right"><h:outputText value="#{updatedlist.quantity}"  /></div>
							            	  	</p:column>
							            	  	
							            	  	<p:column>
							            	  	    <f:facet name="header">
							            	  	        <h:outputText value="#{msg.prescriber}" />
							            	  	    </f:facet>
							            	  	    <div align="left">
							            	  	    <h:outputText value="#{updatedlist.prescriberName}"  /></div>
							            	  	</p:column>
							            	  	
							            	  	<p:column>
							            	  	    <f:facet name="header">
							            	  	        <h:outputText value="#{msg.reffils}" />
							            	  	    </f:facet>
							            	  	    <div align="right"><h:outputText value="#{updatedlist.reffils}" /></div>
							            	  	</p:column>
							            	  	
							            	  </p:dataTable>
							            	</td>
							            </tr>
							               
							            
							            </table>
							   <!-- </fieldset> -->
							   </td>
							</tr>

							<tr>
								<td colspan="2">
									<!-- <fieldset class="dataField">
										<legend class="legendField">#{msg.updatedmedicationgoals}</legend> -->
										<table width="100%" class="secContentBorder" cellpadding="0" cellspacing="0">
										  <tr>
										    <td class="secHeadPart">
										      #{msg.updatedmedicationgoals}
										    </td>
										  </tr>
											<tr class="secContentBorder">
												<td><p:dataTable id="updatedmedicationgoal" value="#{patientMedicineManageBean.medicalActionPlanListForCurrentDate}"
														var="updategoals" emptyMessage="#{msg.noMedFound}">

														<p:column>
															<f:facet name="header">
																<h:outputText value="#{msg.date}" />
															</f:facet>
															<div align="center"><h:outputText  id="goaldate" value="#{updategoals.lastupdatedate}" >
					                                                 
					                                                 <f:convertDateTime pattern="#{msg.dateFormat}" timeZone="#{userManageBean.loggedUsertimeZone}" for="goaldate" type="date" dateStyle="full" locale="pl"></f:convertDateTime>
					                                                           </h:outputText></div>
														</p:column>
														
														<p:column>
															<f:facet name="header">
																<h:outputText value="#{msg.med}" />
															</f:facet>
															<div align="left">
															<h:outputText value="#{updategoals.medicinename}" /></div>
														</p:column>
														
														<!-- <p:column>
															<f:facet name="header">
																<h:outputText value="#{msg.goal}" />
															</f:facet>
															<div align="left">
															<h:outputText value="Keep #{updategoals.lab}  range #{updategoals.acceptablerange}" /></div>
														</p:column> -->
														
														<p:column>
															<f:facet name="header">
																<h:outputText value="#{msg.goal}"/>
															</f:facet>
															<h:outputText value="Keep" rendered="#{updategoals.lab != null}" />&nbsp;
															<h:outputText value="#{updategoals.lab}"  />&nbsp;
															
															<h:outputText value="#{updategoals.acceptablerange}"  />
															<!-- <h:outputText
																value="Keep #{antiCoagGoals.lab}  range #{antiCoagGoals.acceptablerange}" /> -->
														</p:column>
														
														<p:column>
															<f:facet name="header">
																<h:outputText value="#{msg.freq}"/>
															</f:facet>
															<div align="left">
															<h:outputText value="#{updategoals.labfrequency}" /></div>
														</p:column>

														<p:column >
															<f:facet name="header">
																<h:outputText value="#{msg.nextlab}"/>
															</f:facet>
															<div align="center">
																<h:outputText value="#{updategoals.nextLabDate}">
																 <f:convertDateTime pattern="#{msg.dateFormat}" timeZone="#{userManageBean.loggedUsertimeZone}" dateStyle="full" type="date"/> 
																
																</h:outputText>
															</div>
														</p:column>
														<p:column>
												<f:facet name="header">
													<h:outputText value="#{msg.last_update_by}"/>
														</f:facet>
														<div align="left">
														<h:outputText value="#{updategoals.lastupdateby}" /></div>
													</p:column>
														
													</p:dataTable></td>
											</tr>
										</table>
									<!-- </fieldset> -->
								</td>
							</tr>


							<!-- <p:dataTable id="changeMedsList"  rowStyleClass="#{modify.medicineStatus eq 'Discontinue Med' ? 'changeRowColor': null}"
					value="#{patientMedicineManageBean.removeDuplicateModifyMedicationListForPatient}"
					var="modify">
					
					<p:column>
						<f:facet name="header">
							<h:outputText value="Select" style="font-size:9px;"/>
							
						</f:facet>
						<p:selectBooleanCheckbox value="#{modify.checkMedsForEprescribe}" id="checkMedsForEPrescribe">
							<p:ajax update="checkMedsForEPrescribe"></p:ajax>
						</p:selectBooleanCheckbox>
					</p:column>
					<p:column>
						<f:facet name="header">
							<h:outputText value="#{msg.date}" style="font-size:9px;"/>
							
						</f:facet>
						<h:outputText value="#{modify.modifyDate}">
							<f:convertDateTime pattern="#{msg.dateFormat}" />
						</h:outputText>
					</p:column>
					
					<p:column>
						<f:facet name="header">
							<h:outputText value="Status" style="font-size:9px;"/>

						</f:facet>
						<h:outputText value="#{modify.medicineStatus}" />
					</p:column>

					<p:column>
						<f:facet name="header">
							<h:outputText value="#{msg.med}" style="font-size:9px;"/>
						</f:facet>
						<h:outputText value="#{modify.drugs}" />
					</p:column>

					<p:column>
						<f:facet name="header">
							<h:outputText value="#{msg.strength1}" style="font-size:9px;"/>
						</f:facet>
						<h:outputText value="#{modify.strengths}" />
					</p:column>

					<p:column>
						<f:facet name="header">
							<h:outputText value="#{msg.directions1}" style="font-size:9px;" />
						</f:facet>
						<h:outputText value="#{modify.directions}" />
					</p:column>

					<p:column>
						<f:facet name="header">
							<h:outputText value="#{msg.quantity}" style="font-size:9px;"/>
						</f:facet>
						<h:outputText value="#{modify.quantity}" />
					</p:column>

					<p:column>
						<f:facet name="header">
							<h:outputText value="#{msg.refills}" style="font-size:9px;"/>

						</f:facet>
						<h:outputText value="#{modify.reffils}" />
					</p:column>
					
					
					
					
				</p:dataTable> -->


							<tr>
								<td style="font-size: 12px; font-family:Persian;font-weight: bold;"><h:outputText value="#{msg.notes} :"/></td>
								<td style="font-size: 12px; font-family:Persian;font-weight: bold;"><h:outputText value="#{msg.patientEducation} :"/></td>
							</tr>
							<tr>
								<td>
									<!-- <p:inputTextarea id="notesEditor" value="#{patientMedicineManageBean.visitHistory.notes}"  cols="90" rows="10">
				<p:ajax update="notesEditor"></p:ajax>
				</p:inputTextarea> --> 
				<p:editor id="notesEditoron_visitsummary" widgetVar="editor"
										value="#{patientMedicineManageBean.encounterSummary.patientNotes}"
										width="683" height="150" style="border: 1px solid; border-color:#b7dbf2">
									</p:editor>
								</td>
								<td>
									<!-- <p:inputTextarea id="patientEducationEditor" value="#{patientMedicineManageBean.visitHistory.patientEducation}"  cols="70" rows="10">
				</p:ajax></p:inputTextarea> -->
				<p:editor id="patientEducationEditor_on_visitsummay" widgetVar="editor"
										value="#{patientMedicineManageBean.encounterSummary.patientEducation}"
										width="643" height="150" style="border: 1px solid; border-color:#b7dbf2"> 
									</p:editor>

								</td>
							</tr>
							
													
							
						</table>
						<table width="80%">
		                  <tr>	
			         <td align="right"  >
			
				<p:commandButton id="save" value="#{msg.save}" action="#{patientMedicineManageBean.saveEncounterSummaryDetail}" oncomplete="showPrintDialogBoox.show();" style="width:70px;height:30px" rendered="#{userManageBean.rolePrivillegeUtil.isEnable('todayHistory_printPreview')}">
				</p:commandButton> 
				
				
				</td> 
				
				
				 
			</tr>
	                </table>
						</p:outputPanel>
						</h:form>
						</p:layoutUnit>
						
						
						<!-- ->>>>>>>>>>>>>>>Save Message for save Notes and Patient Education ->>>>>>>>>>>>>>>>>>>>-->
			</p:layout>
					<p:dialog id="showPrintDialogBooxid" widgetVar="showPrintDialogBoox" 
					resizable="true" header=""  modal="true"
	 				 dynamic="true" closable="false">
	 			
	 		
			<h:form id="showPrintDialogBooxFormID">
			<h:outputText value="#{msg.datasavedsuccessfully}" style="color:#53b5e6; font-weight:bold; font-size:9px;
	font-family: verdana;" />
				<table>
					<tr>
						
						
						<td>
						<p:commandButton value="#{msg.cancel}" action="go_to_visitSummary_page" immediate="true"/>
						</td>
						<td>
						<p:commandButton value="#{msg.gotoPrint}" onclick="openWin();showPrintDialogBoox.hide();" action="#{patientMedicineManageBean.findDoctorDetails}" />
						</td>
					</tr>
				</table>
			
			  

		</h:form>
	</p:dialog>
		
						
						</f:view>
						</h:body>
						</html>
	