<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:pe="http://primefaces.org/ui/extensions"
	xmlns:p="http://primefaces.org/ui" template="../templates/ui.xhtml">	

<ui:composition>
<p:dialog id="Dabigratanid" widgetVar="Dabigratan"
					resizable="false"  appendTo="@(body)" modal="true" dynamic="true"
	 				height="400" width="45%"  closable="false" position="bottom">
	 				<f:facet name="header">
      					<h:outputText id="DabigatranHeader" value="#{patientMedicineManageBean.patientMedicationData.drugs}" />
   					</f:facet>
	 						
				<h:form >
	 				<p:messages  id="dabigratanMsgId" showDetail="false" style="color:#FF0000;margin:8px;"  closable="true" showSummary="true"/> 
					 <table  width="100%" border="0"><tr><td width="92%" valign="top">
					 	 <p:wizard titleStyleClass="popupStepFont" flowListener="#{patientMedicineManageBean.onFlowProcessOfAnticoagMeds}">  
					 	 	
					 	 	 <p:tab id="step1" title="Step 1" titleStyleClass="popupStepFont">  
					 	  <p:outputPanel>	
					 	 <h:outputText value="#{msg.Cr_lab_message}" 
					 	  rendered="#{(patientMedicineManageBean.calculateCreatimineClearance.serumCreatinieValueInString eq '')}" style="color:#FF0000;margin:8px;" ></h:outputText>
	 	 			<table>
	 	 	 			<tr>
		 	 	 			<td>
		 	 	 				<h:outputText value="Age" />
		 	 	 				<h:outputText value="*" styleClass="mandatoryField"/>
								    
							</td>
							
							<td colspan="2">
								<p:inputText value="#{patientMedicineManageBean.calculateCreatimineClearance.age}" />
							</td>
							
							<td>
		 	 	 				<h:outputText value=" Sex (M/F)" />
		 	 	 				<h:outputText value="*" styleClass="mandatoryField"/>
								    
							</td>
							
							<td>
								<!-- <p:selectOneMenu value="#{patientMedicineManageBean.calculateCreatimineClearance.gender}">
									   	<f:selectItem itemValue="M" itemLabel="Male" />
									   	<f:selectItem itemValue="F" itemLabel="Female" />
									   	
									</p:selectOneMenu> -->
									<p:inputText value="#{patientMedicineManageBean.calculateCreatimineClearance.gender}" />
							</td>
							
							
								  	
	 	 	 			</tr>
	 	 	 			
	 	 	 			<tr>
	 	 	 			
	 	 	 				<td>
		 	 	 				<h:outputText value="Serum Creatinine (mg/dl)" />
		 	 	 				<h:outputText value="*" styleClass="mandatoryField"/>
								    
							</td>
							
							<td colspan="2">
								<p:inputText id="dabigratanLabDateId" value="#{patientMedicineManageBean.calculateCreatimineClearance.serumCreatinieValueInString}" />
								<p:tooltip for="dabigratanLabDateId"  value="Done on #{patientMedicineManageBean.calculateCreatimineClearance.labDate}"></p:tooltip>
							</td>
							
		 	 	 			<td>
		 	 	 				<h:outputText value=" Height(Inch)" />
		 	 	 				<h:outputText value="*" styleClass="mandatoryField"/>
								    
							</td>
							
							<td>
								<p:inputText value="#{patientMedicineManageBean.calculateCreatimineClearance.height}" />
							</td>
							
							
						</tr>
						
						
						<tr>
							<td>
		 	 	 				<h:outputText value="Weight" />
		 	 	 				<h:outputText value="*" styleClass="mandatoryField"/>
								    
							</td>
							
							<td>
						        <p:inputText id="simpleWeight" style="width:50px;" value="#{patientMedicineManageBean.calculateCreatimineClearance.simpleWeight}" >
						        <p:ajax update="simpleWeight ,patWeight,patWeightUnit" listener="#{patientMedicineManageBean.changeWeightUnit}" process="@this,weightUnitId"></p:ajax>
						         </p:inputText>
						       </td>
       
       
						       <td> 
						        <p:selectOneMenu style="width:50px;" id="weightUnitId"
						           value="#{patientMedicineManageBean.calculateCreatimineClearance.findWeightUnit}">
						           
						           <f:selectItem itemLabel="Lbs" itemValue="Lbs" />
						           <f:selectItem itemLabel="Kg"  itemValue="Kg"/>
						          
						          
						        <p:ajax update="patWeight,patWeightUnit" listener="#{patientMedicineManageBean.changeWeightUnit}" process="@this,simpleWeight">
						        </p:ajax>
						       </p:selectOneMenu> </td> 
						       <td>
						    		 <h:outputText style="width:50px; font-weight:bold; " id="patWeight" value="#{patientMedicineManageBean.calculateCreatimineClearance.weight}" />&nbsp;<h:outputText style="width:50px; font-weight:bold; " id="patWeightUnit" value="#{patientMedicineManageBean.calculateCreatimineClearance.weightUnit}" />
						       </td>
						       
						</tr>
	 	 	 		</table>
	 	 	 		</p:outputPanel>
	 	 	 </p:tab>
	 	 	 
	 	 	 <p:tab id="Step2" title="Step 2" titleStyleClass="popupStepFont">  
	 	 	 		
	 	 	 		   <p:outputPanel>
	 	 	 		<!--    <h:panelGrid columns="2" border="3"> -->
	 	 	 		
	 	 	 		<table>
	 	 	 			<tr>
	 	 	 			<td >
		 	 	 				<h:outputText value="Estimated CrCl :" style="font-weight:bold;"/>
								    
							</td>
							
						<td>
							<p:outputPanel rendered="#{patientMedicineManageBean.calculateCreatimineClearance.calculateCreatimineClearanceValue gt 80}">
								<h:outputText value="#{patientMedicineManageBean.calculateCreatimineClearance.calculateCreatimineClearanceValue}" />
								<h:outputText value="(ml/min)" />
							</p:outputPanel>
							
							<p:outputPanel rendered="#{patientMedicineManageBean.calculateCreatimineClearance.calculateCreatimineClearanceValue ge 50 and 
							patientMedicineManageBean.calculateCreatimineClearance.calculateCreatimineClearanceValue le 80}" style="color:rgb(255,242,0);font-weight: bolder">
								<h:outputText value="#{patientMedicineManageBean.calculateCreatimineClearance.calculateCreatimineClearanceValue}" />
								<h:outputText value="(ml/min)" />
							</p:outputPanel>
							
							<p:outputPanel rendered="#{patientMedicineManageBean.calculateCreatimineClearance.calculateCreatimineClearanceValue ge 30 and 
							patientMedicineManageBean.calculateCreatimineClearance.calculateCreatimineClearanceValue le 50}" style="color:orange;">
								<h:outputText value="#{patientMedicineManageBean.calculateCreatimineClearance.calculateCreatimineClearanceValue}" />
								<h:outputText value="(ml/min)" />
							</p:outputPanel>
							
							<p:outputPanel rendered="#{patientMedicineManageBean.calculateCreatimineClearance.calculateCreatimineClearanceValue le 30}" style="color:red;">
								<h:outputText value="#{patientMedicineManageBean.calculateCreatimineClearance.calculateCreatimineClearanceValue}" />
								<h:outputText value="(ml/min)" />
							</p:outputPanel>
						</td>
	 	 	 			
	 	 	 			<td>
		 	 	 				<h:outputText value="Recommended Dose:" style="font-weight:bold;"/>
								    
							</td>
							
							<td>
								<h:outputText value="#{patientMedicineManageBean.patientMedicationData.recommendedDose}" />
							</td>
	 	 	 			
	 	 	 			</tr>
	 	 	 		</table>
	 	 	 		
	 	 	 			<table>
	 	 	 			
	 	 	 			
	 	 	 			<tr>
							
							<td>
		 	 	 				<h:outputText value="Strength" /><h:outputText value="*" styleClass="mandatoryField"/>
							</td>
							
							<td><p:selectOneMenu required="true" requiredMessage="Please Select Strength"
										value="#{patientMedicineManageBean.patientMedicationData.strengths}"
										style="width:122px;">
										<!-- <f:selectItem
											itemLabel="#{patientMedicineManageBean.medActionPlan.dose}"
											itemValue="#{patientMedicineManageBean.medActionPlan.dose}" /> -->
										<f:selectItems value="#{patientMedicineManageBean.doseDetailList}"
											var="doseList" itemLabel="#{doseList.dose}" itemValue="#{doseList.dose}" />
									</p:selectOneMenu>
							
								<!-- <p:inputText value="#{patientMedicineManageBean.medActionPlan.dose}" /> -->
							</td>
							<td>
	 	 	 	 						<h:outputText value="Unit" /><h:outputText value="*" styleClass="mandatoryField"/>
	 	 	 	 				</td>
	 	 	 	 					<td>
				 	 	 	 			<p:selectOneMenu 
													value="#{patientMedicineManageBean.patientMedicationData.unit}" 
													style="width:122px;">
													
													<f:selectItems value="#{patientMedicineManageBean.unitSummaryList}"
														var="unitList" itemLabel="#{unitList.unit}" itemValue="#{unitList.unit}" />
														
													<p:ajax listener="#{patientMedicineManageBean.calculateTotalDispence}" update="dispenceNumber"></p:ajax>	
														
												</p:selectOneMenu>
	 	 	 	 					</td>
							
								  	
	 	 	 			</tr>
	 	 	 			
	 	 	 			
	 	 	 			<tr>
	 	 	 	 					<td>
	 	 	 	 							<h:outputText value="Dosage form" /><h:outputText value="*" styleClass="mandatoryField"/>
	 	 	 	 						</td>
	 	 	 	 						
	 	 	 	 						<td>
	 	 	 	 						
	 	 	 	 						<!-- <p:selectOneMenu required="true" 
										value="#{patientMedicineManageBean.patientMedicationData.dosageForm}"
										style="width:122px;">
										<f:selectItem itemLabel="#{patientMedicineManageBean.patientMedicationData.dosageForm}" itemValue="#{patientMedicineManageBean.patientMedicationData.dosageForm}" />
	 	 	 	 								
													
														<f:selectItems value="#{patientMedicineManageBean.unitDetailsList}"
															var="unitList" itemLabel="#{unitList.unitName}" itemValue="#{unitList.unitName}" />
											</p:selectOneMenu> -->
											
											<p:inputText  value="#{patientMedicineManageBean.patientMedicationData.dosageForm}" readonly="true"></p:inputText>	
								
	 	 	 	 						</td>
	 	 	 	 						
	 	 	 	 						<td>
	 	 	 	 					<h:outputText value="Route" /><h:outputText value="*" styleClass="mandatoryField"/>
	 	 	 	 				</td>
	 	 	 	 			<td>
	 	 	 	 					<!-- <p:selectOneMenu required="true" 
										value="#{patientMedicineManageBean.patientMedicationData.byRoute}"
										style="width:122px;">
									<f:selectItem itemLabel="#{patientMedicineManageBean.patientMedicationData.byRoute}" itemValue="#{patientMedicineManageBean.patientMedicationData.byRoute}" />
										<f:selectItems value="#{patientMedicineManageBean.routeDetailsList}"
											var="routeDetailList" itemLabel="#{routeDetailList.routeName}" itemValue="#{routeDetailList.routeName}" />
										
									</p:selectOneMenu> -->
									<p:inputText  value="#{patientMedicineManageBean.patientMedicationData.byRoute}" readonly="true"></p:inputText>
	 	 	 	 			</td>
	 	 	 					</tr>
	 	 	 					
	 	 	 					
	 	 	 						
	 	 	 	 						<!-- <td>
	 	 	 	 							<h:outputText value="Package" /><h:outputText value="*" styleClass="mandatoryField"/>
	 	 	 	 					</td>
	 	 	 	 				<td>
	 	 	 	 						
	 	 	 	 						<p:selectOneMenu required="true" 
														value="#{patientMedicineManageBean.patientMedicationData.unitDetail}"
														style="width:122px;">
										<f:selectItems value="#{patientMedicineManageBean.dosageDetailsList}"
											var="dosageDetailList" itemLabel="#{dosageDetailList.dosageFrom}" itemValue="#{dosageDetailList.dosageFrom}" />
										
									
										</p:selectOneMenu>
	 	 	 	 					</td> -->
	 	 	 	 					
	 	 	 	 					
	 	 	 					
	 	 	 					
	 	 	 					<tr>
	 	 	 						<td>
	 	 	 	 					<h:outputText value="Regimen" /><h:outputText value="*" styleClass="mandatoryField"/>
	 	 	 	 			</td>
	 	 	 	 		
	 	 	 	 		<td>
	 	 	 	 				<p:selectOneMenu required="true" requiredMessage="Please Select Regimen"
										value="#{patientMedicineManageBean.patientMedicationData.directions}"
										style="width:122px;">
										
										<f:selectItems value="#{patientMedicineManageBean.regimenList}"
											var="regimen" itemLabel="#{regimen}" itemValue="#{regimen}" />
											<p:ajax listener="#{patientMedicineManageBean.calculateTotalDispence}" update="dispenceNumber"></p:ajax>	
											
									</p:selectOneMenu>
	 	 	 	 		</td>
	 	 	 	 		
	 	 	 	 		<td>
	 	 	  							<h:outputText value="Dispense" /><h:outputText value="*" styleClass="mandatoryField"/>
	 	 	  						</td>
	 	 	  						
									<td>
										<p:inputText id="dispenceNumber" style="width:50px;"  converter="#{Integer}" maxlength="3" 
													value="#{patientMedicineManageBean.patientMedicationData.quantity}" >
											<f:convertNumber  pattern="#0" integerOnly="true"  minFractionDigits="3" maxIntegerDigits="3" type="number"/>
										</p:inputText>
									</td>
	 	 	 					</tr>
	 	 	 					
	 	 	 					<tr>
	 	 	 						<td>
					 	 	  			<h:outputText value="Days Supply" />
					 	 	  		</td>
									<td>
											<!-- <p:inputText style="width:50px;" required="true" 
														value="#{patientMedicineManageBean.patientMedicationData.daySupply}" /> -->
														
										<p:selectOneMenu 
													value="#{patientMedicineManageBean.patientMedicationData.daySupply}"
													style="width:80px;">
													<!-- <f:selectItem itemValue="#{patientMedicineManageBean.patientMedicationData.daySupply}" 
													itemLabel="#{patientMedicineManageBean.patientMedicationData.daySupply}"></f:selectItem> -->
													<f:selectItems value="#{patientMedicineManageBean.daySupplyList}"
														var="daySupplyDetailList" itemLabel="#{daySupplyDetailList}" itemValue="#{daySupplyDetailList}" />
												<p:ajax listener="#{patientMedicineManageBean.calculateTotalDispence}" update="dispenceNumber"></p:ajax>	
													
										</p:selectOneMenu>
								</td>
								
								<td>
	 	 	  						<h:outputText value="Refill"/>
	 	 	  					</td>
	 	 	  					
								<td>
									
												<!-- 	<p:inputText required="true" requiredMessage="Please insert reffils" maxlength="2" 
										 value="#{patientMedicineManageBean.patientMedicationData.reffils}" style="width:50px;">
										 
										 <pe:keyFilter mask="num"></pe:keyFilter>
									</p:inputText> -->
							
									<p:selectOneMenu required="true" 
											value="#{patientMedicineManageBean.patientMedicationData.reffils}"
											style="width:60px;">
											
											<f:selectItems value="#{patientMedicineManageBean.refillDetailsList}"
												var="refillList" itemLabel="#{refillList}" itemValue="#{refillList}" />
											
										</p:selectOneMenu>
								</td>
						
								
	 	 	 					</tr>
	 	 	 			
						</table>
						
						<table>
						<tr>
	 	 	 			
	 	 	 				
							
		 	 	 			<td>
		 	 	 				<h:outputText value="Comments" />
								    
							</td>
							
							<td>
								<!-- <p:inputText value="#{patientMedicineManageBean.patientMedicationData.notes}" /> -->
								<p:inputTextarea  value="#{patientMedicineManageBean.patientMedicationData.notes}"  cols="50" rows="5">
											<!-- <p:ajax update="notesEditor"></p:ajax> -->
								</p:inputTextarea>
							</td>
							
							
						</tr>
					</table >
					<br/>
					<table align="right">	
						<tr>
						
							<td align="right" colspan="4">
								<p:commandButton value="#{msg.done}" update="dabigratanMsgId"
						action="#{patientMedicineManageBean.addMedicine}" ></p:commandButton>
							</td>
						</tr>
	 	 	 		</table>
	 	 	 		</p:outputPanel>
						 
	 	 	   </p:tab>
			</p:wizard>	
			</td>
	 	 <td valign="top" align="right" width="8%">
	 	  <p:commandButton value="#{msg.cancel}" action="#{patientMedicineManageBean.duplicatesubmitCancelButtonforoverviewfilter}" immediate="true"
						></p:commandButton>	
	 	 </td>
	 	</tr>
	 </table>
		</h:form>	
	 </p:dialog>
	 </ui:composition>
	 </html>