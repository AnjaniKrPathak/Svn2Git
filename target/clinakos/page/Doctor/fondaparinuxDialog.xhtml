	<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:pe="http://primefaces.org/ui/extensions"
	xmlns:p="http://primefaces.org/ui" template="../templates/ui.xhtml">	

<ui:composition>
<p:dialog id="Fondaparinuxid" widgetVar="Fondaparinux"
								resizable="false"  appendTo="@(body)" modal="true"
				 				height="400" width="50%" dynamic="true" closable="false" position="bottom">
				 	<f:facet name="header">
      					<h:outputText id="FondaparinuxHeader" value="#{patientMedicineManageBean.patientMedicationData.drugs}" />
   					</f:facet>
		
		<h:form id="Fondaparinux">	
			 			
					 <table  width="100%" border="0"><tr><td width="92%" valign="top">
					 	 <p:wizard titleStyleClass="popupStepFont" flowListener="#{patientMedicineManageBean.onFlowProcessOfFondaparinux}">  
					 	 	
					 	 	 <p:tab id="step1" title="Step 1" titleStyleClass="popupStepFont">  
					 	 		<p:outputPanel>
				 	   <h:panelGrid columns="3">
							<h:outputText value="#{msg.diagnoses}" /><h:outputText value="*" styleClass="mandatoryField"/>	
							<p:selectOneMenu required="true" requiredMessage="Please select diagnosis"
							          value="#{patientMedicineManageBean.medActionPlan.diagnosis}" style="width:350px;">
							<f:selectItem itemLabel="Select One" itemValue="" />
							<!-- <f:selectItems value="#{patientMedicineManageBean.clinicDiagnosisList}" var="clinick" itemLabel="{clinick}" itemValue="{clinick}"/> -->
							<f:selectItems id="diagnosisListId"
								value="#{patientMedicineManageBean.clinicDiagnosisList}"
								var="clinick" itemLabel="#{clinick.diagnosisName}"
								itemValue="#{clinick.diagnosisName}" />
								
						<!-- <p:ajax
							listener="#{patientMedicineManageBean.changediagnosisForRivaroxaban}"
							></p:ajax> -->
						</p:selectOneMenu>
				
				 	</h:panelGrid>
				 </p:outputPanel>
	 	 	 		
	 	 				 </p:tab>
					 	 	
					 	 	 <p:tab id="step2" title="Step 2" titleStyleClass="popupStepFont">  
					 	  <p:outputPanel>	
					 	  <h:outputText value="#{msg.Cr_lab_message}" 
					 	  rendered="#{(patientMedicineManageBean.calculateCreatimineClearance.serumCreatinieValueInString eq '')}" style="color:#FF0000;margin:8px;" ></h:outputText>
	 	 			<table>
	 	 			<tr>
	 	 				 			<td >
	 	 				 				<h:outputText value="Diagnosis: " style="font-weight: bold"/>&nbsp;
	 	 				 				<h:outputText value="#{patientMedicineManageBean.medActionPlan.diagnosis}" />
	 	 				 			</td>
	 	 				 		</tr>
	 	 	 				</table>
					 	   
	 	 			<table>
	 	 	 			<tr>
		 	 	 			<td>
		 	 	 				<h:outputText value="Age" />
		 	 	 				<h:outputText value="*" styleClass="mandatoryField"/>
								    
							</td>
							
							<td colspan="2">
								<p:inputText value="#{patientMedicineManageBean.calculateCreatimineClearance.age}" />
							</td>
							
							<td>
		 	 	 				<h:outputText value=" Sex (M/F)" />
		 	 	 				<h:outputText value="*" styleClass="mandatoryField"/>
								    
							</td>
							
							<td>
								<!-- <p:selectOneMenu value="#{patientMedicineManageBean.calculateCreatimineClearance.gender}">
									   	<f:selectItem itemValue="M" itemLabel="Male" />
									   	<f:selectItem itemValue="F" itemLabel="Female" />
									   	
									</p:selectOneMenu> -->
									<p:inputText value="#{patientMedicineManageBean.calculateCreatimineClearance.gender}" />
							</td>
							
							
								  	
	 	 	 			</tr>
	 	 	 			
	 	 	 			<tr>
	 	 	 			
	 	 	 				<td>
		 	 	 				<h:outputText value="Serum Creatinine (mg/dl)" />
		 	 	 				<h:outputText value="*" styleClass="mandatoryField"/>
								    
							</td>
							
							<td colspan="2">
								<p:inputText id="fondaLabDateId" value="#{patientMedicineManageBean.calculateCreatimineClearance.serumCreatinieValueInString}" />
								<p:tooltip for="fondaLabDateId"  value="Done on #{patientMedicineManageBean.calculateCreatimineClearance.labDate}"></p:tooltip>
							</td>
							
		 	 	 			<td>
		 	 	 				<h:outputText value=" Height(Inch)" />
		 	 	 				<h:outputText value="*" styleClass="mandatoryField"/>
								    
							</td>
							
							<td>
								<p:inputText value="#{patientMedicineManageBean.calculateCreatimineClearance.height}" />
							</td>
							
							
						</tr>
						
						<tr>
							<td>
		 	 	 				<h:outputText value="Weight" />
		 	 	 				<h:outputText value="*" styleClass="mandatoryField"/>
								    
							</td>
							
							<td>
						        <p:inputText id="simpleWeight" style="width:50px;" value="#{patientMedicineManageBean.calculateCreatimineClearance.simpleWeight}" >
						        <p:ajax update="simpleWeight ,patWeight,patWeightUnit" listener="#{patientMedicineManageBean.changeWeightUnit}" process="@this,weightUnitId"></p:ajax>
						         </p:inputText>
						       </td>
       
       
						       <td> 
						        <p:selectOneMenu style="width:50px;" id="weightUnitId"
						           value="#{patientMedicineManageBean.calculateCreatimineClearance.findWeightUnit}">
						           
						           <f:selectItem itemLabel="Lbs" itemValue="Lbs" />
						           <f:selectItem itemLabel="Kg"  itemValue="Kg"/>
						          
						          
						        <p:ajax update="patWeight,patWeightUnit" listener="#{patientMedicineManageBean.changeWeightUnit}" process="@this,simpleWeight">
						        </p:ajax>
						       </p:selectOneMenu> </td> 
						       <td>
						    		<h:outputText style="width:50px; font-weight:bold; " id="patWeight" value="#{patientMedicineManageBean.calculateCreatimineClearance.weight}" />&nbsp;<h:outputText style="width:50px; font-weight:bold; " id="patWeightUnit" value="#{patientMedicineManageBean.calculateCreatimineClearance.weightUnit}" />
						       </td>
						</tr>
	 	 	 		</table>
	 	 	 		</p:outputPanel>
	 	 	 </p:tab>
	 	 	 
	 	 	 <p:tab id="Step3" title="Step 3" titleStyleClass="popupStepFont">  
	 	 	 		
	 	 	 		 <p:outputPanel>
	 	 	 		<!--    <h:panelGrid columns="2" border="3"> -->
	 	 	 		
	 	 	 		<table > 
	 	 			<tr>
	 	 				 			<td >
	 	 				 				<h:outputText value="Diagnosis: " style="font-weight: bold"/>&nbsp;
	 	 				 				
	 	 				 			</td>
	 	 				 			<td>
	 	 				 				<h:outputText value="#{patientMedicineManageBean.medActionPlan.diagnosis}" />
	 	 				 			</td>
	 	 				 		</tr>
	 	 				 	
	 	 				 		<tr>
									<td >
										<h:outputText value="Notes :" styleClass="popupStepFont"/>
									</td>
									<td >
										<h:outputText value="1. Contraindicated if CrCl &lt; 30 ml/min" />
									</td>
								</tr>
								<tr>
								<td >
								</td>
									<td>
										<h:outputText value="2. Not Recommended if CrCl 30-60 ml/min" />
									</td>
						</tr>
	 	 	 				</table>
	 	 	 		
	 	 	 			<table>
	 	 	 				<tr>
	 	 	 					<td >
		 	 	 				<h:outputText value="Estimated CrCl :" style="font-weight:bold;"/>
								    
							</td>
							
						<td>
							<p:outputPanel rendered="#{patientMedicineManageBean.calculateCreatimineClearance.calculateCreatimineClearanceValue gt 80}">
								<h:outputText value="#{patientMedicineManageBean.calculateCreatimineClearance.calculateCreatimineClearanceValue}" />
								<h:outputText value="(ml/min)" />
							</p:outputPanel>
							
							<p:outputPanel rendered="#{patientMedicineManageBean.calculateCreatimineClearance.calculateCreatimineClearanceValue ge 50 and 
							patientMedicineManageBean.calculateCreatimineClearance.calculateCreatimineClearanceValue le 80}" style="color:rgb(255,242,0);font-weight: bolder">
								<h:outputText value="#{patientMedicineManageBean.calculateCreatimineClearance.calculateCreatimineClearanceValue}" />
								<h:outputText value="(ml/min)" />
							</p:outputPanel>
							
							<p:outputPanel rendered="#{patientMedicineManageBean.calculateCreatimineClearance.calculateCreatimineClearanceValue ge 30 and 
							patientMedicineManageBean.calculateCreatimineClearance.calculateCreatimineClearanceValue le 50}" style="color:orange;">
								<h:outputText value="#{patientMedicineManageBean.calculateCreatimineClearance.calculateCreatimineClearanceValue}" />
								<h:outputText value="(ml/min)" />
							</p:outputPanel>
							
							<p:outputPanel rendered="#{patientMedicineManageBean.calculateCreatimineClearance.calculateCreatimineClearanceValue le 30}" style="color:red;">
								<h:outputText value="#{patientMedicineManageBean.calculateCreatimineClearance.calculateCreatimineClearanceValue}" />
								<h:outputText value="(ml/min)" />
							</p:outputPanel>
						</td>
	 	 	 					<td>
		 	 	 				<h:outputText value="Recommended Dose:" style="font-weight: bold" />
								    
							</td>
							
							<td>
								<h:outputText value="#{patientMedicineManageBean.patientMedicationData.recommendedDose}" 
								rendered="#{!(patientMedicineManageBean.patientMedicationData.recommendedDose eq 'Not recommended')}"/>
								<h:outputText value="#{patientMedicineManageBean.patientMedicationData.recommendedDose}"  style="color:red;"
								rendered="#{(patientMedicineManageBean.patientMedicationData.recommendedDose eq 'Not recommended')}"/>
		
							</td>
							
							</tr>
						</table>	
							
							
							<table>
	 	 	 					<tr>
							
							<td>
		 	 	 				<h:outputText value="Strength" /><h:outputText value="*" styleClass="mandatoryField"/>
							</td>
							
							<td><p:selectOneMenu required="true" requiredMessage="Please Select Strength"
										value="#{patientMedicineManageBean.patientMedicationData.strengths}"
										style="width:122px;">
										<!-- <f:selectItem
											itemLabel="#{patientMedicineManageBean.patientMedicationData.directions}"
											itemValue="#{patientMedicineManageBean.patientMedicationData.directions}" /> -->
										<f:selectItems value="#{patientMedicineManageBean.doseDetailList}"
											var="doseList" itemLabel="#{doseList.dose}" itemValue="#{doseList.dose}" />
									</p:selectOneMenu>
							
								<!-- <p:inputText value="#{patientMedicineManageBean.medActionPlan.dose}" /> -->
							</td>
							
							<td>
	 	 	 	 						<h:outputText value="Unit" /><h:outputText value="*" styleClass="mandatoryField"/>
	 	 	 	 				</td>
	 	 	 	 					<td>
				 	 	 	 			<p:selectOneMenu 
													value="#{patientMedicineManageBean.patientMedicationData.unit}" 
													style="width:122px;">
													
													<f:selectItems value="#{patientMedicineManageBean.unitSummaryList}"
														var="unitList" itemLabel="#{unitList.unit}" itemValue="#{unitList.unit}" />
														
													<p:ajax listener="#{patientMedicineManageBean.calculateTotalDispence}" update="dispenceNumber"></p:ajax>	

												</p:selectOneMenu>
	 	 	 	 					</td>
								  	
	 	 	 			</tr>
	 	 	 			
	 	 	 			
	 	 	 			<tr>
	 	 	 				
	 	 	 	 					
	 	 	 	 					<td>
	 	 	 	 							<h:outputText value="Dosage form" /><h:outputText value="*" styleClass="mandatoryField"/>
	 	 	 	 						</td>
	 	 	 	 						
	 	 	 	 						<td>
	 	 	 	 						
	 	 	 	 							<!-- <p:selectOneMenu required="true" 
										value="#{patientMedicineManageBean.patientMedicationData.dosageForm}"
										style="width:122px;">
										<f:selectItem itemLabel="#{patientMedicineManageBean.patientMedicationData.dosageForm}" itemValue="#{patientMedicineManageBean.patientMedicationData.dosageForm}" />
	 	 	 	 						
	 	 	 	 								
													
														<f:selectItems value="#{patientMedicineManageBean.unitDetailsList}"
															var="unitList" itemLabel="#{unitList.unitName}" itemValue="#{unitList.unitName}" />
											</p:selectOneMenu> -->
									
									<p:inputText  value="#{patientMedicineManageBean.patientMedicationData.dosageForm}" readonly="true"></p:inputText>	
								
	 	 	 	 						</td>
	 	 	 	 						
	 	 	 	 						<td>
	 	 	 	 					<h:outputText value="Route" /><h:outputText value="*" styleClass="mandatoryField"/>
	 	 	 	 				</td>
	 	 	 	 			<td>
	 	 	 	 					<!-- <p:selectOneMenu required="true" 
										value="#{patientMedicineManageBean.patientMedicationData.byRoute}"
										style="width:122px;">
									<f:selectItem itemLabel="#{patientMedicineManageBean.patientMedicationData.byRoute}" itemValue="#{patientMedicineManageBean.patientMedicationData.byRoute}" />
										<f:selectItems value="#{patientMedicineManageBean.routeDetailsList}"
											var="routeDetailList" itemLabel="#{routeDetailList.routeName}" itemValue="#{routeDetailList.routeName}" />
										
									</p:selectOneMenu> -->
									
									<p:inputText  value="#{patientMedicineManageBean.patientMedicationData.byRoute}" readonly="true"></p:inputText>
	 	 	 	 			</td>
	 	 	 					</tr>
	 	 	 					
	 	 	 					
	 	 	 						
	 	 	 	 					<!-- 	<td>
	 	 	 	 							<h:outputText value="Package" /><h:outputText value="*" styleClass="mandatoryField"/>
	 	 	 	 					</td>
	 	 	 	 				<td>
	 	 	 	 					
	 	 	 	 					<p:selectOneMenu required="true" 
														value="#{patientMedicineManageBean.patientMedicationData.unitDetail}"
														style="width:122px;">
														
										<f:selectItems value="#{patientMedicineManageBean.dosageDetailsList}"
											var="dosageDetailList" itemLabel="#{dosageDetailList.dosageFrom}" itemValue="#{dosageDetailList.dosageFrom}" />
										
									
										</p:selectOneMenu>
	 	 	 	 					</td> -->
	 	 	 	 					
	 	 	 	 					
	 	 	 					
	 	 	 					
	 	 	 					<tr>
	 	 	 						<td>
	 	 	 	 					<h:outputText value="Regimen" /><h:outputText value="*" styleClass="mandatoryField"/>
	 	 	 	 			</td>
	 	 	 	 		
	 	 	 	 		<td>
	 	 	 	 				<p:selectOneMenu required="true" requiredMessage="Please Select Regimen"
										value="#{patientMedicineManageBean.patientMedicationData.directions}"
										style="width:140px;">
										<f:selectItem
											itemLabel=""
											itemValue="" />
										<f:selectItems value="#{patientMedicineManageBean.regimenList}"
											var="regimen" itemLabel="#{regimen}" itemValue="#{regimen}" />
											
											<p:ajax listener="#{patientMedicineManageBean.calculateTotalDispence}" update="dispenceNumber"></p:ajax>	
									</p:selectOneMenu>
	 	 	 	 		</td>
	 	 	 	 		
	 	 	 	 		<td>
	 	 	  							<h:outputText value="Dispense" /><h:outputText value="*" styleClass="mandatoryField"/>
	 	 	  						</td>
	 	 	  						
									<td>
										<p:inputText id="dispenceNumber" style="width:50px;" converter="#{Integer}" maxlength="3" 
													value="#{patientMedicineManageBean.patientMedicationData.quantity}" >
											<f:convertNumber  pattern="#0" integerOnly="true"  minFractionDigits="3" maxIntegerDigits="3" type="number"/>
										</p:inputText>
									</td>
	 	 	 					</tr>
	 	 	 					
	 	 	 					<tr>
	 	 	 						<td>
					 	 	  			<h:outputText value="Days Supply" />
					 	 	  		</td>
									<td>
											<!-- <p:inputText style="width:50px;" required="true" 
														value="#{patientMedicineManageBean.patientMedicationData.daySupply}" /> -->
														
										<p:selectOneMenu 
													value="#{patientMedicineManageBean.patientMedicationData.daySupply}"
													style="width:80px;">
														<!-- <f:selectItem itemValue="#{patientMedicineManageBean.patientMedicationData.daySupply}" 
													itemLabel="#{patientMedicineManageBean.patientMedicationData.daySupply}"></f:selectItem> -->
													<f:selectItems value="#{patientMedicineManageBean.daySupplyList}"
														var="daySupplyDetailList" itemLabel="#{daySupplyDetailList}" itemValue="#{daySupplyDetailList}" />
												
												<p:ajax listener="#{patientMedicineManageBean.calculateTotalDispence}" update="dispenceNumber"></p:ajax>		
										</p:selectOneMenu>
								</td>
								
								<td>
	 	 	  						<h:outputText value="Refill"/>
	 	 	  					</td>
	 	 	  					
								<td>
									
												<!-- 	<p:inputText required="true" requiredMessage="Please insert reffils" maxlength="2" 
										 value="#{patientMedicineManageBean.patientMedicationData.reffils}" style="width:50px;">
										 
										 <pe:keyFilter mask="num"></pe:keyFilter>
									</p:inputText> -->
							
									<p:selectOneMenu required="true" 
											value="#{patientMedicineManageBean.patientMedicationData.reffils}"
											style="width:60px;">
											
											<f:selectItems value="#{patientMedicineManageBean.refillDetailsList}"
												var="refillList" itemLabel="#{refillList}" itemValue="#{refillList}" />
											
										</p:selectOneMenu>
								</td>
						
								
	 	 	 					</tr>
	 	 	 			
						</table>
						
						<table>
						<tr>
	 	 	 			
	 	 	 				
							
		 	 	 			<td>
		 	 	 				<h:outputText value="Comments" />
								    
							</td>
							
							<td>
								<!-- <p:inputText value="#{patientMedicineManageBean.patientMedicationData.notes}" /> -->
								<p:inputTextarea  value="#{patientMedicineManageBean.patientMedicationData.notes}"  cols="50" rows="5">
											<!-- <p:ajax update="notesEditor"></p:ajax> -->
								</p:inputTextarea>
							</td>
							
							
						</tr>
					</table >
	 	 	 		</p:outputPanel>
						 
	 	 	   </p:tab>
	 	 	   
	 	 	   <p:tab id="step4" title="Step 4" titleStyleClass="popupStepFont">  
					 <p:outputPanel>
					  <table > 
	 	 			<tr>
	 	 				 			<td >
	 	 				 				<h:outputText value="Diagnosis: " style="font-weight: bold"/>&nbsp;
	 	 				 				<h:outputText value="#{patientMedicineManageBean.medActionPlan.diagnosis}" />&nbsp;&nbsp;
	 	 				 				<h:outputText value="Dose Prescribed: " style="font-weight: bold"/>&nbsp;
	 	 				 				<!-- <h:outputText value="#{patientMedicineManageBean.medActionPlan.dose}" /> -->
	 	 				 				<h:outputText value="#{patientMedicineManageBean.patientMedicationData.strengths}" />
	 	 				 			</td>
	 	 				 		</tr>
	 	 	 				</table>
					 
					<table border="1" >
								<tr bgcolor="#EBB981" style="font-family: verdana; font-weight: bold;">
								
								<td colspan="2"><h:outputText value="Long Term Monitoring Guidelines FOR FONDAPARINUX" /></td>
								
								</tr>
								
								<tr>
									<td>
											<h:outputText value="Patient weight" />
										</td><td>
											<h:outputText value="q1-3 months and adjust fondaparinux dose if needed" /></td>
											
								</tr>
								
								<tr>
									
									<td>
											<h:outputText  value="Platelet count" />
											</td><td>
											<h:outputText value="q1-3 months and PRN if bleeding is suspected or confirmed, or if thrombocytopenia is suspected or confirmed, and hold dosing as needed)" /></td>
											
								</tr>
								
								<tr>
									
									<td>
											<h:outputText  value="Hematocrit" />
											</td><td>
											<h:outputText value="q1-3 months and PRN if bleeding is suspected or confirmed, or if thrombocytopenia is suspected or confirmed, and hold dosing as needed)" /></td>
											
								</tr>
								
								<tr>
									
									<td>
											<h:outputText  value="Serum creatinine" />
											</td><td>
											<h:outputText value="q1-3 months (and PRN if change in renal function is suspected or if bleeding is suspected or confirmed, and hold dosing as needed)" /></td>
											
								</tr>
								
								
				 	  
						</table>
						
						<table>
							<tr>
								<td valign="top">
									<h:outputText  value="Lab :" styleClass="popupStepFont" />
								</td>
								<td>
								<p:dataTable value="#{patientMedicineManageBean.labDetailList}" var="labDetail" emptyMessage="#{msg.noMedFound}">
										
										<p:column>
											<f:facet name="header">
												<h:outputText value="Select" />
											</f:facet>
											<p:selectBooleanCheckbox value="#{labDetail.selected}" />  
										</p:column>
										
										<p:column>
											<f:facet name="header">
												<h:outputText value="Lab Name" />
											</f:facet>
											<h:outputText value="#{labDetail.labName}" />
										</p:column>
										
										<p:column>
											<f:facet name="header">
												<h:outputText value="Lab Frequency" />
											</f:facet>
											<p:selectOneMenu value="#{labDetail.labfrequencyDetail}" style="width:90px;">
															<!-- <f:selectItem
																itemLabel="#{patientMedicineManageBean.medActionPlan.labFrequency}"
																itemValue="#{patientMedicineManageBean.medActionPlan.labFrequency}" /> -->
															<f:selectItems
																value="#{patientMedicineManageBean.lMWHFrequencyList}"
																var="labFreq" itemLabel="#{labFreq}" itemValue="#{labFreq}" />
												</p:selectOneMenu>
										</p:column>
																	
									
									</p:dataTable>
									
						</td>
						</tr>
						</table>
						<table width="100%">
						 <tr align="right">
						
							<td align="right">
								<p:commandButton value="#{msg.done}"
						action="#{patientMedicineManageBean.addMedicine}"></p:commandButton>
							</td>
						</tr>
						</table>
				 </p:outputPanel>
	 	 	 		
	 	 				 </p:tab>
			</p:wizard>	
			</td>
	 	 <td valign="top" align="right" width="8%">
	 	  <p:commandButton value="#{msg.cancel}" action="#{patientMedicineManageBean.duplicatesubmitCancelButtonforoverviewfilter}" immediate="true"
						></p:commandButton>	
	 	 </td>
	 	</tr>
	 </table>
		</h:form>	
	
	</p:dialog> 
	</ui:composition>
	</html>			