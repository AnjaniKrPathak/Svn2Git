<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui" template="../templates/ui.xhtml">

<h:body>

	<f:view contentType="text/html">
		<h:head>
			<f:facet name="first">
				<meta http-equiv="X-UA-Compatible" content="EmulateIE8" />
				<meta content='text/html; charset=UTF-8' http-equiv="Content-Type" />
				<title><h:outputText value="#{msg.clinakos}" /></title>
			</f:facet>
			<link type="text/css" rel="stylesheet" href="../../CSS/style.css" />
			<link type="text/css" rel="stylesheet" href="tabmenu/subModal.css" />
		    <script src="tabmenu/common.js" type="text/javascript"></script>
			<script language="javascript" src="../js/basicMethod.js"></script>
		
			<script type="text/javascript" language="javascript">
			$(document).ready(function() {
		        noBack();
		   });

		   function noBack() {
			   window.location.hash="no-back-button";
				window.location.hash="Again-No-back-button";//again because google chrome don't insert first hash into history
				window.onhashchange=function(){window.location.hash="";} 
		       }
		   
		   function showDeviceResult(xhr, status, args){
			   
		   }

		     
</script>
		</h:head>

		<p:layout fullPage="true">

			<!-- >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> DOCTOR HEADER >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>  -->
			<p:layoutUnit position="north" collapsible="true" size="85"
				minSize="60">

				<ui:include src="../Doctor/doctorheader2.xhtml">
				</ui:include>
			</p:layoutUnit>
			<!-- >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> BOTTOM INCLUDE >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>  -->

			<p:layoutUnit id="bottom" position="south" size="24">

				<ui:include src="../core/footer.xhtml"></ui:include>

			</p:layoutUnit>

			<!-- >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> LEFT INCLUDE >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>  -->

			<p:layoutUnit id="left" position="west" size="0" closable="false"
				collapsible="true" minSize="0" style="border:none;">
				<ui:include src="doctor_profile_leftmenu.xhtml">
				</ui:include>
			</p:layoutUnit>



			<!-- >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> CENTER LAYOUT >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>  -->

			<p:layoutUnit position="center">
			<h:form prependId="false">
			<h:inputHidden value="#{batchDevicesBean.initTab}" ></h:inputHidden>
					<p:tabView value="#{batchDevicesBean.vTabList}" var="tabName" dynamic="true" cache="true" id="tabViewId">
					<p:ajax  event="tabChange" listener="#{batchDevicesBean.onTabChange}" update="tabViewId"></p:ajax>
					<p:tab title="#{tabName.tabLabel}" >
					<p:dataTable value="#{batchDevicesBean.validicUsers}"
									var="vFitnessUserObj" id="usersDataId"
									scrollRows="5" emptyMessage="#{msg.noMedFound}"
									paginator="true"
									paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
									rowsPerPageTemplate="25,50,100"
									selection="#{batchDevicesBean.selectedUsers}" rowKey="#{vFitnessUserObj.clinakosUserId}"
									>
					 <p:column selectionMode="multiple" style="width:16px;text-align:center"/>
							<p:column headerText="Name ">
							<h:outputText value="#{vFitnessUserObj.firstName} #{vFitnessUserObj.lastName}"></h:outputText>
							</p:column>
							<p:column headerText="Apps Connected">
							<p:dataList value ="#{vFitnessUserObj.appSource}" var="appName">
							#{appName}
							</p:dataList>
							</p:column>
					
					 <f:facet name="header">
            <p:commandButton process="usersDataId"  value="Sync #{tabName.tabLabel} data" actionListener="#{batchDevicesBean.batchRefreshAPI}"  style="float:right">
           <f:param name="tabNo" value="#{tabName.tabNumber}"></f:param>
            </p:commandButton>
        </f:facet>
				
					
					</p:dataTable>
					</p:tab>
					</p:tabView>
					
				
</h:form>
	<p:dialog id="deviceResultDialogId"
					widgetVar="devicesResultVar" 
					resizable="true"  modal="true" dynamic="true"
					closable="false" draggable="true"  height="300px" appendTo="@(body)">
					 <p:ajax event="close" update="deviceResultDialogId" />
					 
					 
					 </p:dialog>

			</p:layoutUnit>
		
		       
		
		

			
			<!-- >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> CENTER LAYOUT ENDS  >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>  -->
		</p:layout>
	</f:view>
</h:body>
</html>

