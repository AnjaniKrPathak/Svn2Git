<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui" template="../templates/ui.xhtml">

<h:body>

	<f:view contentType="text/html">
		<h:head>
			<f:facet name="first">
				<meta http-equiv="X-UA-Compatible" content="EmulateIE8" />
				<meta content='text/html; charset=UTF-8' http-equiv="Content-Type" />
				<title><h:outputText value="#{msg.clinakos}" /></title>
			</f:facet>
			<link type="text/css" rel="stylesheet" href="../../CSS/style.css" />
			<script language="javascript" src="../js/basicMethod.js"></script>
		</h:head>

		<p:layout fullPage="true">

			<!-- >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> DOCTOR HEADER >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>  -->
			<p:layoutUnit position="north" size="85" minSize="60">
				<ui:include src="patientHeader.xhtml" />
			</p:layoutUnit>

			<!-- >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> BOTTOM INCLUDE >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>  -->

			<p:layoutUnit id="bottom" position="south" size="24">
				<h:form>
					<ui:include src="../core/footer.xhtml"></ui:include>
				</h:form>
			</p:layoutUnit>

			<!-- >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> LEFT INCLUDE >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>  -->

			<p:layoutUnit id="left" position="west" size="0" closable="false"
				collapsible="true" minSize="0" style="border:none;">
				<ui:include src="myformulary_leftmenu.xhtml">
				</ui:include>
			</p:layoutUnit>

			<!-- >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> CENTER LAYOUT >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>  -->

			<p:layoutUnit position="center">

				<h:form>
					<table width="100%">
						<tr>
							<td colspan="2"><p:dataTable
									emptyMessage="#{msg.nodataavailable}"
									value="#{patientMedicineManageBean.fetchMyForumlaryMedList}"
									var="formmedList" paginator="false"
									selection="#{patientMedicineManageBean.selectedFDetel}"
									rowKey="#{formmedList.id}"
									scrollable="true" scrollHeight="150">
									
									<f:facet name="Header"></f:facet>
									<p:column selectionMode="multiple"  />
									<p:column headerText="Current Drug">
										<div align="left">
										<h:outputText value="#{formmedList.medicineName}" /></div>
									</p:column>
									<p:column headerText="Is It on the Formulary?">
										<div align="left">
										<h:outputText value="#{formmedList.isFormulary}" /></div>
									</p:column>
									<p:column headerText="Formulary Tier">
										<div align="left">
										<h:outputText value="#{formmedList.formulayTier}" /></div>
									</p:column>
									<p:column headerText="Patient Co-Pay">
										<div align="left">
										<h:outputText value="#{formmedList.patientCopay}" /></div>
									</p:column>
									<f:facet name="footer" style="align:left">
										<table width="100%">
											<tr style="border: 0px; border-color: transparent;">
												<td align="left"><h:outputText value="Other Medicine:"
														 />&nbsp; <p:inputText
														value="#{patientMedicineManageBean.otherMed}" /></td>
											</tr>
										</table>
									</f:facet>
								</p:dataTable></td>
						</tr>
						<tr>
							<td align="right" colspan="2">
							<p:commandButton
									value="#{msg.optimize}"
									actionListener="#{patientMedicineManageBean.optimizeDrugPrice}" update="updateOptimizeDrugstableForPatient"
									></p:commandButton></td>
						</tr>
						<tr>
							<td colspan="2">
							<p:outputPanel id="updateOptimizeDrugstableForPatient">  
							<p:dataTable paginator="true" rows="10" id="optimizeDrugstableIDForPatient"
									value="#{patientMedicineManageBean.optimizeDPList}"
									var="myForm" emptyMessage="#{msg.nodataavailable}"
									rendered="#{patientMedicineManageBean.showOptimizer}"
									scrollable="true" scrollHeight="150">
									<p:column headerText="Original Drug">
										<p:outputLabel value="#{myForm.medicineName}"></p:outputLabel>
									</p:column>
									<p:column headerText="Patient Co-Pay">
										<p:outputLabel value="#{myForm.patientCopay}"></p:outputLabel>
									</p:column>
									<p:column headerText="Alternative Medicine">
										<p:outputLabel value="#{myForm.alternateMedicine}"></p:outputLabel>
									</p:column>
									<p:column headerText="Saving">
										<p:outputLabel value="#{myForm.saving}"></p:outputLabel>
									</p:column>
								</p:dataTable>
								</p:outputPanel>
								</td>
						</tr>
					</table>
				</h:form>
			</p:layoutUnit>

			<!-- >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> CENTER LAYOUT ENDS  >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>  -->

		</p:layout>

	</f:view>

</h:body>
</html>
